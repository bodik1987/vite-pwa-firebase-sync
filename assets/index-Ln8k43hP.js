(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();var za={exports:{}},Ni={},Ua={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kf;function T_(){if(Kf)return q;Kf=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),w=Symbol.iterator;function k(E){return E===null||typeof E!="object"?null:(E=w&&E[w]||E["@@iterator"],typeof E=="function"?E:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,H={};function K(E,x,Y){this.props=E,this.context=x,this.refs=H,this.updater=Y||A}K.prototype.isReactComponent={},K.prototype.setState=function(E,x){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,x,"setState")},K.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function We(){}We.prototype=K.prototype;function Ge(E,x,Y){this.props=E,this.context=x,this.refs=H,this.updater=Y||A}var Qe=Ge.prototype=new We;Qe.constructor=Ge,F(Qe,K.prototype),Qe.isPureReactComponent=!0;var De=Array.isArray,St=Object.prototype.hasOwnProperty,Ke={current:null},Je={key:!0,ref:!0,__self:!0,__source:!0};function mt(E,x,Y){var J,ne={},re=null,ce=null;if(x!=null)for(J in x.ref!==void 0&&(ce=x.ref),x.key!==void 0&&(re=""+x.key),x)St.call(x,J)&&!Je.hasOwnProperty(J)&&(ne[J]=x[J]);var le=arguments.length-2;if(le===1)ne.children=Y;else if(1<le){for(var _e=Array(le),ct=0;ct<le;ct++)_e[ct]=arguments[ct+2];ne.children=_e}if(E&&E.defaultProps)for(J in le=E.defaultProps,le)ne[J]===void 0&&(ne[J]=le[J]);return{$$typeof:i,type:E,key:re,ref:ce,props:ne,_owner:Ke.current}}function on(E,x){return{$$typeof:i,type:E.type,key:x,ref:E.ref,props:E.props,_owner:E._owner}}function bt(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function An(E){var x={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Y){return x[Y]})}var Ft=/\/+/g;function ut(E,x){return typeof E=="object"&&E!==null&&E.key!=null?An(""+E.key):x.toString(36)}function kt(E,x,Y,J,ne){var re=typeof E;(re==="undefined"||re==="boolean")&&(E=null);var ce=!1;if(E===null)ce=!0;else switch(re){case"string":case"number":ce=!0;break;case"object":switch(E.$$typeof){case i:case t:ce=!0}}if(ce)return ce=E,ne=ne(ce),E=J===""?"."+ut(ce,0):J,De(ne)?(Y="",E!=null&&(Y=E.replace(Ft,"$&/")+"/"),kt(ne,x,Y,"",function(ct){return ct})):ne!=null&&(bt(ne)&&(ne=on(ne,Y+(!ne.key||ce&&ce.key===ne.key?"":(""+ne.key).replace(Ft,"$&/")+"/")+E)),x.push(ne)),1;if(ce=0,J=J===""?".":J+":",De(E))for(var le=0;le<E.length;le++){re=E[le];var _e=J+ut(re,le);ce+=kt(re,x,Y,_e,ne)}else if(_e=k(E),typeof _e=="function")for(E=_e.call(E),le=0;!(re=E.next()).done;)re=re.value,_e=J+ut(re,le++),ce+=kt(re,x,Y,_e,ne);else if(re==="object")throw x=String(E),Error("Objects are not valid as a React child (found: "+(x==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":x)+"). If you meant to render a collection of children, use an array instead.");return ce}function zt(E,x,Y){if(E==null)return E;var J=[],ne=0;return kt(E,J,"","",function(re){return x.call(Y,re,ne++)}),J}function Ze(E){if(E._status===-1){var x=E._result;x=x(),x.then(function(Y){(E._status===0||E._status===-1)&&(E._status=1,E._result=Y)},function(Y){(E._status===0||E._status===-1)&&(E._status=2,E._result=Y)}),E._status===-1&&(E._status=0,E._result=x)}if(E._status===1)return E._result.default;throw E._result}var Ee={current:null},M={transition:null},$={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:M,ReactCurrentOwner:Ke};function U(){throw Error("act(...) is not supported in production builds of React.")}return q.Children={map:zt,forEach:function(E,x,Y){zt(E,function(){x.apply(this,arguments)},Y)},count:function(E){var x=0;return zt(E,function(){x++}),x},toArray:function(E){return zt(E,function(x){return x})||[]},only:function(E){if(!bt(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},q.Component=K,q.Fragment=r,q.Profiler=a,q.PureComponent=Ge,q.StrictMode=o,q.Suspense=m,q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,q.act=U,q.cloneElement=function(E,x,Y){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var J=F({},E.props),ne=E.key,re=E.ref,ce=E._owner;if(x!=null){if(x.ref!==void 0&&(re=x.ref,ce=Ke.current),x.key!==void 0&&(ne=""+x.key),E.type&&E.type.defaultProps)var le=E.type.defaultProps;for(_e in x)St.call(x,_e)&&!Je.hasOwnProperty(_e)&&(J[_e]=x[_e]===void 0&&le!==void 0?le[_e]:x[_e])}var _e=arguments.length-2;if(_e===1)J.children=Y;else if(1<_e){le=Array(_e);for(var ct=0;ct<_e;ct++)le[ct]=arguments[ct+2];J.children=le}return{$$typeof:i,type:E.type,key:ne,ref:re,props:J,_owner:ce}},q.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:c,_context:E},E.Consumer=E},q.createElement=mt,q.createFactory=function(E){var x=mt.bind(null,E);return x.type=E,x},q.createRef=function(){return{current:null}},q.forwardRef=function(E){return{$$typeof:p,render:E}},q.isValidElement=bt,q.lazy=function(E){return{$$typeof:C,_payload:{_status:-1,_result:E},_init:Ze}},q.memo=function(E,x){return{$$typeof:g,type:E,compare:x===void 0?null:x}},q.startTransition=function(E){var x=M.transition;M.transition={};try{E()}finally{M.transition=x}},q.unstable_act=U,q.useCallback=function(E,x){return Ee.current.useCallback(E,x)},q.useContext=function(E){return Ee.current.useContext(E)},q.useDebugValue=function(){},q.useDeferredValue=function(E){return Ee.current.useDeferredValue(E)},q.useEffect=function(E,x){return Ee.current.useEffect(E,x)},q.useId=function(){return Ee.current.useId()},q.useImperativeHandle=function(E,x,Y){return Ee.current.useImperativeHandle(E,x,Y)},q.useInsertionEffect=function(E,x){return Ee.current.useInsertionEffect(E,x)},q.useLayoutEffect=function(E,x){return Ee.current.useLayoutEffect(E,x)},q.useMemo=function(E,x){return Ee.current.useMemo(E,x)},q.useReducer=function(E,x,Y){return Ee.current.useReducer(E,x,Y)},q.useRef=function(E){return Ee.current.useRef(E)},q.useState=function(E){return Ee.current.useState(E)},q.useSyncExternalStore=function(E,x,Y){return Ee.current.useSyncExternalStore(E,x,Y)},q.useTransition=function(){return Ee.current.useTransition()},q.version="18.3.1",q}var Yf;function vu(){return Yf||(Yf=1,Ua.exports=T_()),Ua.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf;function N_(){if(qf)return Ni;qf=1;var i=vu(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(p,m,g){var C,w={},k=null,A=null;g!==void 0&&(k=""+g),m.key!==void 0&&(k=""+m.key),m.ref!==void 0&&(A=m.ref);for(C in m)o.call(m,C)&&!c.hasOwnProperty(C)&&(w[C]=m[C]);if(p&&p.defaultProps)for(C in m=p.defaultProps,m)w[C]===void 0&&(w[C]=m[C]);return{$$typeof:t,type:p,key:k,ref:A,props:w,_owner:a.current}}return Ni.Fragment=r,Ni.jsx=f,Ni.jsxs=f,Ni}var Xf;function x_(){return Xf||(Xf=1,za.exports=N_()),za.exports}var oe=x_(),ho={},Ba={exports:{}},st={},Wa={exports:{}},ja={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jf;function R_(){return Jf||(Jf=1,function(i){function t(M,$){var U=M.length;M.push($);e:for(;0<U;){var E=U-1>>>1,x=M[E];if(0<a(x,$))M[E]=$,M[U]=x,U=E;else break e}}function r(M){return M.length===0?null:M[0]}function o(M){if(M.length===0)return null;var $=M[0],U=M.pop();if(U!==$){M[0]=U;e:for(var E=0,x=M.length,Y=x>>>1;E<Y;){var J=2*(E+1)-1,ne=M[J],re=J+1,ce=M[re];if(0>a(ne,U))re<x&&0>a(ce,ne)?(M[E]=ce,M[re]=U,E=re):(M[E]=ne,M[J]=U,E=J);else if(re<x&&0>a(ce,U))M[E]=ce,M[re]=U,E=re;else break e}}return $}function a(M,$){var U=M.sortIndex-$.sortIndex;return U!==0?U:M.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var m=[],g=[],C=1,w=null,k=3,A=!1,F=!1,H=!1,K=typeof setTimeout=="function"?setTimeout:null,We=typeof clearTimeout=="function"?clearTimeout:null,Ge=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Qe(M){for(var $=r(g);$!==null;){if($.callback===null)o(g);else if($.startTime<=M)o(g),$.sortIndex=$.expirationTime,t(m,$);else break;$=r(g)}}function De(M){if(H=!1,Qe(M),!F)if(r(m)!==null)F=!0,Ze(St);else{var $=r(g);$!==null&&Ee(De,$.startTime-M)}}function St(M,$){F=!1,H&&(H=!1,We(mt),mt=-1),A=!0;var U=k;try{for(Qe($),w=r(m);w!==null&&(!(w.expirationTime>$)||M&&!An());){var E=w.callback;if(typeof E=="function"){w.callback=null,k=w.priorityLevel;var x=E(w.expirationTime<=$);$=i.unstable_now(),typeof x=="function"?w.callback=x:w===r(m)&&o(m),Qe($)}else o(m);w=r(m)}if(w!==null)var Y=!0;else{var J=r(g);J!==null&&Ee(De,J.startTime-$),Y=!1}return Y}finally{w=null,k=U,A=!1}}var Ke=!1,Je=null,mt=-1,on=5,bt=-1;function An(){return!(i.unstable_now()-bt<on)}function Ft(){if(Je!==null){var M=i.unstable_now();bt=M;var $=!0;try{$=Je(!0,M)}finally{$?ut():(Ke=!1,Je=null)}}else Ke=!1}var ut;if(typeof Ge=="function")ut=function(){Ge(Ft)};else if(typeof MessageChannel<"u"){var kt=new MessageChannel,zt=kt.port2;kt.port1.onmessage=Ft,ut=function(){zt.postMessage(null)}}else ut=function(){K(Ft,0)};function Ze(M){Je=M,Ke||(Ke=!0,ut())}function Ee(M,$){mt=K(function(){M(i.unstable_now())},$)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(M){M.callback=null},i.unstable_continueExecution=function(){F||A||(F=!0,Ze(St))},i.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):on=0<M?Math.floor(1e3/M):5},i.unstable_getCurrentPriorityLevel=function(){return k},i.unstable_getFirstCallbackNode=function(){return r(m)},i.unstable_next=function(M){switch(k){case 1:case 2:case 3:var $=3;break;default:$=k}var U=k;k=$;try{return M()}finally{k=U}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(M,$){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=k;k=M;try{return $()}finally{k=U}},i.unstable_scheduleCallback=function(M,$,U){var E=i.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?E+U:E):U=E,M){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=U+x,M={id:C++,callback:$,priorityLevel:M,startTime:U,expirationTime:x,sortIndex:-1},U>E?(M.sortIndex=U,t(g,M),r(m)===null&&M===r(g)&&(H?(We(mt),mt=-1):H=!0,Ee(De,U-E))):(M.sortIndex=x,t(m,M),F||A||(F=!0,Ze(St))),M},i.unstable_shouldYield=An,i.unstable_wrapCallback=function(M){var $=k;return function(){var U=k;k=$;try{return M.apply(this,arguments)}finally{k=U}}}}(ja)),ja}var Zf;function P_(){return Zf||(Zf=1,Wa.exports=R_()),Wa.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh;function D_(){if(eh)return st;eh=1;var i=vu(),t=P_();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,n){f(e,n),f(e+"Capture",n)}function f(e,n){for(a[e]=n,e=0;e<n.length;e++)o.add(n[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C={},w={};function k(e){return m.call(w,e)?!0:m.call(C,e)?!1:g.test(e)?w[e]=!0:(C[e]=!0,!1)}function A(e,n,s,l){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function F(e,n,s,l){if(n===null||typeof n>"u"||A(e,n,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function H(e,n,s,l,u,d,h){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=u,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=h}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){K[e]=new H(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];K[n]=new H(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){K[e]=new H(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){K[e]=new H(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){K[e]=new H(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){K[e]=new H(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){K[e]=new H(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){K[e]=new H(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){K[e]=new H(e,5,!1,e.toLowerCase(),null,!1,!1)});var We=/[\-:]([a-z])/g;function Ge(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(We,Ge);K[n]=new H(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(We,Ge);K[n]=new H(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(We,Ge);K[n]=new H(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){K[e]=new H(e,1,!1,e.toLowerCase(),null,!1,!1)}),K.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){K[e]=new H(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qe(e,n,s,l){var u=K.hasOwnProperty(n)?K[n]:null;(u!==null?u.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(F(n,s,u,l)&&(s=null),l||u===null?k(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):u.mustUseProperty?e[u.propertyName]=s===null?u.type===3?!1:"":s:(n=u.attributeName,l=u.attributeNamespace,s===null?e.removeAttribute(n):(u=u.type,s=u===3||u===4&&s===!0?"":""+s,l?e.setAttributeNS(l,n,s):e.setAttribute(n,s))))}var De=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,St=Symbol.for("react.element"),Ke=Symbol.for("react.portal"),Je=Symbol.for("react.fragment"),mt=Symbol.for("react.strict_mode"),on=Symbol.for("react.profiler"),bt=Symbol.for("react.provider"),An=Symbol.for("react.context"),Ft=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),zt=Symbol.for("react.memo"),Ze=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),M=Symbol.iterator;function $(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var U=Object.assign,E;function x(e){if(E===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);E=n&&n[1]||""}return`
`+E+e}var Y=!1;function J(e,n){if(!e||Y)return"";Y=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(T){var l=T}Reflect.construct(e,[],n)}else{try{n.call()}catch(T){l=T}e.call(n.prototype)}else{try{throw Error()}catch(T){l=T}e()}}catch(T){if(T&&l&&typeof T.stack=="string"){for(var u=T.stack.split(`
`),d=l.stack.split(`
`),h=u.length-1,_=d.length-1;1<=h&&0<=_&&u[h]!==d[_];)_--;for(;1<=h&&0<=_;h--,_--)if(u[h]!==d[_]){if(h!==1||_!==1)do if(h--,_--,0>_||u[h]!==d[_]){var v=`
`+u[h].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=h&&0<=_);break}}}finally{Y=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?x(e):""}function ne(e){switch(e.tag){case 5:return x(e.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 2:case 15:return e=J(e.type,!1),e;case 11:return e=J(e.type.render,!1),e;case 1:return e=J(e.type,!0),e;default:return""}}function re(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Je:return"Fragment";case Ke:return"Portal";case on:return"Profiler";case mt:return"StrictMode";case ut:return"Suspense";case kt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case An:return(e.displayName||"Context")+".Consumer";case bt:return(e._context.displayName||"Context")+".Provider";case Ft:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zt:return n=e.displayName||null,n!==null?n:re(e.type)||"Memo";case Ze:n=e._payload,e=e._init;try{return re(e(n))}catch{}}return null}function ce(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(n);case 8:return n===mt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function le(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _e(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ct(e){var n=_e(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(h){l=""+h,d.call(this,h)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(h){l=""+h},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ns(e){e._valueTracker||(e._valueTracker=ct(e))}function Zu(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=_e(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function rs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bo(e,n){var s=n.checked;return U({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function ec(e,n){var s=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;s=le(n.value!=null?n.value:s),e._wrapperState={initialChecked:l,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function tc(e,n){n=n.checked,n!=null&&Qe(e,"checked",n,!1)}function $o(e,n){tc(e,n);var s=le(n.value),l=n.type;if(s!=null)l==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Go(e,n.type,s):n.hasOwnProperty("defaultValue")&&Go(e,n.type,le(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function nc(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Go(e,n,s){(n!=="number"||rs(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Hr=Array.isArray;function tr(e,n,s,l){if(e=e.options,n){n={};for(var u=0;u<s.length;u++)n["$"+s[u]]=!0;for(s=0;s<e.length;s++)u=n.hasOwnProperty("$"+e[s].value),e[s].selected!==u&&(e[s].selected=u),u&&l&&(e[s].defaultSelected=!0)}else{for(s=""+le(s),n=null,u=0;u<e.length;u++){if(e[u].value===s){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function Qo(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return U({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rc(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(Hr(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:le(s)}}function ic(e,n){var s=le(n.value),l=le(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),l!=null&&(e.defaultValue=""+l)}function sc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function oc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ko(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?oc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var is,lc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,l,u){MSApp.execUnsafeLocalFunction(function(){return e(n,s,l,u)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(is=is||document.createElement("div"),is.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=is.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Vr(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pm=["Webkit","ms","Moz","O"];Object.keys(br).forEach(function(e){Pm.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),br[n]=br[e]})});function ac(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||br.hasOwnProperty(e)&&br[e]?(""+n).trim():n+"px"}function uc(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var l=s.indexOf("--")===0,u=ac(s,n[s],l);s==="float"&&(s="cssFloat"),l?e.setProperty(s,u):e[s]=u}}var Dm=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yo(e,n){if(n){if(Dm[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function qo(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xo=null;function Jo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zo=null,nr=null,rr=null;function cc(e){if(e=fi(e)){if(typeof Zo!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Ns(n),Zo(e.stateNode,e.type,n))}}function dc(e){nr?rr?rr.push(e):rr=[e]:nr=e}function fc(){if(nr){var e=nr,n=rr;if(rr=nr=null,cc(e),n)for(e=0;e<n.length;e++)cc(n[e])}}function hc(e,n){return e(n)}function pc(){}var el=!1;function mc(e,n,s){if(el)return e(n,s);el=!0;try{return hc(e,n,s)}finally{el=!1,(nr!==null||rr!==null)&&(pc(),fc())}}function $r(e,n){var s=e.stateNode;if(s===null)return null;var l=Ns(s);if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var tl=!1;if(p)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){tl=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{tl=!1}function Om(e,n,s,l,u,d,h,_,v){var T=Array.prototype.slice.call(arguments,3);try{n.apply(s,T)}catch(R){this.onError(R)}}var Qr=!1,ss=null,os=!1,nl=null,Am={onError:function(e){Qr=!0,ss=e}};function Mm(e,n,s,l,u,d,h,_,v){Qr=!1,ss=null,Om.apply(Am,arguments)}function Lm(e,n,s,l,u,d,h,_,v){if(Mm.apply(this,arguments),Qr){if(Qr){var T=ss;Qr=!1,ss=null}else throw Error(r(198));os||(os=!0,nl=T)}}function Mn(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function gc(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _c(e){if(Mn(e)!==e)throw Error(r(188))}function Fm(e){var n=e.alternate;if(!n){if(n=Mn(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var u=s.return;if(u===null)break;var d=u.alternate;if(d===null){if(l=u.return,l!==null){s=l;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===s)return _c(u),e;if(d===l)return _c(u),n;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=u,l=d;else{for(var h=!1,_=u.child;_;){if(_===s){h=!0,s=u,l=d;break}if(_===l){h=!0,l=u,s=d;break}_=_.sibling}if(!h){for(_=d.child;_;){if(_===s){h=!0,s=d,l=u;break}if(_===l){h=!0,l=d,s=u;break}_=_.sibling}if(!h)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function vc(e){return e=Fm(e),e!==null?yc(e):null}function yc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=yc(e);if(n!==null)return n;e=e.sibling}return null}var wc=t.unstable_scheduleCallback,Ec=t.unstable_cancelCallback,zm=t.unstable_shouldYield,Um=t.unstable_requestPaint,ke=t.unstable_now,Bm=t.unstable_getCurrentPriorityLevel,rl=t.unstable_ImmediatePriority,Cc=t.unstable_UserBlockingPriority,ls=t.unstable_NormalPriority,Wm=t.unstable_LowPriority,Sc=t.unstable_IdlePriority,as=null,Ut=null;function jm(e){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(as,e,void 0,(e.current.flags&128)===128)}catch{}}var It=Math.clz32?Math.clz32:bm,Hm=Math.log,Vm=Math.LN2;function bm(e){return e>>>=0,e===0?32:31-(Hm(e)/Vm|0)|0}var us=64,cs=4194304;function Kr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ds(e,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,u=e.suspendedLanes,d=e.pingedLanes,h=s&268435455;if(h!==0){var _=h&~u;_!==0?l=Kr(_):(d&=h,d!==0&&(l=Kr(d)))}else h=s&~u,h!==0?l=Kr(h):d!==0&&(l=Kr(d));if(l===0)return 0;if(n!==0&&n!==l&&!(n&u)&&(u=l&-l,d=n&-n,u>=d||u===16&&(d&4194240)!==0))return n;if(l&4&&(l|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)s=31-It(n),u=1<<s,l|=e[s],n&=~u;return l}function $m(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gm(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes;0<d;){var h=31-It(d),_=1<<h,v=u[h];v===-1?(!(_&s)||_&l)&&(u[h]=$m(_,n)):v<=n&&(e.expiredLanes|=_),d&=~_}}function il(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kc(){var e=us;return us<<=1,!(us&4194240)&&(us=64),e}function sl(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Yr(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-It(n),e[n]=s}function Qm(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<s;){var u=31-It(s),d=1<<u;n[u]=0,l[u]=-1,e[u]=-1,s&=~d}}function ol(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-It(s),u=1<<l;u&n|e[l]&n&&(e[l]|=n),s&=~u}}var ae=0;function Ic(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Tc,ll,Nc,xc,Rc,al=!1,fs=[],ln=null,an=null,un=null,qr=new Map,Xr=new Map,cn=[],Km="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pc(e,n){switch(e){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":an=null;break;case"mouseover":case"mouseout":un=null;break;case"pointerover":case"pointerout":qr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xr.delete(n.pointerId)}}function Jr(e,n,s,l,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[u]},n!==null&&(n=fi(n),n!==null&&ll(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function Ym(e,n,s,l,u){switch(n){case"focusin":return ln=Jr(ln,e,n,s,l,u),!0;case"dragenter":return an=Jr(an,e,n,s,l,u),!0;case"mouseover":return un=Jr(un,e,n,s,l,u),!0;case"pointerover":var d=u.pointerId;return qr.set(d,Jr(qr.get(d)||null,e,n,s,l,u)),!0;case"gotpointercapture":return d=u.pointerId,Xr.set(d,Jr(Xr.get(d)||null,e,n,s,l,u)),!0}return!1}function Dc(e){var n=Ln(e.target);if(n!==null){var s=Mn(n);if(s!==null){if(n=s.tag,n===13){if(n=gc(s),n!==null){e.blockedOn=n,Rc(e.priority,function(){Nc(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hs(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=cl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Xo=l,s.target.dispatchEvent(l),Xo=null}else return n=fi(s),n!==null&&ll(n),e.blockedOn=s,!1;n.shift()}return!0}function Oc(e,n,s){hs(e)&&s.delete(n)}function qm(){al=!1,ln!==null&&hs(ln)&&(ln=null),an!==null&&hs(an)&&(an=null),un!==null&&hs(un)&&(un=null),qr.forEach(Oc),Xr.forEach(Oc)}function Zr(e,n){e.blockedOn===n&&(e.blockedOn=null,al||(al=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,qm)))}function ei(e){function n(u){return Zr(u,e)}if(0<fs.length){Zr(fs[0],e);for(var s=1;s<fs.length;s++){var l=fs[s];l.blockedOn===e&&(l.blockedOn=null)}}for(ln!==null&&Zr(ln,e),an!==null&&Zr(an,e),un!==null&&Zr(un,e),qr.forEach(n),Xr.forEach(n),s=0;s<cn.length;s++)l=cn[s],l.blockedOn===e&&(l.blockedOn=null);for(;0<cn.length&&(s=cn[0],s.blockedOn===null);)Dc(s),s.blockedOn===null&&cn.shift()}var ir=De.ReactCurrentBatchConfig,ps=!0;function Xm(e,n,s,l){var u=ae,d=ir.transition;ir.transition=null;try{ae=1,ul(e,n,s,l)}finally{ae=u,ir.transition=d}}function Jm(e,n,s,l){var u=ae,d=ir.transition;ir.transition=null;try{ae=4,ul(e,n,s,l)}finally{ae=u,ir.transition=d}}function ul(e,n,s,l){if(ps){var u=cl(e,n,s,l);if(u===null)Nl(e,n,l,ms,s),Pc(e,l);else if(Ym(u,e,n,s,l))l.stopPropagation();else if(Pc(e,l),n&4&&-1<Km.indexOf(e)){for(;u!==null;){var d=fi(u);if(d!==null&&Tc(d),d=cl(e,n,s,l),d===null&&Nl(e,n,l,ms,s),d===u)break;u=d}u!==null&&l.stopPropagation()}else Nl(e,n,l,null,s)}}var ms=null;function cl(e,n,s,l){if(ms=null,e=Jo(l),e=Ln(e),e!==null)if(n=Mn(e),n===null)e=null;else if(s=n.tag,s===13){if(e=gc(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ms=e,null}function Ac(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bm()){case rl:return 1;case Cc:return 4;case ls:case Wm:return 16;case Sc:return 536870912;default:return 16}default:return 16}}var dn=null,dl=null,gs=null;function Mc(){if(gs)return gs;var e,n=dl,s=n.length,l,u="value"in dn?dn.value:dn.textContent,d=u.length;for(e=0;e<s&&n[e]===u[e];e++);var h=s-e;for(l=1;l<=h&&n[s-l]===u[d-l];l++);return gs=u.slice(e,1<l?1-l:void 0)}function _s(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function vs(){return!0}function Lc(){return!1}function dt(e){function n(s,l,u,d,h){this._reactName=s,this._targetInst=u,this.type=l,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?vs:Lc,this.isPropagationStopped=Lc,this}return U(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),n}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fl=dt(sr),ti=U({},sr,{view:0,detail:0}),Zm=dt(ti),hl,pl,ni,ys=U({},ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ni&&(ni&&e.type==="mousemove"?(hl=e.screenX-ni.screenX,pl=e.screenY-ni.screenY):pl=hl=0,ni=e),hl)},movementY:function(e){return"movementY"in e?e.movementY:pl}}),Fc=dt(ys),eg=U({},ys,{dataTransfer:0}),tg=dt(eg),ng=U({},ti,{relatedTarget:0}),ml=dt(ng),rg=U({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),ig=dt(rg),sg=U({},sr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),og=dt(sg),lg=U({},sr,{data:0}),zc=dt(lg),ag={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ug={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=cg[e])?!!n[e]:!1}function gl(){return dg}var fg=U({},ti,{key:function(e){if(e.key){var n=ag[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=_s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ug[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gl,charCode:function(e){return e.type==="keypress"?_s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hg=dt(fg),pg=U({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uc=dt(pg),mg=U({},ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gl}),gg=dt(mg),_g=U({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),vg=dt(_g),yg=U({},ys,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wg=dt(yg),Eg=[9,13,27,32],_l=p&&"CompositionEvent"in window,ri=null;p&&"documentMode"in document&&(ri=document.documentMode);var Cg=p&&"TextEvent"in window&&!ri,Bc=p&&(!_l||ri&&8<ri&&11>=ri),Wc=" ",jc=!1;function Hc(e,n){switch(e){case"keyup":return Eg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var or=!1;function Sg(e,n){switch(e){case"compositionend":return Vc(n);case"keypress":return n.which!==32?null:(jc=!0,Wc);case"textInput":return e=n.data,e===Wc&&jc?null:e;default:return null}}function kg(e,n){if(or)return e==="compositionend"||!_l&&Hc(e,n)?(e=Mc(),gs=dl=dn=null,or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Bc&&n.locale!=="ko"?null:n.data;default:return null}}var Ig={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ig[e.type]:n==="textarea"}function $c(e,n,s,l){dc(l),n=ks(n,"onChange"),0<n.length&&(s=new fl("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var ii=null,si=null;function Tg(e){ud(e,0)}function ws(e){var n=dr(e);if(Zu(n))return e}function Ng(e,n){if(e==="change")return n}var Gc=!1;if(p){var vl;if(p){var yl="oninput"in document;if(!yl){var Qc=document.createElement("div");Qc.setAttribute("oninput","return;"),yl=typeof Qc.oninput=="function"}vl=yl}else vl=!1;Gc=vl&&(!document.documentMode||9<document.documentMode)}function Kc(){ii&&(ii.detachEvent("onpropertychange",Yc),si=ii=null)}function Yc(e){if(e.propertyName==="value"&&ws(si)){var n=[];$c(n,si,e,Jo(e)),mc(Tg,n)}}function xg(e,n,s){e==="focusin"?(Kc(),ii=n,si=s,ii.attachEvent("onpropertychange",Yc)):e==="focusout"&&Kc()}function Rg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ws(si)}function Pg(e,n){if(e==="click")return ws(n)}function Dg(e,n){if(e==="input"||e==="change")return ws(n)}function Og(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Tt=typeof Object.is=="function"?Object.is:Og;function oi(e,n){if(Tt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var u=s[l];if(!m.call(n,u)||!Tt(e[u],n[u]))return!1}return!0}function qc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xc(e,n){var s=qc(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=qc(s)}}function Jc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Jc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Zc(){for(var e=window,n=rs();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=rs(e.document)}return n}function wl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Ag(e){var n=Zc(),s=e.focusedElem,l=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&Jc(s.ownerDocument.documentElement,s)){if(l!==null&&wl(s)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var u=s.textContent.length,d=Math.min(l.start,u);l=l.end===void 0?d:Math.min(l.end,u),!e.extend&&d>l&&(u=l,l=d,d=u),u=Xc(s,d);var h=Xc(s,l);u&&h&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),e.removeAllRanges(),d>l?(e.addRange(n),e.extend(h.node,h.offset)):(n.setEnd(h.node,h.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mg=p&&"documentMode"in document&&11>=document.documentMode,lr=null,El=null,li=null,Cl=!1;function ed(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Cl||lr==null||lr!==rs(l)||(l=lr,"selectionStart"in l&&wl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),li&&oi(li,l)||(li=l,l=ks(El,"onSelect"),0<l.length&&(n=new fl("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=lr)))}function Es(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ar={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionend:Es("Transition","TransitionEnd")},Sl={},td={};p&&(td=document.createElement("div").style,"AnimationEvent"in window||(delete ar.animationend.animation,delete ar.animationiteration.animation,delete ar.animationstart.animation),"TransitionEvent"in window||delete ar.transitionend.transition);function Cs(e){if(Sl[e])return Sl[e];if(!ar[e])return e;var n=ar[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in td)return Sl[e]=n[s];return e}var nd=Cs("animationend"),rd=Cs("animationiteration"),id=Cs("animationstart"),sd=Cs("transitionend"),od=new Map,ld="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fn(e,n){od.set(e,n),c(n,[e])}for(var kl=0;kl<ld.length;kl++){var Il=ld[kl],Lg=Il.toLowerCase(),Fg=Il[0].toUpperCase()+Il.slice(1);fn(Lg,"on"+Fg)}fn(nd,"onAnimationEnd"),fn(rd,"onAnimationIteration"),fn(id,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(sd,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zg=new Set("cancel close invalid load scroll toggle".split(" ").concat(ai));function ad(e,n,s){var l=e.type||"unknown-event";e.currentTarget=s,Lm(l,n,void 0,e),e.currentTarget=null}function ud(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],u=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var h=l.length-1;0<=h;h--){var _=l[h],v=_.instance,T=_.currentTarget;if(_=_.listener,v!==d&&u.isPropagationStopped())break e;ad(u,_,T),d=v}else for(h=0;h<l.length;h++){if(_=l[h],v=_.instance,T=_.currentTarget,_=_.listener,v!==d&&u.isPropagationStopped())break e;ad(u,_,T),d=v}}}if(os)throw e=nl,os=!1,nl=null,e}function pe(e,n){var s=n[Al];s===void 0&&(s=n[Al]=new Set);var l=e+"__bubble";s.has(l)||(cd(n,e,2,!1),s.add(l))}function Tl(e,n,s){var l=0;n&&(l|=4),cd(s,e,l,n)}var Ss="_reactListening"+Math.random().toString(36).slice(2);function ui(e){if(!e[Ss]){e[Ss]=!0,o.forEach(function(s){s!=="selectionchange"&&(zg.has(s)||Tl(s,!1,e),Tl(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ss]||(n[Ss]=!0,Tl("selectionchange",!1,n))}}function cd(e,n,s,l){switch(Ac(n)){case 1:var u=Xm;break;case 4:u=Jm;break;default:u=ul}s=u.bind(null,n,s,e),u=void 0,!tl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(n,s,{capture:!0,passive:u}):e.addEventListener(n,s,!0):u!==void 0?e.addEventListener(n,s,{passive:u}):e.addEventListener(n,s,!1)}function Nl(e,n,s,l,u){var d=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var h=l.tag;if(h===3||h===4){var _=l.stateNode.containerInfo;if(_===u||_.nodeType===8&&_.parentNode===u)break;if(h===4)for(h=l.return;h!==null;){var v=h.tag;if((v===3||v===4)&&(v=h.stateNode.containerInfo,v===u||v.nodeType===8&&v.parentNode===u))return;h=h.return}for(;_!==null;){if(h=Ln(_),h===null)return;if(v=h.tag,v===5||v===6){l=d=h;continue e}_=_.parentNode}}l=l.return}mc(function(){var T=d,R=Jo(s),P=[];e:{var N=od.get(e);if(N!==void 0){var L=fl,B=e;switch(e){case"keypress":if(_s(s)===0)break e;case"keydown":case"keyup":L=hg;break;case"focusin":B="focus",L=ml;break;case"focusout":B="blur",L=ml;break;case"beforeblur":case"afterblur":L=ml;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=tg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=gg;break;case nd:case rd:case id:L=ig;break;case sd:L=vg;break;case"scroll":L=Zm;break;case"wheel":L=wg;break;case"copy":case"cut":case"paste":L=og;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Uc}var W=(n&4)!==0,Ie=!W&&e==="scroll",S=W?N!==null?N+"Capture":null:N;W=[];for(var y=T,I;y!==null;){I=y;var D=I.stateNode;if(I.tag===5&&D!==null&&(I=D,S!==null&&(D=$r(y,S),D!=null&&W.push(ci(y,D,I)))),Ie)break;y=y.return}0<W.length&&(N=new L(N,B,null,s,R),P.push({event:N,listeners:W}))}}if(!(n&7)){e:{if(N=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",N&&s!==Xo&&(B=s.relatedTarget||s.fromElement)&&(Ln(B)||B[$t]))break e;if((L||N)&&(N=R.window===R?R:(N=R.ownerDocument)?N.defaultView||N.parentWindow:window,L?(B=s.relatedTarget||s.toElement,L=T,B=B?Ln(B):null,B!==null&&(Ie=Mn(B),B!==Ie||B.tag!==5&&B.tag!==6)&&(B=null)):(L=null,B=T),L!==B)){if(W=Fc,D="onMouseLeave",S="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(W=Uc,D="onPointerLeave",S="onPointerEnter",y="pointer"),Ie=L==null?N:dr(L),I=B==null?N:dr(B),N=new W(D,y+"leave",L,s,R),N.target=Ie,N.relatedTarget=I,D=null,Ln(R)===T&&(W=new W(S,y+"enter",B,s,R),W.target=I,W.relatedTarget=Ie,D=W),Ie=D,L&&B)t:{for(W=L,S=B,y=0,I=W;I;I=ur(I))y++;for(I=0,D=S;D;D=ur(D))I++;for(;0<y-I;)W=ur(W),y--;for(;0<I-y;)S=ur(S),I--;for(;y--;){if(W===S||S!==null&&W===S.alternate)break t;W=ur(W),S=ur(S)}W=null}else W=null;L!==null&&dd(P,N,L,W,!1),B!==null&&Ie!==null&&dd(P,Ie,B,W,!0)}}e:{if(N=T?dr(T):window,L=N.nodeName&&N.nodeName.toLowerCase(),L==="select"||L==="input"&&N.type==="file")var j=Ng;else if(bc(N))if(Gc)j=Dg;else{j=Rg;var V=xg}else(L=N.nodeName)&&L.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(j=Pg);if(j&&(j=j(e,T))){$c(P,j,s,R);break e}V&&V(e,N,T),e==="focusout"&&(V=N._wrapperState)&&V.controlled&&N.type==="number"&&Go(N,"number",N.value)}switch(V=T?dr(T):window,e){case"focusin":(bc(V)||V.contentEditable==="true")&&(lr=V,El=T,li=null);break;case"focusout":li=El=lr=null;break;case"mousedown":Cl=!0;break;case"contextmenu":case"mouseup":case"dragend":Cl=!1,ed(P,s,R);break;case"selectionchange":if(Mg)break;case"keydown":case"keyup":ed(P,s,R)}var b;if(_l)e:{switch(e){case"compositionstart":var Q="onCompositionStart";break e;case"compositionend":Q="onCompositionEnd";break e;case"compositionupdate":Q="onCompositionUpdate";break e}Q=void 0}else or?Hc(e,s)&&(Q="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Q="onCompositionStart");Q&&(Bc&&s.locale!=="ko"&&(or||Q!=="onCompositionStart"?Q==="onCompositionEnd"&&or&&(b=Mc()):(dn=R,dl="value"in dn?dn.value:dn.textContent,or=!0)),V=ks(T,Q),0<V.length&&(Q=new zc(Q,e,null,s,R),P.push({event:Q,listeners:V}),b?Q.data=b:(b=Vc(s),b!==null&&(Q.data=b)))),(b=Cg?Sg(e,s):kg(e,s))&&(T=ks(T,"onBeforeInput"),0<T.length&&(R=new zc("onBeforeInput","beforeinput",null,s,R),P.push({event:R,listeners:T}),R.data=b))}ud(P,n)})}function ci(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ks(e,n){for(var s=n+"Capture",l=[];e!==null;){var u=e,d=u.stateNode;u.tag===5&&d!==null&&(u=d,d=$r(e,s),d!=null&&l.unshift(ci(e,d,u)),d=$r(e,n),d!=null&&l.push(ci(e,d,u))),e=e.return}return l}function ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dd(e,n,s,l,u){for(var d=n._reactName,h=[];s!==null&&s!==l;){var _=s,v=_.alternate,T=_.stateNode;if(v!==null&&v===l)break;_.tag===5&&T!==null&&(_=T,u?(v=$r(s,d),v!=null&&h.unshift(ci(s,v,_))):u||(v=$r(s,d),v!=null&&h.push(ci(s,v,_)))),s=s.return}h.length!==0&&e.push({event:n,listeners:h})}var Ug=/\r\n?/g,Bg=/\u0000|\uFFFD/g;function fd(e){return(typeof e=="string"?e:""+e).replace(Ug,`
`).replace(Bg,"")}function Is(e,n,s){if(n=fd(n),fd(e)!==n&&s)throw Error(r(425))}function Ts(){}var xl=null,Rl=null;function Pl(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Dl=typeof setTimeout=="function"?setTimeout:void 0,Wg=typeof clearTimeout=="function"?clearTimeout:void 0,hd=typeof Promise=="function"?Promise:void 0,jg=typeof queueMicrotask=="function"?queueMicrotask:typeof hd<"u"?function(e){return hd.resolve(null).then(e).catch(Hg)}:Dl;function Hg(e){setTimeout(function(){throw e})}function Ol(e,n){var s=n,l=0;do{var u=s.nextSibling;if(e.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(l===0){e.removeChild(u),ei(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=u}while(s);ei(n)}function hn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function pd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var cr=Math.random().toString(36).slice(2),Bt="__reactFiber$"+cr,di="__reactProps$"+cr,$t="__reactContainer$"+cr,Al="__reactEvents$"+cr,Vg="__reactListeners$"+cr,bg="__reactHandles$"+cr;function Ln(e){var n=e[Bt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[$t]||s[Bt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=pd(e);e!==null;){if(s=e[Bt])return s;e=pd(e)}return n}e=s,s=e.parentNode}return null}function fi(e){return e=e[Bt]||e[$t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Ns(e){return e[di]||null}var Ml=[],fr=-1;function pn(e){return{current:e}}function me(e){0>fr||(e.current=Ml[fr],Ml[fr]=null,fr--)}function de(e,n){fr++,Ml[fr]=e.current,e.current=n}var mn={},je=pn(mn),et=pn(!1),Fn=mn;function hr(e,n){var s=e.type.contextTypes;if(!s)return mn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var u={},d;for(d in s)u[d]=n[d];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=u),u}function tt(e){return e=e.childContextTypes,e!=null}function xs(){me(et),me(je)}function md(e,n,s){if(je.current!==mn)throw Error(r(168));de(je,n),de(et,s)}function gd(e,n,s){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var u in l)if(!(u in n))throw Error(r(108,ce(e)||"Unknown",u));return U({},s,l)}function Rs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mn,Fn=je.current,de(je,e),de(et,et.current),!0}function _d(e,n,s){var l=e.stateNode;if(!l)throw Error(r(169));s?(e=gd(e,n,Fn),l.__reactInternalMemoizedMergedChildContext=e,me(et),me(je),de(je,e)):me(et),de(et,s)}var Gt=null,Ps=!1,Ll=!1;function vd(e){Gt===null?Gt=[e]:Gt.push(e)}function $g(e){Ps=!0,vd(e)}function gn(){if(!Ll&&Gt!==null){Ll=!0;var e=0,n=ae;try{var s=Gt;for(ae=1;e<s.length;e++){var l=s[e];do l=l(!0);while(l!==null)}Gt=null,Ps=!1}catch(u){throw Gt!==null&&(Gt=Gt.slice(e+1)),wc(rl,gn),u}finally{ae=n,Ll=!1}}return null}var pr=[],mr=0,Ds=null,Os=0,gt=[],_t=0,zn=null,Qt=1,Kt="";function Un(e,n){pr[mr++]=Os,pr[mr++]=Ds,Ds=e,Os=n}function yd(e,n,s){gt[_t++]=Qt,gt[_t++]=Kt,gt[_t++]=zn,zn=e;var l=Qt;e=Kt;var u=32-It(l)-1;l&=~(1<<u),s+=1;var d=32-It(n)+u;if(30<d){var h=u-u%5;d=(l&(1<<h)-1).toString(32),l>>=h,u-=h,Qt=1<<32-It(n)+u|s<<u|l,Kt=d+e}else Qt=1<<d|s<<u|l,Kt=e}function Fl(e){e.return!==null&&(Un(e,1),yd(e,1,0))}function zl(e){for(;e===Ds;)Ds=pr[--mr],pr[mr]=null,Os=pr[--mr],pr[mr]=null;for(;e===zn;)zn=gt[--_t],gt[_t]=null,Kt=gt[--_t],gt[_t]=null,Qt=gt[--_t],gt[_t]=null}var ft=null,ht=null,ve=!1,Nt=null;function wd(e,n){var s=Et(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function Ed(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,ft=e,ht=hn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,ft=e,ht=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=zn!==null?{id:Qt,overflow:Kt}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=Et(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,ft=e,ht=null,!0):!1;default:return!1}}function Ul(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Bl(e){if(ve){var n=ht;if(n){var s=n;if(!Ed(e,n)){if(Ul(e))throw Error(r(418));n=hn(s.nextSibling);var l=ft;n&&Ed(e,n)?wd(l,s):(e.flags=e.flags&-4097|2,ve=!1,ft=e)}}else{if(Ul(e))throw Error(r(418));e.flags=e.flags&-4097|2,ve=!1,ft=e}}}function Cd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ft=e}function As(e){if(e!==ft)return!1;if(!ve)return Cd(e),ve=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Pl(e.type,e.memoizedProps)),n&&(n=ht)){if(Ul(e))throw Sd(),Error(r(418));for(;n;)wd(e,n),n=hn(n.nextSibling)}if(Cd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){ht=hn(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}ht=null}}else ht=ft?hn(e.stateNode.nextSibling):null;return!0}function Sd(){for(var e=ht;e;)e=hn(e.nextSibling)}function gr(){ht=ft=null,ve=!1}function Wl(e){Nt===null?Nt=[e]:Nt.push(e)}var Gg=De.ReactCurrentBatchConfig;function hi(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var l=s.stateNode}if(!l)throw Error(r(147,e));var u=l,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(h){var _=u.refs;h===null?delete _[d]:_[d]=h},n._stringRef=d,n)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function Ms(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function kd(e){var n=e._init;return n(e._payload)}function Id(e){function n(S,y){if(e){var I=S.deletions;I===null?(S.deletions=[y],S.flags|=16):I.push(y)}}function s(S,y){if(!e)return null;for(;y!==null;)n(S,y),y=y.sibling;return null}function l(S,y){for(S=new Map;y!==null;)y.key!==null?S.set(y.key,y):S.set(y.index,y),y=y.sibling;return S}function u(S,y){return S=kn(S,y),S.index=0,S.sibling=null,S}function d(S,y,I){return S.index=I,e?(I=S.alternate,I!==null?(I=I.index,I<y?(S.flags|=2,y):I):(S.flags|=2,y)):(S.flags|=1048576,y)}function h(S){return e&&S.alternate===null&&(S.flags|=2),S}function _(S,y,I,D){return y===null||y.tag!==6?(y=Da(I,S.mode,D),y.return=S,y):(y=u(y,I),y.return=S,y)}function v(S,y,I,D){var j=I.type;return j===Je?R(S,y,I.props.children,D,I.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ze&&kd(j)===y.type)?(D=u(y,I.props),D.ref=hi(S,y,I),D.return=S,D):(D=io(I.type,I.key,I.props,null,S.mode,D),D.ref=hi(S,y,I),D.return=S,D)}function T(S,y,I,D){return y===null||y.tag!==4||y.stateNode.containerInfo!==I.containerInfo||y.stateNode.implementation!==I.implementation?(y=Oa(I,S.mode,D),y.return=S,y):(y=u(y,I.children||[]),y.return=S,y)}function R(S,y,I,D,j){return y===null||y.tag!==7?(y=Gn(I,S.mode,D,j),y.return=S,y):(y=u(y,I),y.return=S,y)}function P(S,y,I){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Da(""+y,S.mode,I),y.return=S,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case St:return I=io(y.type,y.key,y.props,null,S.mode,I),I.ref=hi(S,null,y),I.return=S,I;case Ke:return y=Oa(y,S.mode,I),y.return=S,y;case Ze:var D=y._init;return P(S,D(y._payload),I)}if(Hr(y)||$(y))return y=Gn(y,S.mode,I,null),y.return=S,y;Ms(S,y)}return null}function N(S,y,I,D){var j=y!==null?y.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return j!==null?null:_(S,y,""+I,D);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case St:return I.key===j?v(S,y,I,D):null;case Ke:return I.key===j?T(S,y,I,D):null;case Ze:return j=I._init,N(S,y,j(I._payload),D)}if(Hr(I)||$(I))return j!==null?null:R(S,y,I,D,null);Ms(S,I)}return null}function L(S,y,I,D,j){if(typeof D=="string"&&D!==""||typeof D=="number")return S=S.get(I)||null,_(y,S,""+D,j);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case St:return S=S.get(D.key===null?I:D.key)||null,v(y,S,D,j);case Ke:return S=S.get(D.key===null?I:D.key)||null,T(y,S,D,j);case Ze:var V=D._init;return L(S,y,I,V(D._payload),j)}if(Hr(D)||$(D))return S=S.get(I)||null,R(y,S,D,j,null);Ms(y,D)}return null}function B(S,y,I,D){for(var j=null,V=null,b=y,Q=y=0,Me=null;b!==null&&Q<I.length;Q++){b.index>Q?(Me=b,b=null):Me=b.sibling;var ie=N(S,b,I[Q],D);if(ie===null){b===null&&(b=Me);break}e&&b&&ie.alternate===null&&n(S,b),y=d(ie,y,Q),V===null?j=ie:V.sibling=ie,V=ie,b=Me}if(Q===I.length)return s(S,b),ve&&Un(S,Q),j;if(b===null){for(;Q<I.length;Q++)b=P(S,I[Q],D),b!==null&&(y=d(b,y,Q),V===null?j=b:V.sibling=b,V=b);return ve&&Un(S,Q),j}for(b=l(S,b);Q<I.length;Q++)Me=L(b,S,Q,I[Q],D),Me!==null&&(e&&Me.alternate!==null&&b.delete(Me.key===null?Q:Me.key),y=d(Me,y,Q),V===null?j=Me:V.sibling=Me,V=Me);return e&&b.forEach(function(In){return n(S,In)}),ve&&Un(S,Q),j}function W(S,y,I,D){var j=$(I);if(typeof j!="function")throw Error(r(150));if(I=j.call(I),I==null)throw Error(r(151));for(var V=j=null,b=y,Q=y=0,Me=null,ie=I.next();b!==null&&!ie.done;Q++,ie=I.next()){b.index>Q?(Me=b,b=null):Me=b.sibling;var In=N(S,b,ie.value,D);if(In===null){b===null&&(b=Me);break}e&&b&&In.alternate===null&&n(S,b),y=d(In,y,Q),V===null?j=In:V.sibling=In,V=In,b=Me}if(ie.done)return s(S,b),ve&&Un(S,Q),j;if(b===null){for(;!ie.done;Q++,ie=I.next())ie=P(S,ie.value,D),ie!==null&&(y=d(ie,y,Q),V===null?j=ie:V.sibling=ie,V=ie);return ve&&Un(S,Q),j}for(b=l(S,b);!ie.done;Q++,ie=I.next())ie=L(b,S,Q,ie.value,D),ie!==null&&(e&&ie.alternate!==null&&b.delete(ie.key===null?Q:ie.key),y=d(ie,y,Q),V===null?j=ie:V.sibling=ie,V=ie);return e&&b.forEach(function(I_){return n(S,I_)}),ve&&Un(S,Q),j}function Ie(S,y,I,D){if(typeof I=="object"&&I!==null&&I.type===Je&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case St:e:{for(var j=I.key,V=y;V!==null;){if(V.key===j){if(j=I.type,j===Je){if(V.tag===7){s(S,V.sibling),y=u(V,I.props.children),y.return=S,S=y;break e}}else if(V.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ze&&kd(j)===V.type){s(S,V.sibling),y=u(V,I.props),y.ref=hi(S,V,I),y.return=S,S=y;break e}s(S,V);break}else n(S,V);V=V.sibling}I.type===Je?(y=Gn(I.props.children,S.mode,D,I.key),y.return=S,S=y):(D=io(I.type,I.key,I.props,null,S.mode,D),D.ref=hi(S,y,I),D.return=S,S=D)}return h(S);case Ke:e:{for(V=I.key;y!==null;){if(y.key===V)if(y.tag===4&&y.stateNode.containerInfo===I.containerInfo&&y.stateNode.implementation===I.implementation){s(S,y.sibling),y=u(y,I.children||[]),y.return=S,S=y;break e}else{s(S,y);break}else n(S,y);y=y.sibling}y=Oa(I,S.mode,D),y.return=S,S=y}return h(S);case Ze:return V=I._init,Ie(S,y,V(I._payload),D)}if(Hr(I))return B(S,y,I,D);if($(I))return W(S,y,I,D);Ms(S,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,y!==null&&y.tag===6?(s(S,y.sibling),y=u(y,I),y.return=S,S=y):(s(S,y),y=Da(I,S.mode,D),y.return=S,S=y),h(S)):s(S,y)}return Ie}var _r=Id(!0),Td=Id(!1),Ls=pn(null),Fs=null,vr=null,jl=null;function Hl(){jl=vr=Fs=null}function Vl(e){var n=Ls.current;me(Ls),e._currentValue=n}function bl(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function yr(e,n){Fs=e,jl=vr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(nt=!0),e.firstContext=null)}function vt(e){var n=e._currentValue;if(jl!==e)if(e={context:e,memoizedValue:n,next:null},vr===null){if(Fs===null)throw Error(r(308));vr=e,Fs.dependencies={lanes:0,firstContext:e}}else vr=vr.next=e;return n}var Bn=null;function $l(e){Bn===null?Bn=[e]:Bn.push(e)}function Nd(e,n,s,l){var u=n.interleaved;return u===null?(s.next=s,$l(n)):(s.next=u.next,u.next=s),n.interleaved=s,Yt(e,l)}function Yt(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var _n=!1;function Gl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function vn(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,te&2){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,Yt(e,s)}return u=l.interleaved,u===null?(n.next=n,$l(l)):(n.next=u.next,u.next=n),l.interleaved=n,Yt(e,s)}function zs(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,ol(e,s)}}function Rd(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var u=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var h={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?u=d=h:d=d.next=h,s=s.next}while(s!==null);d===null?u=d=n:d=d.next=n}else u=d=n;s={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:l.shared,effects:l.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function Us(e,n,s,l){var u=e.updateQueue;_n=!1;var d=u.firstBaseUpdate,h=u.lastBaseUpdate,_=u.shared.pending;if(_!==null){u.shared.pending=null;var v=_,T=v.next;v.next=null,h===null?d=T:h.next=T,h=v;var R=e.alternate;R!==null&&(R=R.updateQueue,_=R.lastBaseUpdate,_!==h&&(_===null?R.firstBaseUpdate=T:_.next=T,R.lastBaseUpdate=v))}if(d!==null){var P=u.baseState;h=0,R=T=v=null,_=d;do{var N=_.lane,L=_.eventTime;if((l&N)===N){R!==null&&(R=R.next={eventTime:L,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var B=e,W=_;switch(N=n,L=s,W.tag){case 1:if(B=W.payload,typeof B=="function"){P=B.call(L,P,N);break e}P=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=W.payload,N=typeof B=="function"?B.call(L,P,N):B,N==null)break e;P=U({},P,N);break e;case 2:_n=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,N=u.effects,N===null?u.effects=[_]:N.push(_))}else L={eventTime:L,lane:N,tag:_.tag,payload:_.payload,callback:_.callback,next:null},R===null?(T=R=L,v=P):R=R.next=L,h|=N;if(_=_.next,_===null){if(_=u.shared.pending,_===null)break;N=_,_=N.next,N.next=null,u.lastBaseUpdate=N,u.shared.pending=null}}while(!0);if(R===null&&(v=P),u.baseState=v,u.firstBaseUpdate=T,u.lastBaseUpdate=R,n=u.shared.interleaved,n!==null){u=n;do h|=u.lane,u=u.next;while(u!==n)}else d===null&&(u.shared.lanes=0);Hn|=h,e.lanes=h,e.memoizedState=P}}function Pd(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],u=l.callback;if(u!==null){if(l.callback=null,l=s,typeof u!="function")throw Error(r(191,u));u.call(l)}}}var pi={},Wt=pn(pi),mi=pn(pi),gi=pn(pi);function Wn(e){if(e===pi)throw Error(r(174));return e}function Ql(e,n){switch(de(gi,n),de(mi,e),de(Wt,pi),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ko(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Ko(n,e)}me(Wt),de(Wt,n)}function wr(){me(Wt),me(mi),me(gi)}function Dd(e){Wn(gi.current);var n=Wn(Wt.current),s=Ko(n,e.type);n!==s&&(de(mi,e),de(Wt,s))}function Kl(e){mi.current===e&&(me(Wt),me(mi))}var ye=pn(0);function Bs(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Yl=[];function ql(){for(var e=0;e<Yl.length;e++)Yl[e]._workInProgressVersionPrimary=null;Yl.length=0}var Ws=De.ReactCurrentDispatcher,Xl=De.ReactCurrentBatchConfig,jn=0,we=null,Ne=null,Oe=null,js=!1,_i=!1,vi=0,Qg=0;function He(){throw Error(r(321))}function Jl(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Tt(e[s],n[s]))return!1;return!0}function Zl(e,n,s,l,u,d){if(jn=d,we=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ws.current=e===null||e.memoizedState===null?Xg:Jg,e=s(l,u),_i){d=0;do{if(_i=!1,vi=0,25<=d)throw Error(r(301));d+=1,Oe=Ne=null,n.updateQueue=null,Ws.current=Zg,e=s(l,u)}while(_i)}if(Ws.current=bs,n=Ne!==null&&Ne.next!==null,jn=0,Oe=Ne=we=null,js=!1,n)throw Error(r(300));return e}function ea(){var e=vi!==0;return vi=0,e}function jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?we.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function yt(){if(Ne===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var n=Oe===null?we.memoizedState:Oe.next;if(n!==null)Oe=n,Ne=e;else{if(e===null)throw Error(r(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Oe===null?we.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function yi(e,n){return typeof n=="function"?n(e):n}function ta(e){var n=yt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=Ne,u=l.baseQueue,d=s.pending;if(d!==null){if(u!==null){var h=u.next;u.next=d.next,d.next=h}l.baseQueue=u=d,s.pending=null}if(u!==null){d=u.next,l=l.baseState;var _=h=null,v=null,T=d;do{var R=T.lane;if((jn&R)===R)v!==null&&(v=v.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),l=T.hasEagerState?T.eagerState:e(l,T.action);else{var P={lane:R,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};v===null?(_=v=P,h=l):v=v.next=P,we.lanes|=R,Hn|=R}T=T.next}while(T!==null&&T!==d);v===null?h=l:v.next=_,Tt(l,n.memoizedState)||(nt=!0),n.memoizedState=l,n.baseState=h,n.baseQueue=v,s.lastRenderedState=l}if(e=s.interleaved,e!==null){u=e;do d=u.lane,we.lanes|=d,Hn|=d,u=u.next;while(u!==e)}else u===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function na(e){var n=yt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,u=s.pending,d=n.memoizedState;if(u!==null){s.pending=null;var h=u=u.next;do d=e(d,h.action),h=h.next;while(h!==u);Tt(d,n.memoizedState)||(nt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function Od(){}function Ad(e,n){var s=we,l=yt(),u=n(),d=!Tt(l.memoizedState,u);if(d&&(l.memoizedState=u,nt=!0),l=l.queue,ra(Fd.bind(null,s,l,e),[e]),l.getSnapshot!==n||d||Oe!==null&&Oe.memoizedState.tag&1){if(s.flags|=2048,wi(9,Ld.bind(null,s,l,u,n),void 0,null),Ae===null)throw Error(r(349));jn&30||Md(s,n,u)}return u}function Md(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=we.updateQueue,n===null?(n={lastEffect:null,stores:null},we.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Ld(e,n,s,l){n.value=s,n.getSnapshot=l,zd(n)&&Ud(e)}function Fd(e,n,s){return s(function(){zd(n)&&Ud(e)})}function zd(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Tt(e,s)}catch{return!0}}function Ud(e){var n=Yt(e,1);n!==null&&Dt(n,e,1,-1)}function Bd(e){var n=jt();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},n.queue=e,e=e.dispatch=qg.bind(null,we,e),[n.memoizedState,e]}function wi(e,n,s,l){return e={tag:e,create:n,destroy:s,deps:l,next:null},n=we.updateQueue,n===null?(n={lastEffect:null,stores:null},we.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e)),e}function Wd(){return yt().memoizedState}function Hs(e,n,s,l){var u=jt();we.flags|=e,u.memoizedState=wi(1|n,s,void 0,l===void 0?null:l)}function Vs(e,n,s,l){var u=yt();l=l===void 0?null:l;var d=void 0;if(Ne!==null){var h=Ne.memoizedState;if(d=h.destroy,l!==null&&Jl(l,h.deps)){u.memoizedState=wi(n,s,d,l);return}}we.flags|=e,u.memoizedState=wi(1|n,s,d,l)}function jd(e,n){return Hs(8390656,8,e,n)}function ra(e,n){return Vs(2048,8,e,n)}function Hd(e,n){return Vs(4,2,e,n)}function Vd(e,n){return Vs(4,4,e,n)}function bd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function $d(e,n,s){return s=s!=null?s.concat([e]):null,Vs(4,4,bd.bind(null,n,e),s)}function ia(){}function Gd(e,n){var s=yt();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&Jl(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Qd(e,n){var s=yt();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&Jl(n,l[1])?l[0]:(e=e(),s.memoizedState=[e,n],e)}function Kd(e,n,s){return jn&21?(Tt(s,n)||(s=kc(),we.lanes|=s,Hn|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=s)}function Kg(e,n){var s=ae;ae=s!==0&&4>s?s:4,e(!0);var l=Xl.transition;Xl.transition={};try{e(!1),n()}finally{ae=s,Xl.transition=l}}function Yd(){return yt().memoizedState}function Yg(e,n,s){var l=Cn(e);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},qd(e))Xd(n,s);else if(s=Nd(e,n,s,l),s!==null){var u=qe();Dt(s,e,l,u),Jd(s,n,l)}}function qg(e,n,s){var l=Cn(e),u={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(qd(e))Xd(n,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var h=n.lastRenderedState,_=d(h,s);if(u.hasEagerState=!0,u.eagerState=_,Tt(_,h)){var v=n.interleaved;v===null?(u.next=u,$l(n)):(u.next=v.next,v.next=u),n.interleaved=u;return}}catch{}finally{}s=Nd(e,n,u,l),s!==null&&(u=qe(),Dt(s,e,l,u),Jd(s,n,l))}}function qd(e){var n=e.alternate;return e===we||n!==null&&n===we}function Xd(e,n){_i=js=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Jd(e,n,s){if(s&4194240){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,ol(e,s)}}var bs={readContext:vt,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},Xg={readContext:vt,useCallback:function(e,n){return jt().memoizedState=[e,n===void 0?null:n],e},useContext:vt,useEffect:jd,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Hs(4194308,4,bd.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Hs(4194308,4,e,n)},useInsertionEffect:function(e,n){return Hs(4,2,e,n)},useMemo:function(e,n){var s=jt();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var l=jt();return n=s!==void 0?s(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=Yg.bind(null,we,e),[l.memoizedState,e]},useRef:function(e){var n=jt();return e={current:e},n.memoizedState=e},useState:Bd,useDebugValue:ia,useDeferredValue:function(e){return jt().memoizedState=e},useTransition:function(){var e=Bd(!1),n=e[0];return e=Kg.bind(null,e[1]),jt().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var l=we,u=jt();if(ve){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Ae===null)throw Error(r(349));jn&30||Md(l,n,s)}u.memoizedState=s;var d={value:s,getSnapshot:n};return u.queue=d,jd(Fd.bind(null,l,d,e),[e]),l.flags|=2048,wi(9,Ld.bind(null,l,d,s,n),void 0,null),s},useId:function(){var e=jt(),n=Ae.identifierPrefix;if(ve){var s=Kt,l=Qt;s=(l&~(1<<32-It(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=vi++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=Qg++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Jg={readContext:vt,useCallback:Gd,useContext:vt,useEffect:ra,useImperativeHandle:$d,useInsertionEffect:Hd,useLayoutEffect:Vd,useMemo:Qd,useReducer:ta,useRef:Wd,useState:function(){return ta(yi)},useDebugValue:ia,useDeferredValue:function(e){var n=yt();return Kd(n,Ne.memoizedState,e)},useTransition:function(){var e=ta(yi)[0],n=yt().memoizedState;return[e,n]},useMutableSource:Od,useSyncExternalStore:Ad,useId:Yd,unstable_isNewReconciler:!1},Zg={readContext:vt,useCallback:Gd,useContext:vt,useEffect:ra,useImperativeHandle:$d,useInsertionEffect:Hd,useLayoutEffect:Vd,useMemo:Qd,useReducer:na,useRef:Wd,useState:function(){return na(yi)},useDebugValue:ia,useDeferredValue:function(e){var n=yt();return Ne===null?n.memoizedState=e:Kd(n,Ne.memoizedState,e)},useTransition:function(){var e=na(yi)[0],n=yt().memoizedState;return[e,n]},useMutableSource:Od,useSyncExternalStore:Ad,useId:Yd,unstable_isNewReconciler:!1};function xt(e,n){if(e&&e.defaultProps){n=U({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function sa(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:U({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var $s={isMounted:function(e){return(e=e._reactInternals)?Mn(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var l=qe(),u=Cn(e),d=qt(l,u);d.payload=n,s!=null&&(d.callback=s),n=vn(e,d,u),n!==null&&(Dt(n,e,u,l),zs(n,e,u))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=qe(),u=Cn(e),d=qt(l,u);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=vn(e,d,u),n!==null&&(Dt(n,e,u,l),zs(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=qe(),l=Cn(e),u=qt(s,l);u.tag=2,n!=null&&(u.callback=n),n=vn(e,u,l),n!==null&&(Dt(n,e,l,s),zs(n,e,l))}};function Zd(e,n,s,l,u,d,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,h):n.prototype&&n.prototype.isPureReactComponent?!oi(s,l)||!oi(u,d):!0}function ef(e,n,s){var l=!1,u=mn,d=n.contextType;return typeof d=="object"&&d!==null?d=vt(d):(u=tt(n)?Fn:je.current,l=n.contextTypes,d=(l=l!=null)?hr(e,u):mn),n=new n(s,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=$s,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=d),n}function tf(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&$s.enqueueReplaceState(n,n.state,null)}function oa(e,n,s,l){var u=e.stateNode;u.props=s,u.state=e.memoizedState,u.refs={},Gl(e);var d=n.contextType;typeof d=="object"&&d!==null?u.context=vt(d):(d=tt(n)?Fn:je.current,u.context=hr(e,d)),u.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(sa(e,n,d,s),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&$s.enqueueReplaceState(u,u.state,null),Us(e,s,u,l),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function Er(e,n){try{var s="",l=n;do s+=ne(l),l=l.return;while(l);var u=s}catch(d){u=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:u,digest:null}}function la(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function aa(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var e_=typeof WeakMap=="function"?WeakMap:Map;function nf(e,n,s){s=qt(-1,s),s.tag=3,s.payload={element:null};var l=n.value;return s.callback=function(){Js||(Js=!0,Sa=l),aa(e,n)},s}function rf(e,n,s){s=qt(-1,s),s.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var u=n.value;s.payload=function(){return l(u)},s.callback=function(){aa(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){aa(e,n),typeof l!="function"&&(wn===null?wn=new Set([this]):wn.add(this));var h=n.stack;this.componentDidCatch(n.value,{componentStack:h!==null?h:""})}),s}function sf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new e_;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(s)||(u.add(s),e=p_.bind(null,e,n,s),n.then(e,e))}function of(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function lf(e,n,s,l,u){return e.mode&1?(e.flags|=65536,e.lanes=u,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=qt(-1,1),n.tag=2,vn(s,n,1))),s.lanes|=1),e)}var t_=De.ReactCurrentOwner,nt=!1;function Ye(e,n,s,l){n.child=e===null?Td(n,null,s,l):_r(n,e.child,s,l)}function af(e,n,s,l,u){s=s.render;var d=n.ref;return yr(n,u),l=Zl(e,n,s,l,d,u),s=ea(),e!==null&&!nt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,Xt(e,n,u)):(ve&&s&&Fl(n),n.flags|=1,Ye(e,n,l,u),n.child)}function uf(e,n,s,l,u){if(e===null){var d=s.type;return typeof d=="function"&&!Pa(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=d,cf(e,n,d,l,u)):(e=io(s.type,null,l,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!(e.lanes&u)){var h=d.memoizedProps;if(s=s.compare,s=s!==null?s:oi,s(h,l)&&e.ref===n.ref)return Xt(e,n,u)}return n.flags|=1,e=kn(d,l),e.ref=n.ref,e.return=n,n.child=e}function cf(e,n,s,l,u){if(e!==null){var d=e.memoizedProps;if(oi(d,l)&&e.ref===n.ref)if(nt=!1,n.pendingProps=l=d,(e.lanes&u)!==0)e.flags&131072&&(nt=!0);else return n.lanes=e.lanes,Xt(e,n,u)}return ua(e,n,s,l,u)}function df(e,n,s){var l=n.pendingProps,u=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(Sr,pt),pt|=s;else{if(!(s&1073741824))return e=d!==null?d.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,de(Sr,pt),pt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=d!==null?d.baseLanes:s,de(Sr,pt),pt|=l}else d!==null?(l=d.baseLanes|s,n.memoizedState=null):l=s,de(Sr,pt),pt|=l;return Ye(e,n,u,s),n.child}function ff(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function ua(e,n,s,l,u){var d=tt(s)?Fn:je.current;return d=hr(n,d),yr(n,u),s=Zl(e,n,s,l,d,u),l=ea(),e!==null&&!nt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,Xt(e,n,u)):(ve&&l&&Fl(n),n.flags|=1,Ye(e,n,s,u),n.child)}function hf(e,n,s,l,u){if(tt(s)){var d=!0;Rs(n)}else d=!1;if(yr(n,u),n.stateNode===null)Qs(e,n),ef(n,s,l),oa(n,s,l,u),l=!0;else if(e===null){var h=n.stateNode,_=n.memoizedProps;h.props=_;var v=h.context,T=s.contextType;typeof T=="object"&&T!==null?T=vt(T):(T=tt(s)?Fn:je.current,T=hr(n,T));var R=s.getDerivedStateFromProps,P=typeof R=="function"||typeof h.getSnapshotBeforeUpdate=="function";P||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==l||v!==T)&&tf(n,h,l,T),_n=!1;var N=n.memoizedState;h.state=N,Us(n,l,h,u),v=n.memoizedState,_!==l||N!==v||et.current||_n?(typeof R=="function"&&(sa(n,s,R,l),v=n.memoizedState),(_=_n||Zd(n,s,_,l,N,v,T))?(P||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=v),h.props=l,h.state=v,h.context=T,l=_):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,xd(e,n),_=n.memoizedProps,T=n.type===n.elementType?_:xt(n.type,_),h.props=T,P=n.pendingProps,N=h.context,v=s.contextType,typeof v=="object"&&v!==null?v=vt(v):(v=tt(s)?Fn:je.current,v=hr(n,v));var L=s.getDerivedStateFromProps;(R=typeof L=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==P||N!==v)&&tf(n,h,l,v),_n=!1,N=n.memoizedState,h.state=N,Us(n,l,h,u);var B=n.memoizedState;_!==P||N!==B||et.current||_n?(typeof L=="function"&&(sa(n,s,L,l),B=n.memoizedState),(T=_n||Zd(n,s,T,l,N,B,v)||!1)?(R||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,B,v),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,B,v)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),h.props=l,h.state=B,h.context=v,l=T):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),l=!1)}return ca(e,n,s,l,d,u)}function ca(e,n,s,l,u,d){ff(e,n);var h=(n.flags&128)!==0;if(!l&&!h)return u&&_d(n,s,!1),Xt(e,n,d);l=n.stateNode,t_.current=n;var _=h&&typeof s.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&h?(n.child=_r(n,e.child,null,d),n.child=_r(n,null,_,d)):Ye(e,n,_,d),n.memoizedState=l.state,u&&_d(n,s,!0),n.child}function pf(e){var n=e.stateNode;n.pendingContext?md(e,n.pendingContext,n.pendingContext!==n.context):n.context&&md(e,n.context,!1),Ql(e,n.containerInfo)}function mf(e,n,s,l,u){return gr(),Wl(u),n.flags|=256,Ye(e,n,s,l),n.child}var da={dehydrated:null,treeContext:null,retryLane:0};function fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function gf(e,n,s){var l=n.pendingProps,u=ye.current,d=!1,h=(n.flags&128)!==0,_;if((_=h)||(_=e!==null&&e.memoizedState===null?!1:(u&2)!==0),_?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),de(ye,u&1),e===null)return Bl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(h=l.children,e=l.fallback,d?(l=n.mode,d=n.child,h={mode:"hidden",children:h},!(l&1)&&d!==null?(d.childLanes=0,d.pendingProps=h):d=so(h,l,0,null),e=Gn(e,l,s,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=fa(s),n.memoizedState=da,e):ha(n,h));if(u=e.memoizedState,u!==null&&(_=u.dehydrated,_!==null))return n_(e,n,h,l,_,u,s);if(d){d=l.fallback,h=n.mode,u=e.child,_=u.sibling;var v={mode:"hidden",children:l.children};return!(h&1)&&n.child!==u?(l=n.child,l.childLanes=0,l.pendingProps=v,n.deletions=null):(l=kn(u,v),l.subtreeFlags=u.subtreeFlags&14680064),_!==null?d=kn(_,d):(d=Gn(d,h,s,null),d.flags|=2),d.return=n,l.return=n,l.sibling=d,n.child=l,l=d,d=n.child,h=e.child.memoizedState,h=h===null?fa(s):{baseLanes:h.baseLanes|s,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=e.childLanes&~s,n.memoizedState=da,l}return d=e.child,e=d.sibling,l=kn(d,{mode:"visible",children:l.children}),!(n.mode&1)&&(l.lanes=s),l.return=n,l.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=l,n.memoizedState=null,l}function ha(e,n){return n=so({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Gs(e,n,s,l){return l!==null&&Wl(l),_r(n,e.child,null,s),e=ha(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function n_(e,n,s,l,u,d,h){if(s)return n.flags&256?(n.flags&=-257,l=la(Error(r(422))),Gs(e,n,h,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=l.fallback,u=n.mode,l=so({mode:"visible",children:l.children},u,0,null),d=Gn(d,u,h,null),d.flags|=2,l.return=n,d.return=n,l.sibling=d,n.child=l,n.mode&1&&_r(n,e.child,null,h),n.child.memoizedState=fa(h),n.memoizedState=da,d);if(!(n.mode&1))return Gs(e,n,h,null);if(u.data==="$!"){if(l=u.nextSibling&&u.nextSibling.dataset,l)var _=l.dgst;return l=_,d=Error(r(419)),l=la(d,l,void 0),Gs(e,n,h,l)}if(_=(h&e.childLanes)!==0,nt||_){if(l=Ae,l!==null){switch(h&-h){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=u&(l.suspendedLanes|h)?0:u,u!==0&&u!==d.retryLane&&(d.retryLane=u,Yt(e,u),Dt(l,e,u,-1))}return Ra(),l=la(Error(r(421))),Gs(e,n,h,l)}return u.data==="$?"?(n.flags|=128,n.child=e.child,n=m_.bind(null,e),u._reactRetry=n,null):(e=d.treeContext,ht=hn(u.nextSibling),ft=n,ve=!0,Nt=null,e!==null&&(gt[_t++]=Qt,gt[_t++]=Kt,gt[_t++]=zn,Qt=e.id,Kt=e.overflow,zn=n),n=ha(n,l.children),n.flags|=4096,n)}function _f(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),bl(e.return,n,s)}function pa(e,n,s,l,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:u}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=u)}function vf(e,n,s){var l=n.pendingProps,u=l.revealOrder,d=l.tail;if(Ye(e,n,l.children,s),l=ye.current,l&2)l=l&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_f(e,s,n);else if(e.tag===19)_f(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(de(ye,l),!(n.mode&1))n.memoizedState=null;else switch(u){case"forwards":for(s=n.child,u=null;s!==null;)e=s.alternate,e!==null&&Bs(e)===null&&(u=s),s=s.sibling;s=u,s===null?(u=n.child,n.child=null):(u=s.sibling,s.sibling=null),pa(n,!1,u,s,d);break;case"backwards":for(s=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Bs(e)===null){n.child=u;break}e=u.sibling,u.sibling=s,s=u,u=e}pa(n,!0,s,null,d);break;case"together":pa(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Qs(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Xt(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Hn|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=kn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=kn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function r_(e,n,s){switch(n.tag){case 3:pf(n),gr();break;case 5:Dd(n);break;case 1:tt(n.type)&&Rs(n);break;case 4:Ql(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,u=n.memoizedProps.value;de(Ls,l._currentValue),l._currentValue=u;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(de(ye,ye.current&1),n.flags|=128,null):s&n.child.childLanes?gf(e,n,s):(de(ye,ye.current&1),e=Xt(e,n,s),e!==null?e.sibling:null);de(ye,ye.current&1);break;case 19:if(l=(s&n.childLanes)!==0,e.flags&128){if(l)return vf(e,n,s);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),de(ye,ye.current),l)break;return null;case 22:case 23:return n.lanes=0,df(e,n,s)}return Xt(e,n,s)}var yf,ma,wf,Ef;yf=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},ma=function(){},wf=function(e,n,s,l){var u=e.memoizedProps;if(u!==l){e=n.stateNode,Wn(Wt.current);var d=null;switch(s){case"input":u=bo(e,u),l=bo(e,l),d=[];break;case"select":u=U({},u,{value:void 0}),l=U({},l,{value:void 0}),d=[];break;case"textarea":u=Qo(e,u),l=Qo(e,l),d=[];break;default:typeof u.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Ts)}Yo(s,l);var h;s=null;for(T in u)if(!l.hasOwnProperty(T)&&u.hasOwnProperty(T)&&u[T]!=null)if(T==="style"){var _=u[T];for(h in _)_.hasOwnProperty(h)&&(s||(s={}),s[h]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(a.hasOwnProperty(T)?d||(d=[]):(d=d||[]).push(T,null));for(T in l){var v=l[T];if(_=u!=null?u[T]:void 0,l.hasOwnProperty(T)&&v!==_&&(v!=null||_!=null))if(T==="style")if(_){for(h in _)!_.hasOwnProperty(h)||v&&v.hasOwnProperty(h)||(s||(s={}),s[h]="");for(h in v)v.hasOwnProperty(h)&&_[h]!==v[h]&&(s||(s={}),s[h]=v[h])}else s||(d||(d=[]),d.push(T,s)),s=v;else T==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,_=_?_.__html:void 0,v!=null&&_!==v&&(d=d||[]).push(T,v)):T==="children"?typeof v!="string"&&typeof v!="number"||(d=d||[]).push(T,""+v):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(a.hasOwnProperty(T)?(v!=null&&T==="onScroll"&&pe("scroll",e),d||_===v||(d=[])):(d=d||[]).push(T,v))}s&&(d=d||[]).push("style",s);var T=d;(n.updateQueue=T)&&(n.flags|=4)}},Ef=function(e,n,s,l){s!==l&&(n.flags|=4)};function Ei(e,n){if(!ve)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ve(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags&14680064,l|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function i_(e,n,s){var l=n.pendingProps;switch(zl(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(n),null;case 1:return tt(n.type)&&xs(),Ve(n),null;case 3:return l=n.stateNode,wr(),me(et),me(je),ql(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(As(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Nt!==null&&(Ta(Nt),Nt=null))),ma(e,n),Ve(n),null;case 5:Kl(n);var u=Wn(gi.current);if(s=n.type,e!==null&&n.stateNode!=null)wf(e,n,s,l,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Ve(n),null}if(e=Wn(Wt.current),As(n)){l=n.stateNode,s=n.type;var d=n.memoizedProps;switch(l[Bt]=n,l[di]=d,e=(n.mode&1)!==0,s){case"dialog":pe("cancel",l),pe("close",l);break;case"iframe":case"object":case"embed":pe("load",l);break;case"video":case"audio":for(u=0;u<ai.length;u++)pe(ai[u],l);break;case"source":pe("error",l);break;case"img":case"image":case"link":pe("error",l),pe("load",l);break;case"details":pe("toggle",l);break;case"input":ec(l,d),pe("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!d.multiple},pe("invalid",l);break;case"textarea":rc(l,d),pe("invalid",l)}Yo(s,d),u=null;for(var h in d)if(d.hasOwnProperty(h)){var _=d[h];h==="children"?typeof _=="string"?l.textContent!==_&&(d.suppressHydrationWarning!==!0&&Is(l.textContent,_,e),u=["children",_]):typeof _=="number"&&l.textContent!==""+_&&(d.suppressHydrationWarning!==!0&&Is(l.textContent,_,e),u=["children",""+_]):a.hasOwnProperty(h)&&_!=null&&h==="onScroll"&&pe("scroll",l)}switch(s){case"input":ns(l),nc(l,d,!0);break;case"textarea":ns(l),sc(l);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(l.onclick=Ts)}l=u,n.updateQueue=l,l!==null&&(n.flags|=4)}else{h=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=oc(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=h.createElement(s,{is:l.is}):(e=h.createElement(s),s==="select"&&(h=e,l.multiple?h.multiple=!0:l.size&&(h.size=l.size))):e=h.createElementNS(e,s),e[Bt]=n,e[di]=l,yf(e,n,!1,!1),n.stateNode=e;e:{switch(h=qo(s,l),s){case"dialog":pe("cancel",e),pe("close",e),u=l;break;case"iframe":case"object":case"embed":pe("load",e),u=l;break;case"video":case"audio":for(u=0;u<ai.length;u++)pe(ai[u],e);u=l;break;case"source":pe("error",e),u=l;break;case"img":case"image":case"link":pe("error",e),pe("load",e),u=l;break;case"details":pe("toggle",e),u=l;break;case"input":ec(e,l),u=bo(e,l),pe("invalid",e);break;case"option":u=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},u=U({},l,{value:void 0}),pe("invalid",e);break;case"textarea":rc(e,l),u=Qo(e,l),pe("invalid",e);break;default:u=l}Yo(s,u),_=u;for(d in _)if(_.hasOwnProperty(d)){var v=_[d];d==="style"?uc(e,v):d==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&lc(e,v)):d==="children"?typeof v=="string"?(s!=="textarea"||v!=="")&&Vr(e,v):typeof v=="number"&&Vr(e,""+v):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(a.hasOwnProperty(d)?v!=null&&d==="onScroll"&&pe("scroll",e):v!=null&&Qe(e,d,v,h))}switch(s){case"input":ns(e),nc(e,l,!1);break;case"textarea":ns(e),sc(e);break;case"option":l.value!=null&&e.setAttribute("value",""+le(l.value));break;case"select":e.multiple=!!l.multiple,d=l.value,d!=null?tr(e,!!l.multiple,d,!1):l.defaultValue!=null&&tr(e,!!l.multiple,l.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Ts)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ve(n),null;case 6:if(e&&n.stateNode!=null)Ef(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(s=Wn(gi.current),Wn(Wt.current),As(n)){if(l=n.stateNode,s=n.memoizedProps,l[Bt]=n,(d=l.nodeValue!==s)&&(e=ft,e!==null))switch(e.tag){case 3:Is(l.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Is(l.nodeValue,s,(e.mode&1)!==0)}d&&(n.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[Bt]=n,n.stateNode=l}return Ve(n),null;case 13:if(me(ye),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ve&&ht!==null&&n.mode&1&&!(n.flags&128))Sd(),gr(),n.flags|=98560,d=!1;else if(d=As(n),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Bt]=n}else gr(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Ve(n),d=!1}else Nt!==null&&(Ta(Nt),Nt=null),d=!0;if(!d)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,n.mode&1&&(e===null||ye.current&1?xe===0&&(xe=3):Ra())),n.updateQueue!==null&&(n.flags|=4),Ve(n),null);case 4:return wr(),ma(e,n),e===null&&ui(n.stateNode.containerInfo),Ve(n),null;case 10:return Vl(n.type._context),Ve(n),null;case 17:return tt(n.type)&&xs(),Ve(n),null;case 19:if(me(ye),d=n.memoizedState,d===null)return Ve(n),null;if(l=(n.flags&128)!==0,h=d.rendering,h===null)if(l)Ei(d,!1);else{if(xe!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(h=Bs(e),h!==null){for(n.flags|=128,Ei(d,!1),l=h.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=s,s=n.child;s!==null;)d=s,e=l,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,e=h.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return de(ye,ye.current&1|2),n.child}e=e.sibling}d.tail!==null&&ke()>kr&&(n.flags|=128,l=!0,Ei(d,!1),n.lanes=4194304)}else{if(!l)if(e=Bs(h),e!==null){if(n.flags|=128,l=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Ei(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!ve)return Ve(n),null}else 2*ke()-d.renderingStartTime>kr&&s!==1073741824&&(n.flags|=128,l=!0,Ei(d,!1),n.lanes=4194304);d.isBackwards?(h.sibling=n.child,n.child=h):(s=d.last,s!==null?s.sibling=h:n.child=h,d.last=h)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=ke(),n.sibling=null,s=ye.current,de(ye,l?s&1|2:s&1),n):(Ve(n),null);case 22:case 23:return xa(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&n.mode&1?pt&1073741824&&(Ve(n),n.subtreeFlags&6&&(n.flags|=8192)):Ve(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function s_(e,n){switch(zl(n),n.tag){case 1:return tt(n.type)&&xs(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return wr(),me(et),me(je),ql(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Kl(n),null;case 13:if(me(ye),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));gr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return me(ye),null;case 4:return wr(),null;case 10:return Vl(n.type._context),null;case 22:case 23:return xa(),null;case 24:return null;default:return null}}var Ks=!1,be=!1,o_=typeof WeakSet=="function"?WeakSet:Set,z=null;function Cr(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){Ce(e,n,l)}else s.current=null}function ga(e,n,s){try{s()}catch(l){Ce(e,n,l)}}var Cf=!1;function l_(e,n){if(xl=ps,e=Zc(),wl(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var u=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var h=0,_=-1,v=-1,T=0,R=0,P=e,N=null;t:for(;;){for(var L;P!==s||u!==0&&P.nodeType!==3||(_=h+u),P!==d||l!==0&&P.nodeType!==3||(v=h+l),P.nodeType===3&&(h+=P.nodeValue.length),(L=P.firstChild)!==null;)N=P,P=L;for(;;){if(P===e)break t;if(N===s&&++T===u&&(_=h),N===d&&++R===l&&(v=h),(L=P.nextSibling)!==null)break;P=N,N=P.parentNode}P=L}s=_===-1||v===-1?null:{start:_,end:v}}else s=null}s=s||{start:0,end:0}}else s=null;for(Rl={focusedElem:e,selectionRange:s},ps=!1,z=n;z!==null;)if(n=z,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,z=e;else for(;z!==null;){n=z;try{var B=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var W=B.memoizedProps,Ie=B.memoizedState,S=n.stateNode,y=S.getSnapshotBeforeUpdate(n.elementType===n.type?W:xt(n.type,W),Ie);S.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var I=n.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(D){Ce(n,n.return,D)}if(e=n.sibling,e!==null){e.return=n.return,z=e;break}z=n.return}return B=Cf,Cf=!1,B}function Ci(e,n,s){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&e)===e){var d=u.destroy;u.destroy=void 0,d!==void 0&&ga(n,s,d)}u=u.next}while(u!==l)}}function Ys(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var l=s.create;s.destroy=l()}s=s.next}while(s!==n)}}function _a(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function Sf(e){var n=e.alternate;n!==null&&(e.alternate=null,Sf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Bt],delete n[di],delete n[Al],delete n[Vg],delete n[bg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kf(e){return e.tag===5||e.tag===3||e.tag===4}function If(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function va(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Ts));else if(l!==4&&(e=e.child,e!==null))for(va(e,n,s),e=e.sibling;e!==null;)va(e,n,s),e=e.sibling}function ya(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(ya(e,n,s),e=e.sibling;e!==null;)ya(e,n,s),e=e.sibling}var Ue=null,Rt=!1;function yn(e,n,s){for(s=s.child;s!==null;)Tf(e,n,s),s=s.sibling}function Tf(e,n,s){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(as,s)}catch{}switch(s.tag){case 5:be||Cr(s,n);case 6:var l=Ue,u=Rt;Ue=null,yn(e,n,s),Ue=l,Rt=u,Ue!==null&&(Rt?(e=Ue,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ue.removeChild(s.stateNode));break;case 18:Ue!==null&&(Rt?(e=Ue,s=s.stateNode,e.nodeType===8?Ol(e.parentNode,s):e.nodeType===1&&Ol(e,s),ei(e)):Ol(Ue,s.stateNode));break;case 4:l=Ue,u=Rt,Ue=s.stateNode.containerInfo,Rt=!0,yn(e,n,s),Ue=l,Rt=u;break;case 0:case 11:case 14:case 15:if(!be&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){u=l=l.next;do{var d=u,h=d.destroy;d=d.tag,h!==void 0&&(d&2||d&4)&&ga(s,n,h),u=u.next}while(u!==l)}yn(e,n,s);break;case 1:if(!be&&(Cr(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(_){Ce(s,n,_)}yn(e,n,s);break;case 21:yn(e,n,s);break;case 22:s.mode&1?(be=(l=be)||s.memoizedState!==null,yn(e,n,s),be=l):yn(e,n,s);break;default:yn(e,n,s)}}function Nf(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new o_),n.forEach(function(l){var u=g_.bind(null,e,l);s.has(l)||(s.add(l),l.then(u,u))})}}function Pt(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];try{var d=e,h=n,_=h;e:for(;_!==null;){switch(_.tag){case 5:Ue=_.stateNode,Rt=!1;break e;case 3:Ue=_.stateNode.containerInfo,Rt=!0;break e;case 4:Ue=_.stateNode.containerInfo,Rt=!0;break e}_=_.return}if(Ue===null)throw Error(r(160));Tf(d,h,u),Ue=null,Rt=!1;var v=u.alternate;v!==null&&(v.return=null),u.return=null}catch(T){Ce(u,n,T)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)xf(n,e),n=n.sibling}function xf(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pt(n,e),Ht(e),l&4){try{Ci(3,e,e.return),Ys(3,e)}catch(W){Ce(e,e.return,W)}try{Ci(5,e,e.return)}catch(W){Ce(e,e.return,W)}}break;case 1:Pt(n,e),Ht(e),l&512&&s!==null&&Cr(s,s.return);break;case 5:if(Pt(n,e),Ht(e),l&512&&s!==null&&Cr(s,s.return),e.flags&32){var u=e.stateNode;try{Vr(u,"")}catch(W){Ce(e,e.return,W)}}if(l&4&&(u=e.stateNode,u!=null)){var d=e.memoizedProps,h=s!==null?s.memoizedProps:d,_=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{_==="input"&&d.type==="radio"&&d.name!=null&&tc(u,d),qo(_,h);var T=qo(_,d);for(h=0;h<v.length;h+=2){var R=v[h],P=v[h+1];R==="style"?uc(u,P):R==="dangerouslySetInnerHTML"?lc(u,P):R==="children"?Vr(u,P):Qe(u,R,P,T)}switch(_){case"input":$o(u,d);break;case"textarea":ic(u,d);break;case"select":var N=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!d.multiple;var L=d.value;L!=null?tr(u,!!d.multiple,L,!1):N!==!!d.multiple&&(d.defaultValue!=null?tr(u,!!d.multiple,d.defaultValue,!0):tr(u,!!d.multiple,d.multiple?[]:"",!1))}u[di]=d}catch(W){Ce(e,e.return,W)}}break;case 6:if(Pt(n,e),Ht(e),l&4){if(e.stateNode===null)throw Error(r(162));u=e.stateNode,d=e.memoizedProps;try{u.nodeValue=d}catch(W){Ce(e,e.return,W)}}break;case 3:if(Pt(n,e),Ht(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ei(n.containerInfo)}catch(W){Ce(e,e.return,W)}break;case 4:Pt(n,e),Ht(e);break;case 13:Pt(n,e),Ht(e),u=e.child,u.flags&8192&&(d=u.memoizedState!==null,u.stateNode.isHidden=d,!d||u.alternate!==null&&u.alternate.memoizedState!==null||(Ca=ke())),l&4&&Nf(e);break;case 22:if(R=s!==null&&s.memoizedState!==null,e.mode&1?(be=(T=be)||R,Pt(n,e),be=T):Pt(n,e),Ht(e),l&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!R&&e.mode&1)for(z=e,R=e.child;R!==null;){for(P=z=R;z!==null;){switch(N=z,L=N.child,N.tag){case 0:case 11:case 14:case 15:Ci(4,N,N.return);break;case 1:Cr(N,N.return);var B=N.stateNode;if(typeof B.componentWillUnmount=="function"){l=N,s=N.return;try{n=l,B.props=n.memoizedProps,B.state=n.memoizedState,B.componentWillUnmount()}catch(W){Ce(l,s,W)}}break;case 5:Cr(N,N.return);break;case 22:if(N.memoizedState!==null){Df(P);continue}}L!==null?(L.return=N,z=L):Df(P)}R=R.sibling}e:for(R=null,P=e;;){if(P.tag===5){if(R===null){R=P;try{u=P.stateNode,T?(d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(_=P.stateNode,v=P.memoizedProps.style,h=v!=null&&v.hasOwnProperty("display")?v.display:null,_.style.display=ac("display",h))}catch(W){Ce(e,e.return,W)}}}else if(P.tag===6){if(R===null)try{P.stateNode.nodeValue=T?"":P.memoizedProps}catch(W){Ce(e,e.return,W)}}else if((P.tag!==22&&P.tag!==23||P.memoizedState===null||P===e)&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===e)break e;for(;P.sibling===null;){if(P.return===null||P.return===e)break e;R===P&&(R=null),P=P.return}R===P&&(R=null),P.sibling.return=P.return,P=P.sibling}}break;case 19:Pt(n,e),Ht(e),l&4&&Nf(e);break;case 21:break;default:Pt(n,e),Ht(e)}}function Ht(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(kf(s)){var l=s;break e}s=s.return}throw Error(r(160))}switch(l.tag){case 5:var u=l.stateNode;l.flags&32&&(Vr(u,""),l.flags&=-33);var d=If(e);ya(e,d,u);break;case 3:case 4:var h=l.stateNode.containerInfo,_=If(e);va(e,_,h);break;default:throw Error(r(161))}}catch(v){Ce(e,e.return,v)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function a_(e,n,s){z=e,Rf(e)}function Rf(e,n,s){for(var l=(e.mode&1)!==0;z!==null;){var u=z,d=u.child;if(u.tag===22&&l){var h=u.memoizedState!==null||Ks;if(!h){var _=u.alternate,v=_!==null&&_.memoizedState!==null||be;_=Ks;var T=be;if(Ks=h,(be=v)&&!T)for(z=u;z!==null;)h=z,v=h.child,h.tag===22&&h.memoizedState!==null?Of(u):v!==null?(v.return=h,z=v):Of(u);for(;d!==null;)z=d,Rf(d),d=d.sibling;z=u,Ks=_,be=T}Pf(e)}else u.subtreeFlags&8772&&d!==null?(d.return=u,z=d):Pf(e)}}function Pf(e){for(;z!==null;){var n=z;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:be||Ys(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!be)if(s===null)l.componentDidMount();else{var u=n.elementType===n.type?s.memoizedProps:xt(n.type,s.memoizedProps);l.componentDidUpdate(u,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&Pd(n,d,l);break;case 3:var h=n.updateQueue;if(h!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Pd(n,h,s)}break;case 5:var _=n.stateNode;if(s===null&&n.flags&4){s=_;var v=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&s.focus();break;case"img":v.src&&(s.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var T=n.alternate;if(T!==null){var R=T.memoizedState;if(R!==null){var P=R.dehydrated;P!==null&&ei(P)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}be||n.flags&512&&_a(n)}catch(N){Ce(n,n.return,N)}}if(n===e){z=null;break}if(s=n.sibling,s!==null){s.return=n.return,z=s;break}z=n.return}}function Df(e){for(;z!==null;){var n=z;if(n===e){z=null;break}var s=n.sibling;if(s!==null){s.return=n.return,z=s;break}z=n.return}}function Of(e){for(;z!==null;){var n=z;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{Ys(4,n)}catch(v){Ce(n,s,v)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var u=n.return;try{l.componentDidMount()}catch(v){Ce(n,u,v)}}var d=n.return;try{_a(n)}catch(v){Ce(n,d,v)}break;case 5:var h=n.return;try{_a(n)}catch(v){Ce(n,h,v)}}}catch(v){Ce(n,n.return,v)}if(n===e){z=null;break}var _=n.sibling;if(_!==null){_.return=n.return,z=_;break}z=n.return}}var u_=Math.ceil,qs=De.ReactCurrentDispatcher,wa=De.ReactCurrentOwner,wt=De.ReactCurrentBatchConfig,te=0,Ae=null,Te=null,Be=0,pt=0,Sr=pn(0),xe=0,Si=null,Hn=0,Xs=0,Ea=0,ki=null,rt=null,Ca=0,kr=1/0,Jt=null,Js=!1,Sa=null,wn=null,Zs=!1,En=null,eo=0,Ii=0,ka=null,to=-1,no=0;function qe(){return te&6?ke():to!==-1?to:to=ke()}function Cn(e){return e.mode&1?te&2&&Be!==0?Be&-Be:Gg.transition!==null?(no===0&&(no=kc()),no):(e=ae,e!==0||(e=window.event,e=e===void 0?16:Ac(e.type)),e):1}function Dt(e,n,s,l){if(50<Ii)throw Ii=0,ka=null,Error(r(185));Yr(e,s,l),(!(te&2)||e!==Ae)&&(e===Ae&&(!(te&2)&&(Xs|=s),xe===4&&Sn(e,Be)),it(e,l),s===1&&te===0&&!(n.mode&1)&&(kr=ke()+500,Ps&&gn()))}function it(e,n){var s=e.callbackNode;Gm(e,n);var l=ds(e,e===Ae?Be:0);if(l===0)s!==null&&Ec(s),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(s!=null&&Ec(s),n===1)e.tag===0?$g(Mf.bind(null,e)):vd(Mf.bind(null,e)),jg(function(){!(te&6)&&gn()}),s=null;else{switch(Ic(l)){case 1:s=rl;break;case 4:s=Cc;break;case 16:s=ls;break;case 536870912:s=Sc;break;default:s=ls}s=Hf(s,Af.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function Af(e,n){if(to=-1,no=0,te&6)throw Error(r(327));var s=e.callbackNode;if(Ir()&&e.callbackNode!==s)return null;var l=ds(e,e===Ae?Be:0);if(l===0)return null;if(l&30||l&e.expiredLanes||n)n=ro(e,l);else{n=l;var u=te;te|=2;var d=Ff();(Ae!==e||Be!==n)&&(Jt=null,kr=ke()+500,bn(e,n));do try{f_();break}catch(_){Lf(e,_)}while(!0);Hl(),qs.current=d,te=u,Te!==null?n=0:(Ae=null,Be=0,n=xe)}if(n!==0){if(n===2&&(u=il(e),u!==0&&(l=u,n=Ia(e,u))),n===1)throw s=Si,bn(e,0),Sn(e,l),it(e,ke()),s;if(n===6)Sn(e,l);else{if(u=e.current.alternate,!(l&30)&&!c_(u)&&(n=ro(e,l),n===2&&(d=il(e),d!==0&&(l=d,n=Ia(e,d))),n===1))throw s=Si,bn(e,0),Sn(e,l),it(e,ke()),s;switch(e.finishedWork=u,e.finishedLanes=l,n){case 0:case 1:throw Error(r(345));case 2:$n(e,rt,Jt);break;case 3:if(Sn(e,l),(l&130023424)===l&&(n=Ca+500-ke(),10<n)){if(ds(e,0)!==0)break;if(u=e.suspendedLanes,(u&l)!==l){qe(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Dl($n.bind(null,e,rt,Jt),n);break}$n(e,rt,Jt);break;case 4:if(Sn(e,l),(l&4194240)===l)break;for(n=e.eventTimes,u=-1;0<l;){var h=31-It(l);d=1<<h,h=n[h],h>u&&(u=h),l&=~d}if(l=u,l=ke()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*u_(l/1960))-l,10<l){e.timeoutHandle=Dl($n.bind(null,e,rt,Jt),l);break}$n(e,rt,Jt);break;case 5:$n(e,rt,Jt);break;default:throw Error(r(329))}}}return it(e,ke()),e.callbackNode===s?Af.bind(null,e):null}function Ia(e,n){var s=ki;return e.current.memoizedState.isDehydrated&&(bn(e,n).flags|=256),e=ro(e,n),e!==2&&(n=rt,rt=s,n!==null&&Ta(n)),e}function Ta(e){rt===null?rt=e:rt.push.apply(rt,e)}function c_(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var u=s[l],d=u.getSnapshot;u=u.value;try{if(!Tt(d(),u))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Sn(e,n){for(n&=~Ea,n&=~Xs,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-It(n),l=1<<s;e[s]=-1,n&=~l}}function Mf(e){if(te&6)throw Error(r(327));Ir();var n=ds(e,0);if(!(n&1))return it(e,ke()),null;var s=ro(e,n);if(e.tag!==0&&s===2){var l=il(e);l!==0&&(n=l,s=Ia(e,l))}if(s===1)throw s=Si,bn(e,0),Sn(e,n),it(e,ke()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,$n(e,rt,Jt),it(e,ke()),null}function Na(e,n){var s=te;te|=1;try{return e(n)}finally{te=s,te===0&&(kr=ke()+500,Ps&&gn())}}function Vn(e){En!==null&&En.tag===0&&!(te&6)&&Ir();var n=te;te|=1;var s=wt.transition,l=ae;try{if(wt.transition=null,ae=1,e)return e()}finally{ae=l,wt.transition=s,te=n,!(te&6)&&gn()}}function xa(){pt=Sr.current,me(Sr)}function bn(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Wg(s)),Te!==null)for(s=Te.return;s!==null;){var l=s;switch(zl(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&xs();break;case 3:wr(),me(et),me(je),ql();break;case 5:Kl(l);break;case 4:wr();break;case 13:me(ye);break;case 19:me(ye);break;case 10:Vl(l.type._context);break;case 22:case 23:xa()}s=s.return}if(Ae=e,Te=e=kn(e.current,null),Be=pt=n,xe=0,Si=null,Ea=Xs=Hn=0,rt=ki=null,Bn!==null){for(n=0;n<Bn.length;n++)if(s=Bn[n],l=s.interleaved,l!==null){s.interleaved=null;var u=l.next,d=s.pending;if(d!==null){var h=d.next;d.next=u,l.next=h}s.pending=l}Bn=null}return e}function Lf(e,n){do{var s=Te;try{if(Hl(),Ws.current=bs,js){for(var l=we.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}js=!1}if(jn=0,Oe=Ne=we=null,_i=!1,vi=0,wa.current=null,s===null||s.return===null){xe=1,Si=n,Te=null;break}e:{var d=e,h=s.return,_=s,v=n;if(n=Be,_.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var T=v,R=_,P=R.tag;if(!(R.mode&1)&&(P===0||P===11||P===15)){var N=R.alternate;N?(R.updateQueue=N.updateQueue,R.memoizedState=N.memoizedState,R.lanes=N.lanes):(R.updateQueue=null,R.memoizedState=null)}var L=of(h);if(L!==null){L.flags&=-257,lf(L,h,_,d,n),L.mode&1&&sf(d,T,n),n=L,v=T;var B=n.updateQueue;if(B===null){var W=new Set;W.add(v),n.updateQueue=W}else B.add(v);break e}else{if(!(n&1)){sf(d,T,n),Ra();break e}v=Error(r(426))}}else if(ve&&_.mode&1){var Ie=of(h);if(Ie!==null){!(Ie.flags&65536)&&(Ie.flags|=256),lf(Ie,h,_,d,n),Wl(Er(v,_));break e}}d=v=Er(v,_),xe!==4&&(xe=2),ki===null?ki=[d]:ki.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var S=nf(d,v,n);Rd(d,S);break e;case 1:_=v;var y=d.type,I=d.stateNode;if(!(d.flags&128)&&(typeof y.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(wn===null||!wn.has(I)))){d.flags|=65536,n&=-n,d.lanes|=n;var D=rf(d,_,n);Rd(d,D);break e}}d=d.return}while(d!==null)}Uf(s)}catch(j){n=j,Te===s&&s!==null&&(Te=s=s.return);continue}break}while(!0)}function Ff(){var e=qs.current;return qs.current=bs,e===null?bs:e}function Ra(){(xe===0||xe===3||xe===2)&&(xe=4),Ae===null||!(Hn&268435455)&&!(Xs&268435455)||Sn(Ae,Be)}function ro(e,n){var s=te;te|=2;var l=Ff();(Ae!==e||Be!==n)&&(Jt=null,bn(e,n));do try{d_();break}catch(u){Lf(e,u)}while(!0);if(Hl(),te=s,qs.current=l,Te!==null)throw Error(r(261));return Ae=null,Be=0,xe}function d_(){for(;Te!==null;)zf(Te)}function f_(){for(;Te!==null&&!zm();)zf(Te)}function zf(e){var n=jf(e.alternate,e,pt);e.memoizedProps=e.pendingProps,n===null?Uf(e):Te=n,wa.current=null}function Uf(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=s_(s,n),s!==null){s.flags&=32767,Te=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xe=6,Te=null;return}}else if(s=i_(s,n,pt),s!==null){Te=s;return}if(n=n.sibling,n!==null){Te=n;return}Te=n=e}while(n!==null);xe===0&&(xe=5)}function $n(e,n,s){var l=ae,u=wt.transition;try{wt.transition=null,ae=1,h_(e,n,s,l)}finally{wt.transition=u,ae=l}return null}function h_(e,n,s,l){do Ir();while(En!==null);if(te&6)throw Error(r(327));s=e.finishedWork;var u=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var d=s.lanes|s.childLanes;if(Qm(e,d),e===Ae&&(Te=Ae=null,Be=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Zs||(Zs=!0,Hf(ls,function(){return Ir(),null})),d=(s.flags&15990)!==0,s.subtreeFlags&15990||d){d=wt.transition,wt.transition=null;var h=ae;ae=1;var _=te;te|=4,wa.current=null,l_(e,s),xf(s,e),Ag(Rl),ps=!!xl,Rl=xl=null,e.current=s,a_(s),Um(),te=_,ae=h,wt.transition=d}else e.current=s;if(Zs&&(Zs=!1,En=e,eo=u),d=e.pendingLanes,d===0&&(wn=null),jm(s.stateNode),it(e,ke()),n!==null)for(l=e.onRecoverableError,s=0;s<n.length;s++)u=n[s],l(u.value,{componentStack:u.stack,digest:u.digest});if(Js)throw Js=!1,e=Sa,Sa=null,e;return eo&1&&e.tag!==0&&Ir(),d=e.pendingLanes,d&1?e===ka?Ii++:(Ii=0,ka=e):Ii=0,gn(),null}function Ir(){if(En!==null){var e=Ic(eo),n=wt.transition,s=ae;try{if(wt.transition=null,ae=16>e?16:e,En===null)var l=!1;else{if(e=En,En=null,eo=0,te&6)throw Error(r(331));var u=te;for(te|=4,z=e.current;z!==null;){var d=z,h=d.child;if(z.flags&16){var _=d.deletions;if(_!==null){for(var v=0;v<_.length;v++){var T=_[v];for(z=T;z!==null;){var R=z;switch(R.tag){case 0:case 11:case 15:Ci(8,R,d)}var P=R.child;if(P!==null)P.return=R,z=P;else for(;z!==null;){R=z;var N=R.sibling,L=R.return;if(Sf(R),R===T){z=null;break}if(N!==null){N.return=L,z=N;break}z=L}}}var B=d.alternate;if(B!==null){var W=B.child;if(W!==null){B.child=null;do{var Ie=W.sibling;W.sibling=null,W=Ie}while(W!==null)}}z=d}}if(d.subtreeFlags&2064&&h!==null)h.return=d,z=h;else e:for(;z!==null;){if(d=z,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Ci(9,d,d.return)}var S=d.sibling;if(S!==null){S.return=d.return,z=S;break e}z=d.return}}var y=e.current;for(z=y;z!==null;){h=z;var I=h.child;if(h.subtreeFlags&2064&&I!==null)I.return=h,z=I;else e:for(h=y;z!==null;){if(_=z,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:Ys(9,_)}}catch(j){Ce(_,_.return,j)}if(_===h){z=null;break e}var D=_.sibling;if(D!==null){D.return=_.return,z=D;break e}z=_.return}}if(te=u,gn(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(as,e)}catch{}l=!0}return l}finally{ae=s,wt.transition=n}}return!1}function Bf(e,n,s){n=Er(s,n),n=nf(e,n,1),e=vn(e,n,1),n=qe(),e!==null&&(Yr(e,1,n),it(e,n))}function Ce(e,n,s){if(e.tag===3)Bf(e,e,s);else for(;n!==null;){if(n.tag===3){Bf(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wn===null||!wn.has(l))){e=Er(s,e),e=rf(n,e,1),n=vn(n,e,1),e=qe(),n!==null&&(Yr(n,1,e),it(n,e));break}}n=n.return}}function p_(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),n=qe(),e.pingedLanes|=e.suspendedLanes&s,Ae===e&&(Be&s)===s&&(xe===4||xe===3&&(Be&130023424)===Be&&500>ke()-Ca?bn(e,0):Ea|=s),it(e,n)}function Wf(e,n){n===0&&(e.mode&1?(n=cs,cs<<=1,!(cs&130023424)&&(cs=4194304)):n=1);var s=qe();e=Yt(e,n),e!==null&&(Yr(e,n,s),it(e,s))}function m_(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Wf(e,s)}function g_(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(s=u.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(r(314))}l!==null&&l.delete(n),Wf(e,s)}var jf;jf=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||et.current)nt=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return nt=!1,r_(e,n,s);nt=!!(e.flags&131072)}else nt=!1,ve&&n.flags&1048576&&yd(n,Os,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;Qs(e,n),e=n.pendingProps;var u=hr(n,je.current);yr(n,s),u=Zl(null,n,l,e,u,s);var d=ea();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,tt(l)?(d=!0,Rs(n)):d=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Gl(n),u.updater=$s,n.stateNode=u,u._reactInternals=n,oa(n,l,e,s),n=ca(null,n,l,!0,d,s)):(n.tag=0,ve&&d&&Fl(n),Ye(null,n,u,s),n=n.child),n;case 16:l=n.elementType;e:{switch(Qs(e,n),e=n.pendingProps,u=l._init,l=u(l._payload),n.type=l,u=n.tag=v_(l),e=xt(l,e),u){case 0:n=ua(null,n,l,e,s);break e;case 1:n=hf(null,n,l,e,s);break e;case 11:n=af(null,n,l,e,s);break e;case 14:n=uf(null,n,l,xt(l.type,e),s);break e}throw Error(r(306,l,""))}return n;case 0:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:xt(l,u),ua(e,n,l,u,s);case 1:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:xt(l,u),hf(e,n,l,u,s);case 3:e:{if(pf(n),e===null)throw Error(r(387));l=n.pendingProps,d=n.memoizedState,u=d.element,xd(e,n),Us(n,l,null,s);var h=n.memoizedState;if(l=h.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){u=Er(Error(r(423)),n),n=mf(e,n,l,s,u);break e}else if(l!==u){u=Er(Error(r(424)),n),n=mf(e,n,l,s,u);break e}else for(ht=hn(n.stateNode.containerInfo.firstChild),ft=n,ve=!0,Nt=null,s=Td(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(gr(),l===u){n=Xt(e,n,s);break e}Ye(e,n,l,s)}n=n.child}return n;case 5:return Dd(n),e===null&&Bl(n),l=n.type,u=n.pendingProps,d=e!==null?e.memoizedProps:null,h=u.children,Pl(l,u)?h=null:d!==null&&Pl(l,d)&&(n.flags|=32),ff(e,n),Ye(e,n,h,s),n.child;case 6:return e===null&&Bl(n),null;case 13:return gf(e,n,s);case 4:return Ql(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=_r(n,null,l,s):Ye(e,n,l,s),n.child;case 11:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:xt(l,u),af(e,n,l,u,s);case 7:return Ye(e,n,n.pendingProps,s),n.child;case 8:return Ye(e,n,n.pendingProps.children,s),n.child;case 12:return Ye(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(l=n.type._context,u=n.pendingProps,d=n.memoizedProps,h=u.value,de(Ls,l._currentValue),l._currentValue=h,d!==null)if(Tt(d.value,h)){if(d.children===u.children&&!et.current){n=Xt(e,n,s);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var _=d.dependencies;if(_!==null){h=d.child;for(var v=_.firstContext;v!==null;){if(v.context===l){if(d.tag===1){v=qt(-1,s&-s),v.tag=2;var T=d.updateQueue;if(T!==null){T=T.shared;var R=T.pending;R===null?v.next=v:(v.next=R.next,R.next=v),T.pending=v}}d.lanes|=s,v=d.alternate,v!==null&&(v.lanes|=s),bl(d.return,s,n),_.lanes|=s;break}v=v.next}}else if(d.tag===10)h=d.type===n.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(r(341));h.lanes|=s,_=h.alternate,_!==null&&(_.lanes|=s),bl(h,s,n),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===n){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}Ye(e,n,u.children,s),n=n.child}return n;case 9:return u=n.type,l=n.pendingProps.children,yr(n,s),u=vt(u),l=l(u),n.flags|=1,Ye(e,n,l,s),n.child;case 14:return l=n.type,u=xt(l,n.pendingProps),u=xt(l.type,u),uf(e,n,l,u,s);case 15:return cf(e,n,n.type,n.pendingProps,s);case 17:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:xt(l,u),Qs(e,n),n.tag=1,tt(l)?(e=!0,Rs(n)):e=!1,yr(n,s),ef(n,l,u),oa(n,l,u,s),ca(null,n,l,!0,e,s);case 19:return vf(e,n,s);case 22:return df(e,n,s)}throw Error(r(156,n.tag))};function Hf(e,n){return wc(e,n)}function __(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,n,s,l){return new __(e,n,s,l)}function Pa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function v_(e){if(typeof e=="function")return Pa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ft)return 11;if(e===zt)return 14}return 2}function kn(e,n){var s=e.alternate;return s===null?(s=Et(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function io(e,n,s,l,u,d){var h=2;if(l=e,typeof e=="function")Pa(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case Je:return Gn(s.children,u,d,n);case mt:h=8,u|=8;break;case on:return e=Et(12,s,n,u|2),e.elementType=on,e.lanes=d,e;case ut:return e=Et(13,s,n,u),e.elementType=ut,e.lanes=d,e;case kt:return e=Et(19,s,n,u),e.elementType=kt,e.lanes=d,e;case Ee:return so(s,u,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bt:h=10;break e;case An:h=9;break e;case Ft:h=11;break e;case zt:h=14;break e;case Ze:h=16,l=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=Et(h,s,n,u),n.elementType=e,n.type=l,n.lanes=d,n}function Gn(e,n,s,l){return e=Et(7,e,l,n),e.lanes=s,e}function so(e,n,s,l){return e=Et(22,e,l,n),e.elementType=Ee,e.lanes=s,e.stateNode={isHidden:!1},e}function Da(e,n,s){return e=Et(6,e,null,n),e.lanes=s,e}function Oa(e,n,s){return n=Et(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function y_(e,n,s,l,u){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sl(0),this.expirationTimes=sl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sl(0),this.identifierPrefix=l,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Aa(e,n,s,l,u,d,h,_,v){return e=new y_(e,n,s,_,v),n===1?(n=1,d===!0&&(n|=8)):n=0,d=Et(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gl(d),e}function w_(e,n,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ke,key:l==null?null:""+l,children:e,containerInfo:n,implementation:s}}function Vf(e){if(!e)return mn;e=e._reactInternals;e:{if(Mn(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(tt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(tt(s))return gd(e,s,n)}return n}function bf(e,n,s,l,u,d,h,_,v){return e=Aa(s,l,!0,e,u,d,h,_,v),e.context=Vf(null),s=e.current,l=qe(),u=Cn(s),d=qt(l,u),d.callback=n??null,vn(s,d,u),e.current.lanes=u,Yr(e,u,l),it(e,l),e}function oo(e,n,s,l){var u=n.current,d=qe(),h=Cn(u);return s=Vf(s),n.context===null?n.context=s:n.pendingContext=s,n=qt(d,h),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=vn(u,n,h),e!==null&&(Dt(e,u,h,d),zs(e,u,h)),h}function lo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $f(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Ma(e,n){$f(e,n),(e=e.alternate)&&$f(e,n)}function E_(){return null}var Gf=typeof reportError=="function"?reportError:function(e){console.error(e)};function La(e){this._internalRoot=e}ao.prototype.render=La.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));oo(e,n,null,null)},ao.prototype.unmount=La.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Vn(function(){oo(null,e,null,null)}),n[$t]=null}};function ao(e){this._internalRoot=e}ao.prototype.unstable_scheduleHydration=function(e){if(e){var n=xc();e={blockedOn:null,target:e,priority:n};for(var s=0;s<cn.length&&n!==0&&n<cn[s].priority;s++);cn.splice(s,0,e),s===0&&Dc(e)}};function Fa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function uo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qf(){}function C_(e,n,s,l,u){if(u){if(typeof l=="function"){var d=l;l=function(){var T=lo(h);d.call(T)}}var h=bf(n,l,e,0,null,!1,!1,"",Qf);return e._reactRootContainer=h,e[$t]=h.current,ui(e.nodeType===8?e.parentNode:e),Vn(),h}for(;u=e.lastChild;)e.removeChild(u);if(typeof l=="function"){var _=l;l=function(){var T=lo(v);_.call(T)}}var v=Aa(e,0,!1,null,null,!1,!1,"",Qf);return e._reactRootContainer=v,e[$t]=v.current,ui(e.nodeType===8?e.parentNode:e),Vn(function(){oo(n,v,s,l)}),v}function co(e,n,s,l,u){var d=s._reactRootContainer;if(d){var h=d;if(typeof u=="function"){var _=u;u=function(){var v=lo(h);_.call(v)}}oo(n,h,e,u)}else h=C_(s,n,e,u,l);return lo(h)}Tc=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=Kr(n.pendingLanes);s!==0&&(ol(n,s|1),it(n,ke()),!(te&6)&&(kr=ke()+500,gn()))}break;case 13:Vn(function(){var l=Yt(e,1);if(l!==null){var u=qe();Dt(l,e,1,u)}}),Ma(e,1)}},ll=function(e){if(e.tag===13){var n=Yt(e,134217728);if(n!==null){var s=qe();Dt(n,e,134217728,s)}Ma(e,134217728)}},Nc=function(e){if(e.tag===13){var n=Cn(e),s=Yt(e,n);if(s!==null){var l=qe();Dt(s,e,n,l)}Ma(e,n)}},xc=function(){return ae},Rc=function(e,n){var s=ae;try{return ae=e,n()}finally{ae=s}},Zo=function(e,n,s){switch(n){case"input":if($o(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var u=Ns(l);if(!u)throw Error(r(90));Zu(l),$o(l,u)}}}break;case"textarea":ic(e,s);break;case"select":n=s.value,n!=null&&tr(e,!!s.multiple,n,!1)}},hc=Na,pc=Vn;var S_={usingClientEntryPoint:!1,Events:[fi,dr,Ns,dc,fc,Na]},Ti={findFiberByHostInstance:Ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k_={bundleType:Ti.bundleType,version:Ti.version,rendererPackageName:Ti.rendererPackageName,rendererConfig:Ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:De.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vc(e),e===null?null:e.stateNode},findFiberByHostInstance:Ti.findFiberByHostInstance||E_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fo.isDisabled&&fo.supportsFiber)try{as=fo.inject(k_),Ut=fo}catch{}}return st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S_,st.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fa(n))throw Error(r(200));return w_(e,n,null,s)},st.createRoot=function(e,n){if(!Fa(e))throw Error(r(299));var s=!1,l="",u=Gf;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=Aa(e,1,!1,null,null,s,!1,l,u),e[$t]=n.current,ui(e.nodeType===8?e.parentNode:e),new La(n)},st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=vc(n),e=e===null?null:e.stateNode,e},st.flushSync=function(e){return Vn(e)},st.hydrate=function(e,n,s){if(!uo(n))throw Error(r(200));return co(null,e,n,!0,s)},st.hydrateRoot=function(e,n,s){if(!Fa(e))throw Error(r(405));var l=s!=null&&s.hydratedSources||null,u=!1,d="",h=Gf;if(s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),n=bf(n,null,e,1,s??null,u,!1,d,h),e[$t]=n.current,ui(e),l)for(e=0;e<l.length;e++)s=l[e],u=s._getVersion,u=u(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,u]:n.mutableSourceEagerHydrationData.push(s,u);return new ao(n)},st.render=function(e,n,s){if(!uo(n))throw Error(r(200));return co(null,e,n,!1,s)},st.unmountComponentAtNode=function(e){if(!uo(e))throw Error(r(40));return e._reactRootContainer?(Vn(function(){co(null,null,e,!1,function(){e._reactRootContainer=null,e[$t]=null})}),!0):!1},st.unstable_batchedUpdates=Na,st.unstable_renderSubtreeIntoContainer=function(e,n,s,l){if(!uo(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return co(e,n,s,!1,l)},st.version="18.3.1-next-f1338f8080-20240426",st}var th;function O_(){if(th)return Ba.exports;th=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Ba.exports=D_(),Ba.exports}var nh;function A_(){if(nh)return ho;nh=1;var i=O_();return ho.createRoot=i.createRoot,ho.hydrateRoot=i.hydrateRoot,ho}var M_=A_(),Ct=vu();function yu(i,t){const[r,o]=Ct.useState(()=>{try{const c=window.localStorage.getItem(i);return c?JSON.parse(c):t}catch(c){return console.error("Error reading localStorage key:",i,c),t}});return[r,c=>{try{const f=c instanceof Function?c(r):c;o(f),window.localStorage.setItem(i,JSON.stringify(f))}catch(f){console.error("Error setting localStorage key:",i,f)}}]}var rh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O=function(i,t){if(!i)throw zr(t)},zr=function(i){return new Error("Firebase Database ("+Yh.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let a=i.charCodeAt(o);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++o)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},L_=function(i){const t=[];let r=0,o=0;for(;r<i.length;){const a=i[r++];if(a<128)t[o++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[r++];t[o++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[r++],f=i[r++],p=i[r++],m=((a&7)<<18|(c&63)<<12|(f&63)<<6|p&63)-65536;t[o++]=String.fromCharCode(55296+(m>>10)),t[o++]=String.fromCharCode(56320+(m&1023))}else{const c=i[r++],f=i[r++];t[o++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return t.join("")},wu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,p=f?i[a+1]:0,m=a+2<i.length,g=m?i[a+2]:0,C=c>>2,w=(c&3)<<4|p>>4;let k=(p&15)<<2|g>>6,A=g&63;m||(A=64,f||(k=64)),o.push(r[C],r[w],r[k],r[A])}return o.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(qh(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):L_(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<i.length;){const c=r[i.charAt(a++)],p=a<i.length?r[i.charAt(a)]:0;++a;const g=a<i.length?r[i.charAt(a)]:64;++a;const w=a<i.length?r[i.charAt(a)]:64;if(++a,c==null||p==null||g==null||w==null)throw new F_;const k=c<<2|p>>4;if(o.push(k),g!==64){const A=p<<4&240|g>>2;if(o.push(A),w!==64){const F=g<<6&192|w;o.push(F)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class F_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xh=function(i){const t=qh(i);return wu.encodeByteArray(t,!0)},_o=function(i){return Xh(i).replace(/\./g,"")},eu=function(i){try{return wu.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(i){return Jh(void 0,i)}function Jh(i,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!U_(r)||(i[r]=Jh(i[r],t[r]));return i}function U_(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=()=>B_().__FIREBASE_DEFAULTS__,j_=()=>{if(typeof process>"u"||typeof rh>"u")return;const i=rh.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},H_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&eu(i[1]);return t&&JSON.parse(t)},Zh=()=>{try{return W_()||j_()||H_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},V_=i=>{var t,r;return(r=(t=Zh())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},b_=i=>{const t=V_(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},ep=()=>{var i;return(i=Zh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[_o(JSON.stringify(r)),_o(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(G_())}function Q_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function np(){return Yh.NODE_ADMIN===!0}function K_(){try{return typeof indexedDB=="object"}catch{return!1}}function Y_(){return new Promise((i,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var c;t(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="FirebaseError";class Yi extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=q_,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rp.prototype.create)}}class rp{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},a=`${this.service}/${t}`,c=this.errors[t],f=c?X_(c,o):"Error",p=`${this.serviceName}: ${f} (${a}).`;return new Yi(a,p,o)}}function X_(i,t){return i.replace(J_,(r,o)=>{const a=t[o];return a!=null?String(a):`<${o}?>`})}const J_=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(i){return JSON.parse(i)}function Re(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip=function(i){let t={},r={},o={},a="";try{const c=i.split(".");t=zi(eu(c[0])||""),r=zi(eu(c[1])||""),a=c[2],o=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:o,signature:a}},Z_=function(i){const t=ip(i),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},ev=function(i){const t=ip(i).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function Ar(i,t){if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}function ih(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function vo(i,t,r){const o={};for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=t.call(r,i[a],a,i));return o}function tu(i,t){if(i===t)return!0;const r=Object.keys(i),o=Object.keys(t);for(const a of r){if(!o.includes(a))return!1;const c=i[a],f=t[a];if(sh(c)&&sh(f)){if(!tu(c,f))return!1}else if(c!==f)return!1}for(const a of o)if(!r.includes(a))return!1;return!0}function sh(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(i){const t=[];for(const[r,o]of Object.entries(i))Array.isArray(o)?o.forEach(a=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const o=this.W_;if(typeof t=="string")for(let w=0;w<16;w++)o[w]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let w=0;w<16;w++)o[w]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let w=16;w<80;w++){const k=o[w-3]^o[w-8]^o[w-14]^o[w-16];o[w]=(k<<1|k>>>31)&4294967295}let a=this.chain_[0],c=this.chain_[1],f=this.chain_[2],p=this.chain_[3],m=this.chain_[4],g,C;for(let w=0;w<80;w++){w<40?w<20?(g=p^c&(f^p),C=1518500249):(g=c^f^p,C=1859775393):w<60?(g=c&f|p&(c|f),C=2400959708):(g=c^f^p,C=3395469782);const k=(a<<5|a>>>27)+g+m+C+o[w]&4294967295;m=p,p=f,f=(c<<30|c>>>2)&4294967295,c=a,a=k}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const o=r-this.blockSize;let a=0;const c=this.buf_;let f=this.inbuf_;for(;a<r;){if(f===0)for(;a<=o;)this.compress_(t,a),a+=this.blockSize;if(typeof t=="string"){for(;a<r;)if(c[f]=t.charCodeAt(a),++f,++a,f===this.blockSize){this.compress_(c),f=0;break}}else for(;a<r;)if(c[f]=t[a],++f,++a,f===this.blockSize){this.compress_(c),f=0;break}}this.inbuf_=f,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=r&255,r/=256;this.compress_(this.buf_);let o=0;for(let a=0;a<5;a++)for(let c=24;c>=0;c-=8)t[o]=this.chain_[a]>>c&255,++o;return t}}function Eu(i,t){return`${i} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let a=i.charCodeAt(o);if(a>=55296&&a<=56319){const c=a-55296;o++,O(o<i.length,"Surrogate pair missing trail surrogate.");const f=i.charCodeAt(o)-56320;a=65536+(c<<10)+f}a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):a<65536?(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},Mo=function(i){let t=0;for(let r=0;r<i.length;r++){const o=i.charCodeAt(r);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,r++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(i){return i&&i._delegate?i._delegate:i}class Ui{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new Ao;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ov(t))try{this.getOrInitializeService({instanceIdentifier:Qn})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:a});o.resolve(c)}catch{}}}}clearInstance(t=Qn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qn){return this.instances.has(t)}getOptions(t=Qn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);o===p&&f.resolve(a)}return a}onInit(t,r){var o;const a=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(a))!==null&&o!==void 0?o:new Set;c.add(t),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&t(f,a),()=>{c.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const a of o)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:sv(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=Qn){return this.component?this.component.multipleInstances?t:Qn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sv(i){return i===Qn?void 0:i}function ov(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new iv(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(fe||(fe={}));const av={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},uv=fe.INFO,cv={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},dv=(i,t,...r)=>{if(t<i.logLevel)return;const o=new Date().toISOString(),a=cv[t];if(a)console[a](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class sp{constructor(t){this.name=t,this._logLevel=uv,this._logHandler=dv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in fe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?av[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...t),this._logHandler(this,fe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...t),this._logHandler(this,fe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...t),this._logHandler(this,fe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...t),this._logHandler(this,fe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...t),this._logHandler(this,fe.ERROR,...t)}}const fv=(i,t)=>t.some(r=>i instanceof r);let oh,lh;function hv(){return oh||(oh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pv(){return lh||(lh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const op=new WeakMap,nu=new WeakMap,lp=new WeakMap,Ha=new WeakMap,Cu=new WeakMap;function mv(i){const t=new Promise((r,o)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{r(Tn(i.result)),a()},f=()=>{o(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return t.then(r=>{r instanceof IDBCursor&&op.set(r,i)}).catch(()=>{}),Cu.set(t,i),t}function gv(i){if(nu.has(i))return;const t=new Promise((r,o)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{r(),a()},f=()=>{o(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});nu.set(i,t)}let ru={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return nu.get(i);if(t==="objectStoreNames")return i.objectStoreNames||lp.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Tn(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function _v(i){ru=i(ru)}function vv(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=i.call(Va(this),t,...r);return lp.set(o,t.sort?t.sort():[t]),Tn(o)}:pv().includes(i)?function(...t){return i.apply(Va(this),t),Tn(op.get(this))}:function(...t){return Tn(i.apply(Va(this),t))}}function yv(i){return typeof i=="function"?vv(i):(i instanceof IDBTransaction&&gv(i),fv(i,hv())?new Proxy(i,ru):i)}function Tn(i){if(i instanceof IDBRequest)return mv(i);if(Ha.has(i))return Ha.get(i);const t=yv(i);return t!==i&&(Ha.set(i,t),Cu.set(t,i)),t}const Va=i=>Cu.get(i);function wv(i,t,{blocked:r,upgrade:o,blocking:a,terminated:c}={}){const f=indexedDB.open(i,t),p=Tn(f);return o&&f.addEventListener("upgradeneeded",m=>{o(Tn(f.result),m.oldVersion,m.newVersion,Tn(f.transaction),m)}),r&&f.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),p.then(m=>{c&&m.addEventListener("close",()=>c()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const Ev=["get","getKey","getAll","getAllKeys","count"],Cv=["put","add","delete","clear"],ba=new Map;function ah(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(ba.get(t))return ba.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,a=Cv.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(a||Ev.includes(r)))return;const c=async function(f,...p){const m=this.transaction(f,a?"readwrite":"readonly");let g=m.store;return o&&(g=g.index(p.shift())),(await Promise.all([g[r](...p),a&&m.done]))[0]};return ba.set(t,c),c}_v(i=>({...i,get:(t,r,o)=>ah(t,r)||i.get(t,r,o),has:(t,r)=>!!ah(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(kv(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function kv(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const iu="@firebase/app",uh="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn=new sp("@firebase/app"),Iv="@firebase/app-compat",Tv="@firebase/analytics-compat",Nv="@firebase/analytics",xv="@firebase/app-check-compat",Rv="@firebase/app-check",Pv="@firebase/auth",Dv="@firebase/auth-compat",Ov="@firebase/database",Av="@firebase/data-connect",Mv="@firebase/database-compat",Lv="@firebase/functions",Fv="@firebase/functions-compat",zv="@firebase/installations",Uv="@firebase/installations-compat",Bv="@firebase/messaging",Wv="@firebase/messaging-compat",jv="@firebase/performance",Hv="@firebase/performance-compat",Vv="@firebase/remote-config",bv="@firebase/remote-config-compat",$v="@firebase/storage",Gv="@firebase/storage-compat",Qv="@firebase/firestore",Kv="@firebase/vertexai",Yv="@firebase/firestore-compat",qv="firebase",Xv="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su="[DEFAULT]",Jv={[iu]:"fire-core",[Iv]:"fire-core-compat",[Nv]:"fire-analytics",[Tv]:"fire-analytics-compat",[Rv]:"fire-app-check",[xv]:"fire-app-check-compat",[Pv]:"fire-auth",[Dv]:"fire-auth-compat",[Ov]:"fire-rtdb",[Av]:"fire-data-connect",[Mv]:"fire-rtdb-compat",[Lv]:"fire-fn",[Fv]:"fire-fn-compat",[zv]:"fire-iid",[Uv]:"fire-iid-compat",[Bv]:"fire-fcm",[Wv]:"fire-fcm-compat",[jv]:"fire-perf",[Hv]:"fire-perf-compat",[Vv]:"fire-rc",[bv]:"fire-rc-compat",[$v]:"fire-gcs",[Gv]:"fire-gcs-compat",[Qv]:"fire-fst",[Yv]:"fire-fst-compat",[Kv]:"fire-vertex","fire-js":"fire-js",[qv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new Map,Zv=new Map,ou=new Map;function ch(i,t){try{i.container.addComponent(t)}catch(r){tn.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function wo(i){const t=i.name;if(ou.has(t))return tn.debug(`There were multiple attempts to register component ${t}.`),!1;ou.set(t,i);for(const r of yo.values())ch(r,i);for(const r of Zv.values())ch(r,i);return!0}function ey(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nn=new rp("app","Firebase",ty);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Nn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=Xv;function ap(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const o=Object.assign({name:su,automaticDataCollectionEnabled:!1},t),a=o.name;if(typeof a!="string"||!a)throw Nn.create("bad-app-name",{appName:String(a)});if(r||(r=ep()),!r)throw Nn.create("no-options");const c=yo.get(a);if(c){if(tu(r,c.options)&&tu(o,c.config))return c;throw Nn.create("duplicate-app",{appName:a})}const f=new lv(a);for(const m of ou.values())f.addComponent(m);const p=new ny(r,o,f);return yo.set(a,p),p}function iy(i=su){const t=yo.get(i);if(!t&&i===su&&ep())return ap();if(!t)throw Nn.create("no-app",{appName:i});return t}function Pr(i,t,r){var o;let a=(o=Jv[i])!==null&&o!==void 0?o:i;r&&(a+=`-${r}`);const c=a.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const p=[`Unable to register library "${a}" with version "${t}":`];c&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&p.push("and"),f&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),tn.warn(p.join(" "));return}wo(new Ui(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="firebase-heartbeat-database",oy=1,Bi="firebase-heartbeat-store";let $a=null;function up(){return $a||($a=wv(sy,oy,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Bi)}catch(r){console.warn(r)}}}}).catch(i=>{throw Nn.create("idb-open",{originalErrorMessage:i.message})})),$a}async function ly(i){try{const r=(await up()).transaction(Bi),o=await r.objectStore(Bi).get(cp(i));return await r.done,o}catch(t){if(t instanceof Yi)tn.warn(t.message);else{const r=Nn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});tn.warn(r.message)}}}async function dh(i,t){try{const o=(await up()).transaction(Bi,"readwrite");await o.objectStore(Bi).put(t,cp(i)),await o.done}catch(r){if(r instanceof Yi)tn.warn(r.message);else{const o=Nn.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});tn.warn(o.message)}}}function cp(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=1024,uy=30*24*60*60*1e3;class cy{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new fy(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=fh();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const p=new Date(f.date).valueOf();return Date.now()-p<=uy}),this._storage.overwrite(this._heartbeatsCache))}catch(o){tn.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=fh(),{heartbeatsToSend:o,unsentEntries:a}=dy(this._heartbeatsCache.heartbeats),c=_o(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return tn.warn(r),""}}}function fh(){return new Date().toISOString().substring(0,10)}function dy(i,t=ay){const r=[];let o=i.slice();for(const a of i){const c=r.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),hh(r)>t){c.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),hh(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class fy{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return K_()?Y_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await ly(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return dh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return dh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function hh(i){return _o(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(i){wo(new Ui("platform-logger",t=>new Sv(t),"PRIVATE")),wo(new Ui("heartbeat",t=>new cy(t),"PRIVATE")),Pr(iu,uh,i),Pr(iu,uh,"esm2017"),Pr("fire-js","")}hy("");var ph={};const mh="@firebase/database",gh="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dp="";function py(i){dp=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Re(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:zi(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return rn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new my(t)}}catch{}return new gy},Yn=fp("localStorage"),_y=fp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new sp("@firebase/database"),vy=function(){let i=1;return function(){return i++}}(),hp=function(i){const t=rv(i),r=new nv;r.update(t);const o=r.digest();return wu.encodeByteArray(o)},qi=function(...i){let t="";for(let r=0;r<i.length;r++){const o=i[r];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=qi.apply(null,o):typeof o=="object"?t+=Re(o):t+=o,t+=" "}return t};let Oi=null,_h=!0;const yy=function(i,t){O(!t,"Can't turn on custom loggers persistently."),Dr.logLevel=fe.VERBOSE,Oi=Dr.log.bind(Dr)},$e=function(...i){if(_h===!0&&(_h=!1,Oi===null&&_y.get("logging_enabled")===!0&&yy()),Oi){const t=qi.apply(null,i);Oi(t)}},Xi=function(i){return function(...t){$e(i,...t)}},lu=function(...i){const t="FIREBASE INTERNAL ERROR: "+qi(...i);Dr.error(t)},nn=function(...i){const t=`FIREBASE FATAL ERROR: ${qi(...i)}`;throw Dr.error(t),new Error(t)},lt=function(...i){const t="FIREBASE WARNING: "+qi(...i);Dr.warn(t)},wy=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&lt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},pp=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},Ey=function(i){if(document.readyState==="complete")i();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Mr="[MIN_NAME]",Xn="[MAX_NAME]",Br=function(i,t){if(i===t)return 0;if(i===Mr||t===Xn)return-1;if(t===Mr||i===Xn)return 1;{const r=vh(i),o=vh(t);return r!==null?o!==null?r-o===0?i.length-t.length:r-o:-1:o!==null?1:i<t?-1:1}},Cy=function(i,t){return i===t?0:i<t?-1:1},xi=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+Re(t))},Su=function(i){if(typeof i!="object"||i===null)return Re(i);const t=[];for(const o in i)t.push(o);t.sort();let r="{";for(let o=0;o<t.length;o++)o!==0&&(r+=","),r+=Re(t[o]),r+=":",r+=Su(i[t[o]]);return r+="}",r},mp=function(i,t){const r=i.length;if(r<=t)return[i];const o=[];for(let a=0;a<r;a+=t)a+t>r?o.push(i.substring(a,r)):o.push(i.substring(a,a+t));return o};function at(i,t){for(const r in i)i.hasOwnProperty(r)&&t(r,i[r])}const gp=function(i){O(!pp(i),"Invalid JSON number");const t=11,r=52,o=(1<<t-1)-1;let a,c,f,p,m;i===0?(c=0,f=0,a=1/i===-1/0?1:0):(a=i<0,i=Math.abs(i),i>=Math.pow(2,1-o)?(p=Math.min(Math.floor(Math.log(i)/Math.LN2),o),c=p+o,f=Math.round(i*Math.pow(2,r-p)-Math.pow(2,r))):(c=0,f=Math.round(i/Math.pow(2,1-o-r))));const g=[];for(m=r;m;m-=1)g.push(f%2?1:0),f=Math.floor(f/2);for(m=t;m;m-=1)g.push(c%2?1:0),c=Math.floor(c/2);g.push(a?1:0),g.reverse();const C=g.join("");let w="";for(m=0;m<64;m+=8){let k=parseInt(C.substr(m,8),2).toString(16);k.length===1&&(k="0"+k),w=w+k}return w.toLowerCase()},Sy=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ky=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Iy(i,t){let r="Unknown Error";i==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?r="Client doesn't have permission to access the desired data.":i==="unavailable"&&(r="The service is unavailable");const o=new Error(i+" at "+t._path.toString()+": "+r);return o.code=i.toUpperCase(),o}const Ty=new RegExp("^-?(0*)\\d{1,10}$"),Ny=-2147483648,xy=2147483647,vh=function(i){if(Ty.test(i)){const t=Number(i);if(t>=Ny&&t<=xy)return t}return null},Wr=function(i){try{i()}catch(t){setTimeout(()=>{const r=t.stack||"";throw lt("Exception was thrown by user callback.",r),t},Math.floor(0))}},Ry=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ai=function(i,t){const r=setTimeout(i,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(t,r){this.appName_=t,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((r,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){lt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(t,r,o){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?($e("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',lt(t)}}class go{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}go.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku="5",_p="v",vp="s",yp="r",wp="f",Ep=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Cp="ls",Sp="p",au="ac",kp="websocket",Ip="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(t,r,o,a,c=!1,f="",p=!1,m=!1){this.secure=r,this.namespace=o,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=f,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Yn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Yn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function Oy(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function Np(i,t,r){O(typeof t=="string","typeof type must == string"),O(typeof r=="object","typeof params must == object");let o;if(t===kp)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(t===Ip)o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Oy(i)&&(r.ns=i.namespace);const a=[];return at(r,(c,f)=>{a.push(c+"="+f)}),o+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(){this.counters_={}}incrementCounter(t,r=1){rn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return z_(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga={},Qa={};function Iu(i){const t=i.toString();return Ga[t]||(Ga[t]=new Ay),Ga[t]}function My(i,t){const r=i.toString();return Qa[r]||(Qa[r]=t()),Qa[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<o.length;++a)o[a]&&Wr(()=>{this.onMessage_(o[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh="start",Fy="close",zy="pLPCommand",Uy="pRTLPCB",xp="id",Rp="pw",Pp="ser",By="cb",Wy="seg",jy="ts",Hy="d",Vy="dframe",Dp=1870,Op=30,by=Dp-Op,$y=25e3,Gy=3e4;class Nr{constructor(t,r,o,a,c,f,p){this.connId=t,this.repoInfo=r,this.applicationId=o,this.appCheckToken=a,this.authToken=c,this.transportSessionId=f,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xi(t),this.stats_=Iu(r),this.urlFn=m=>(this.appCheckToken&&(m[au]=this.appCheckToken),Np(r,Ip,m))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new Ly(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Gy)),Ey(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Tu((...c)=>{const[f,p,m,g,C]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===yh)this.id=p,this.password=m;else if(f===Fy)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...c)=>{const[f,p]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(f,p)},()=>{this.onClosed_()},this.urlFn);const o={};o[yh]="t",o[Pp]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[By]=this.scriptTagHolder.uniqueCallbackIdentifier),o[_p]=ku,this.transportSessionId&&(o[vp]=this.transportSessionId),this.lastSessionId&&(o[Cp]=this.lastSessionId),this.applicationId&&(o[Sp]=this.applicationId),this.appCheckToken&&(o[au]=this.appCheckToken),typeof location<"u"&&location.hostname&&Ep.test(location.hostname)&&(o[yp]=wp);const a=this.urlFn(o);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Nr.forceAllow_=!0}static forceDisallow(){Nr.forceDisallow_=!0}static isAvailable(){return Nr.forceAllow_?!0:!Nr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Sy()&&!ky()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=Re(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=Xh(r),a=mp(o,by);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const o={};o[Vy]="t",o[xp]=t,o[Rp]=r,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=Re(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Tu{constructor(t,r,o,a){this.onDisconnect=o,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=vy(),window[zy+this.uniqueCallbackIdentifier]=t,window[Uy+this.uniqueCallbackIdentifier]=r,this.myIFrame=Tu.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(p){$e("frame writing exception"),p.stack&&$e(p.stack),$e(p)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||$e("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[xp]=this.myID,t[Rp]=this.myPW,t[Pp]=this.currentSerial;let r=this.urlFn(t),o="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Op+o.length<=Dp;){const f=this.pendingSegs.shift();o=o+"&"+Wy+a+"="+f.seg+"&"+jy+a+"="+f.ts+"&"+Hy+a+"="+f.d,a++}return r=r+o,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,o){this.pendingSegs.push({seg:t,ts:r,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const o=()=>{this.outstandingRequests.delete(r),this.newRequest_()},a=setTimeout(o,Math.floor($y)),c=()=>{clearTimeout(a),o()};this.addTag(t,c)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const a=o.readyState;(!a||a==="loaded"||a==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),r())},o.onerror=()=>{$e("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=16384,Ky=45e3;let Eo=null;typeof MozWebSocket<"u"?Eo=MozWebSocket:typeof WebSocket<"u"&&(Eo=WebSocket);class Ot{constructor(t,r,o,a,c,f,p){this.connId=t,this.applicationId=o,this.appCheckToken=a,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xi(this.connId),this.stats_=Iu(r),this.connURL=Ot.connectionURL_(r,f,p,a,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,o,a,c){const f={};return f[_p]=ku,typeof location<"u"&&location.hostname&&Ep.test(location.hostname)&&(f[yp]=wp),r&&(f[vp]=r),o&&(f[Cp]=o),a&&(f[au]=a),c&&(f[Sp]=c),Np(t,kp,f)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Yn.set("previous_websocket_failure",!0);try{let o;np(),this.mySock=new Eo(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const a=o.message||o.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const a=o.message||o.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){Ot.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(r);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&Eo!==null&&!Ot.forceDisallow_}static previouslyFailed(){return Yn.isInMemoryStorage||Yn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Yn.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=zi(r);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(O(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const r=Re(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=mp(r,Qy);o.length>1&&this.sendString_(String(o.length));for(let a=0;a<o.length;a++)this.sendString_(o[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Ky))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ot.responsesRequiredToBeHealthy=2;Ot.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{static get ALL_TRANSPORTS(){return[Nr,Ot]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const r=Ot&&Ot.isAvailable();let o=r&&!Ot.previouslyFailed();if(t.webSocketOnly&&(r||lt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Ot];else{const a=this.transports_=[];for(const c of Wi.ALL_TRANSPORTS)c&&c.isAvailable()&&a.push(c);Wi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Wi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=6e4,qy=5e3,Xy=10*1024,Jy=100*1024,Ka="t",wh="d",Zy="s",Eh="r",e0="e",Ch="o",Sh="a",kh="n",Ih="p",t0="h";class n0{constructor(t,r,o,a,c,f,p,m,g,C){this.id=t,this.repoInfo_=r,this.applicationId_=o,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=f,this.onReady_=p,this.onDisconnect_=m,this.onKill_=g,this.lastSessionId=C,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xi("c:"+this.id+":"),this.transportManager_=new Wi(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,o)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Ai(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Jy?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Xy?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Ka in t){const r=t[Ka];r===Sh?this.upgradeIfSecondaryHealthy_():r===Eh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===Ch&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=xi("t",t),o=xi("d",t);if(r==="c")this.onSecondaryControl_(o);else if(r==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ih,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Sh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:kh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=xi("t",t),o=xi("d",t);r==="c"?this.onControl_(o):r==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=xi(Ka,t);if(wh in t){const o=t[wh];if(r===t0){const a=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(r===kh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===Zy?this.onConnectionShutdown_(o):r===Eh?this.onReset_(o):r===e0?lu("Server Error: "+o):r===Ch?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):lu("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,o=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),ku!==o&&lt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,o),Ai(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Yy))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ai(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(qy))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ih,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Yn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{put(t,r,o,a){}merge(t,r,o,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,o){}onDisconnectMerge(t,r,o){}onDisconnectCancel(t,r){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(t){this.allowedEvents_=t,this.listeners_={},O(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let a=0;a<o.length;a++)o[a].callback.apply(o[a].context,r)}}on(t,r,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:o});const a=this.getInitialEvent(t);a&&r.apply(o,a)}off(t,r,o){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let c=0;c<a.length;c++)if(a[c].callback===r&&(!o||o===a[c].context)){a.splice(c,1);return}}validateEventType_(t){O(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends Mp{static getInstance(){return new Co}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!tp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return O(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=32,Nh=768;class ue{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let o=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[o]=this.pieces_[a],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function se(){return new ue("")}function ee(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Pn(i){return i.pieces_.length-i.pieceNum_}function he(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new ue(i.pieces_,t)}function Lp(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function r0(i){let t="";for(let r=i.pieceNum_;r<i.pieces_.length;r++)i.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(i.pieces_[r])));return t||"/"}function Fp(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function zp(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let r=i.pieceNum_;r<i.pieces_.length-1;r++)t.push(i.pieces_[r]);return new ue(t,0)}function Pe(i,t){const r=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)r.push(i.pieces_[o]);if(t instanceof ue)for(let o=t.pieceNum_;o<t.pieces_.length;o++)r.push(t.pieces_[o]);else{const o=t.split("/");for(let a=0;a<o.length;a++)o[a].length>0&&r.push(o[a])}return new ue(r,0)}function Z(i){return i.pieceNum_>=i.pieces_.length}function Xe(i,t){const r=ee(i),o=ee(t);if(r===null)return t;if(r===o)return Xe(he(i),he(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function Up(i,t){if(Pn(i)!==Pn(t))return!1;for(let r=i.pieceNum_,o=t.pieceNum_;r<=i.pieces_.length;r++,o++)if(i.pieces_[r]!==t.pieces_[o])return!1;return!0}function At(i,t){let r=i.pieceNum_,o=t.pieceNum_;if(Pn(i)>Pn(t))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==t.pieces_[o])return!1;++r,++o}return!0}class i0{constructor(t,r){this.errorPrefix_=r,this.parts_=Fp(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=Mo(this.parts_[o]);Bp(this)}}function s0(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=Mo(t),Bp(i)}function o0(i){const t=i.parts_.pop();i.byteLength_-=Mo(t),i.parts_.length>0&&(i.byteLength_-=1)}function Bp(i){if(i.byteLength_>Nh)throw new Error(i.errorPrefix_+"has a key path longer than "+Nh+" bytes ("+i.byteLength_+").");if(i.parts_.length>Th)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Th+") or object contains a cycle "+Kn(i))}function Kn(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends Mp{static getInstance(){return new Nu}constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return O(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=1e3,l0=60*5*1e3,xh=30*1e3,a0=1.3,u0=3e4,c0="server_kill",Rh=3;class en extends Ap{constructor(t,r,o,a,c,f,p,m){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=a,this.onServerInfoUpdate_=c,this.authTokenProvider_=f,this.appCheckTokenProvider_=p,this.authOverride_=m,this.id=en.nextPersistentConnectionId_++,this.log_=Xi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ri,this.maxReconnectDelay_=l0,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m&&!np())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Nu.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Co.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,o){const a=++this.requestNumber_,c={r:a,a:t,b:r};this.log_(Re(c)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),o&&(this.requestCBHash_[a]=o)}get(t){this.initConnection_();const r=new Ao,a={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const p=f.d;f.s==="ok"?r.resolve(p):r.reject(p)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),r.promise}listen(t,r,o,a){this.initConnection_();const c=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+c),this.listens.has(f)||this.listens.set(f,new Map),O(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(f).has(c),"listen() called twice for same path/queryId.");const p={onComplete:a,hashFn:r,query:t,tag:o};this.listens.get(f).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(t){const r=t.query,o=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+o+" for "+a);const c={p:o},f="q";t.tag&&(c.q=r._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest(f,c,p=>{const m=p.d,g=p.s;en.warnOnListenWarnings_(m,r),(this.listens.get(o)&&this.listens.get(o).get(a))===t&&(this.log_("listen response",p),g!=="ok"&&this.removeListen_(o,a),t.onComplete&&t.onComplete(g,m))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&rn(t,"w")){const o=Ar(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const a='".indexOn": "'+r._queryParams.getIndex().toString()+'"',c=r._path.toString();lt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||ev(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=xh)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=Z_(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(r,o,a=>{const c=a.s,f=a.d||"error";this.authToken_===t&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,o=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(t,r){const o=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+a),O(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,a)&&this.connected_&&this.sendUnlisten_(o,a,t._queryObject,r)}sendUnlisten_(t,r,o,a){this.log_("Unlisten on "+t+" for "+r);const c={p:t},f="n";a&&(c.q=o,c.t=a),this.sendRequest(f,c)}onDisconnectPut(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:o})}onDisconnectMerge(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:o})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,o,a){const c={p:r,d:o};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,f=>{a&&setTimeout(()=>{a(f.s,f.d)},Math.floor(0))})}put(t,r,o,a){this.putInternal("p",t,r,o,a)}merge(t,r,o,a){this.putInternal("m",t,r,o,a)}putInternal(t,r,o,a,c){this.initConnection_();const f={p:r,d:o};c!==void 0&&(f.h=c),this.outstandingPuts_.push({action:t,request:f,onComplete:a}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,o,c=>{this.log_(r+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(c.s,c.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,o=>{if(o.s!=="ok"){const c=o.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Re(t));const r=t.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):lu("Unrecognized action received from server: "+Re(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ri,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ri,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>u0&&(this.reconnectDelay_=Ri),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*a0)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+en.nextConnectionId_++,c=this.lastSessionId;let f=!1,p=null;const m=function(){p?p.close():(f=!0,o())},g=function(w){O(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(w)};this.realtime_={close:m,sendRequest:g};const C=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[w,k]=await Promise.all([this.authTokenProvider_.getToken(C),this.appCheckTokenProvider_.getToken(C)]);f?$e("getToken() completed but was canceled"):($e("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=k&&k.token,p=new n0(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,A=>{lt(A+" ("+this.repoInfo_.toString()+")"),this.interrupt(c0)},c))}catch(w){this.log_("Failed to get token: "+w),f||(this.repoInfo_.nodeAdmin&&lt(w),m())}}}interrupt(t){$e("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){$e("Resuming connection for reason: "+t),delete this.interruptReasons_[t],ih(this.interruptReasons_)&&(this.reconnectDelay_=Ri,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let o;r?o=r.map(c=>Su(c)).join("$"):o="default";const a=this.removeListen_(t,o);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,r){const o=new ue(t).toString();let a;if(this.listens.has(o)){const c=this.listens.get(o);a=c.get(r),c.delete(r),c.size===0&&this.listens.delete(o)}else a=void 0;return a}onAuthRevoked_(t,r){$e("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Rh&&(this.reconnectDelay_=xh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){$e("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Rh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+dp.replace(/\./g,"-")]=1,tp()?t["framework.cordova"]=1:Q_()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Co.getInstance().currentlyOnline();return ih(this.interruptReasons_)&&t}}en.nextPersistentConnectionId_=0;en.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new X(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const o=new X(Mr,t),a=new X(Mr,r);return this.compare(o,a)!==0}minPost(){return X.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let po;class Wp extends Lo{static get __EMPTY_NODE(){return po}static set __EMPTY_NODE(t){po=t}compare(t,r){return Br(t.name,r.name)}isDefinedOn(t){throw zr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return X.MIN}maxPost(){return new X(Xn,po)}makePost(t,r){return O(typeof t=="string","KeyIndex indexValue must always be a string."),new X(t,po)}toString(){return".key"}}const Or=new Wp;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t,r,o,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=r?o(t.key,r):1,a&&(f*=-1),f<0)this.isReverse_?t=t.left:t=t.right;else if(f===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Fe{constructor(t,r,o,a,c){this.key=t,this.value=r,this.color=o??Fe.RED,this.left=a??ot.EMPTY_NODE,this.right=c??ot.EMPTY_NODE}copy(t,r,o,a,c){return new Fe(t??this.key,r??this.value,o??this.color,a??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let a=this;const c=o(t,a.key);return c<0?a=a.copy(null,null,null,a.left.insert(t,r,o),null):c===0?a=a.copy(null,r,null,null,null):a=a.copy(null,null,null,null,a.right.insert(t,r,o)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return ot.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let o,a;if(o=this,r(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),r(t,o.key)===0){if(o.right.isEmpty())return ot.EMPTY_NODE;a=o.right.min_(),o=o.copy(a.key,a.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Fe.RED=!0;Fe.BLACK=!1;class d0{copy(t,r,o,a,c){return this}insert(t,r,o){return new Fe(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ot{constructor(t,r=ot.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new ot(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,Fe.BLACK,null,null))}remove(t){return new ot(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Fe.BLACK,null,null))}get(t){let r,o=this.root_;for(;!o.isEmpty();){if(r=this.comparator_(t,o.key),r===0)return o.value;r<0?o=o.left:r>0&&(o=o.right)}return null}getPredecessorKey(t){let r,o=this.root_,a=null;for(;!o.isEmpty();)if(r=this.comparator_(t,o.key),r===0){if(o.left.isEmpty())return a?a.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else r<0?o=o.left:r>0&&(a=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new mo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new mo(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new mo(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new mo(this.root_,null,this.comparator_,!0,t)}}ot.EMPTY_NODE=new d0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(i,t){return Br(i.name,t.name)}function xu(i,t){return Br(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu;function h0(i){uu=i}const jp=function(i){return typeof i=="number"?"number:"+gp(i):"string:"+i},Hp=function(i){if(i.isLeafNode()){const t=i.val();O(typeof t=="string"||typeof t=="number"||typeof t=="object"&&rn(t,".sv"),"Priority must be a string or number.")}else O(i===uu||i.isEmpty(),"priority of unexpected type.");O(i===uu||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph;class Le{static set __childrenNodeConstructor(t){Ph=t}static get __childrenNodeConstructor(){return Ph}constructor(t,r=Le.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,O(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Hp(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Le(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Le.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Z(t)?this:ee(t)===".priority"?this.priorityNode_:Le.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:Le.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const o=ee(t);return o===null?r:r.isEmpty()&&o!==".priority"?this:(O(o!==".priority"||Pn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,Le.__childrenNodeConstructor.EMPTY_NODE.updateChild(he(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+jp(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=gp(this.value_):t+=this.value_,this.lazyHash_=hp(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Le.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Le.__childrenNodeConstructor?-1:(O(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,o=typeof this.value_,a=Le.VALUE_TYPE_ORDER.indexOf(r),c=Le.VALUE_TYPE_ORDER.indexOf(o);return O(a>=0,"Unknown leaf type: "+r),O(c>=0,"Unknown leaf type: "+o),a===c?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-a}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Le.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vp,bp;function p0(i){Vp=i}function m0(i){bp=i}class g0 extends Lo{compare(t,r){const o=t.node.getPriority(),a=r.node.getPriority(),c=o.compareTo(a);return c===0?Br(t.name,r.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return X.MIN}maxPost(){return new X(Xn,new Le("[PRIORITY-POST]",bp))}makePost(t,r){const o=Vp(t);return new X(r,new Le("[PRIORITY-POST]",o))}toString(){return".priority"}}const Se=new g0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=Math.log(2);class v0{constructor(t){const r=c=>parseInt(Math.log(c)/_0,10),o=c=>parseInt(Array(c+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const a=o(this.count);this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const So=function(i,t,r,o){i.sort(t);const a=function(m,g){const C=g-m;let w,k;if(C===0)return null;if(C===1)return w=i[m],k=r?r(w):w,new Fe(k,w.node,Fe.BLACK,null,null);{const A=parseInt(C/2,10)+m,F=a(m,A),H=a(A+1,g);return w=i[A],k=r?r(w):w,new Fe(k,w.node,Fe.BLACK,F,H)}},c=function(m){let g=null,C=null,w=i.length;const k=function(F,H){const K=w-F,We=w;w-=F;const Ge=a(K+1,We),Qe=i[K],De=r?r(Qe):Qe;A(new Fe(De,Qe.node,H,null,Ge))},A=function(F){g?(g.left=F,g=F):(C=F,g=F)};for(let F=0;F<m.count;++F){const H=m.nextBitIsOne(),K=Math.pow(2,m.count-(F+1));H?k(K,Fe.BLACK):(k(K,Fe.BLACK),k(K,Fe.RED))}return C},f=new v0(i.length),p=c(f);return new ot(o||t,p)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ya;const Tr={};class Zt{static get Default(){return O(Tr&&Se,"ChildrenNode.ts has not been loaded"),Ya=Ya||new Zt({".priority":Tr},{".priority":Se}),Ya}constructor(t,r){this.indexes_=t,this.indexSet_=r}get(t){const r=Ar(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof ot?r:null}hasIndex(t){return rn(this.indexSet_,t.toString())}addIndex(t,r){O(t!==Or,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let a=!1;const c=r.getIterator(X.Wrap);let f=c.getNext();for(;f;)a=a||t.isDefinedOn(f.node),o.push(f),f=c.getNext();let p;a?p=So(o,t.getCompare()):p=Tr;const m=t.toString(),g=Object.assign({},this.indexSet_);g[m]=t;const C=Object.assign({},this.indexes_);return C[m]=p,new Zt(C,g)}addToIndexes(t,r){const o=vo(this.indexes_,(a,c)=>{const f=Ar(this.indexSet_,c);if(O(f,"Missing index implementation for "+c),a===Tr)if(f.isDefinedOn(t.node)){const p=[],m=r.getIterator(X.Wrap);let g=m.getNext();for(;g;)g.name!==t.name&&p.push(g),g=m.getNext();return p.push(t),So(p,f.getCompare())}else return Tr;else{const p=r.get(t.name);let m=a;return p&&(m=m.remove(new X(t.name,p))),m.insert(t,t.node)}});return new Zt(o,this.indexSet_)}removeFromIndexes(t,r){const o=vo(this.indexes_,a=>{if(a===Tr)return a;{const c=r.get(t.name);return c?a.remove(new X(t.name,c)):a}});return new Zt(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pi;class G{static get EMPTY_NODE(){return Pi||(Pi=new G(new ot(xu),null,Zt.Default))}constructor(t,r,o){this.children_=t,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Hp(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Pi}updatePriority(t){return this.children_.isEmpty()?this:new G(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?Pi:r}}getChild(t){const r=ee(t);return r===null?this:this.getImmediateChild(r).getChild(he(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(O(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const o=new X(t,r);let a,c;r.isEmpty()?(a=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(o,this.children_)):(a=this.children_.insert(t,r),c=this.indexMap_.addToIndexes(o,this.children_));const f=a.isEmpty()?Pi:this.priorityNode_;return new G(a,f,c)}}updateChild(t,r){const o=ee(t);if(o===null)return r;{O(ee(t)!==".priority"||Pn(t)===1,".priority must be the last token in a path");const a=this.getImmediateChild(o).updateChild(he(t),r);return this.updateImmediateChild(o,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let o=0,a=0,c=!0;if(this.forEachChild(Se,(f,p)=>{r[f]=p.val(t),o++,c&&G.INTEGER_REGEXP_.test(f)?a=Math.max(a,Number(f)):c=!1}),!t&&c&&a<2*o){const f=[];for(const p in r)f[p]=r[p];return f}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+jp(this.getPriority().val())+":"),this.forEachChild(Se,(r,o)=>{const a=o.hash();a!==""&&(t+=":"+r+":"+a)}),this.lazyHash_=t===""?"":hp(t)}return this.lazyHash_}getPredecessorChildName(t,r,o){const a=this.resolveIndex_(o);if(a){const c=a.getPredecessorKey(new X(t,r));return c?c.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new X(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new X(r,this.children_.get(r)):null}forEachChild(t,r){const o=this.resolveIndex_(t);return o?o.inorderTraversal(a=>r(a.name,a.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,X.Wrap);let c=a.peek();for(;c!=null&&r.compare(c,t)<0;)a.getNext(),c=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,X.Wrap);let c=a.peek();for(;c!=null&&r.compare(c,t)>0;)a.getNext(),c=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ji?-1:0}withIndex(t){if(t===Or||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new G(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Or||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const o=this.getIterator(Se),a=r.getIterator(Se);let c=o.getNext(),f=a.getNext();for(;c&&f;){if(c.name!==f.name||!c.node.equals(f.node))return!1;c=o.getNext(),f=a.getNext()}return c===null&&f===null}else return!1;else return!1}}resolveIndex_(t){return t===Or?null:this.indexMap_.get(t.toString())}}G.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class y0 extends G{constructor(){super(new ot(xu),G.EMPTY_NODE,Zt.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return G.EMPTY_NODE}isEmpty(){return!1}}const Ji=new y0;Object.defineProperties(X,{MIN:{value:new X(Mr,G.EMPTY_NODE)},MAX:{value:new X(Xn,Ji)}});Wp.__EMPTY_NODE=G.EMPTY_NODE;Le.__childrenNodeConstructor=G;h0(Ji);m0(Ji);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=!0;function ze(i,t=null){if(i===null)return G.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(t=i[".priority"]),O(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const r=i;return new Le(r,ze(t))}if(!(i instanceof Array)&&w0){const r=[];let o=!1;if(at(i,(f,p)=>{if(f.substring(0,1)!=="."){const m=ze(p);m.isEmpty()||(o=o||!m.getPriority().isEmpty(),r.push(new X(f,m)))}}),r.length===0)return G.EMPTY_NODE;const c=So(r,f0,f=>f.name,xu);if(o){const f=So(r,Se.getCompare());return new G(c,ze(t),new Zt({".priority":f},{".priority":Se}))}else return new G(c,ze(t),Zt.Default)}else{let r=G.EMPTY_NODE;return at(i,(o,a)=>{if(rn(i,o)&&o.substring(0,1)!=="."){const c=ze(a);(c.isLeafNode()||!c.isEmpty())&&(r=r.updateImmediateChild(o,c))}}),r.updatePriority(ze(t))}}p0(ze);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0 extends Lo{constructor(t){super(),this.indexPath_=t,O(!Z(t)&&ee(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const o=this.extractChild(t.node),a=this.extractChild(r.node),c=o.compareTo(a);return c===0?Br(t.name,r.name):c}makePost(t,r){const o=ze(t),a=G.EMPTY_NODE.updateChild(this.indexPath_,o);return new X(r,a)}maxPost(){const t=G.EMPTY_NODE.updateChild(this.indexPath_,Ji);return new X(Xn,t)}toString(){return Fp(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0 extends Lo{compare(t,r){const o=t.node.compareTo(r.node);return o===0?Br(t.name,r.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return X.MIN}maxPost(){return X.MAX}makePost(t,r){const o=ze(t);return new X(r,o)}toString(){return".value"}}const S0=new C0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(i){return{type:"value",snapshotNode:i}}function Lr(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function ji(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function Hi(i,t,r){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:r}}function k0(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(t){this.index_=t}updateChild(t,r,o,a,c,f){O(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=t.getImmediateChild(r);return p.getChild(a).equals(o.getChild(a))&&p.isEmpty()===o.isEmpty()||(f!=null&&(o.isEmpty()?t.hasChild(r)?f.trackChildChange(ji(r,p)):O(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?f.trackChildChange(Lr(r,o)):f.trackChildChange(Hi(r,o,p))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(r,o).withIndex(this.index_)}updateFullNode(t,r,o){return o!=null&&(t.isLeafNode()||t.forEachChild(Se,(a,c)=>{r.hasChild(a)||o.trackChildChange(ji(a,c))}),r.isLeafNode()||r.forEachChild(Se,(a,c)=>{if(t.hasChild(a)){const f=t.getImmediateChild(a);f.equals(c)||o.trackChildChange(Hi(a,c,f))}else o.trackChildChange(Lr(a,c))})),r.withIndex(this.index_)}updatePriority(t,r){return t.isEmpty()?G.EMPTY_NODE:t.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t){this.indexedFilter_=new Ru(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Vi.getStartPost_(t),this.endPost_=Vi.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return r&&o}updateChild(t,r,o,a,c,f){return this.matches(new X(r,o))||(o=G.EMPTY_NODE),this.indexedFilter_.updateChild(t,r,o,a,c,f)}updateFullNode(t,r,o){r.isLeafNode()&&(r=G.EMPTY_NODE);let a=r.withIndex(this.index_);a=a.updatePriority(G.EMPTY_NODE);const c=this;return r.forEachChild(Se,(f,p)=>{c.matches(new X(f,p))||(a=a.updateImmediateChild(f,G.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const r=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),r)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const r=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),r)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(t){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=r=>{const o=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new Vi(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,r,o,a,c,f){return this.rangedFilter_.matches(new X(r,o))||(o=G.EMPTY_NODE),t.getImmediateChild(r).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,r,o,a,c,f):this.fullLimitUpdateChild_(t,r,o,c,f)}updateFullNode(t,r,o){let a;if(r.isLeafNode()||r.isEmpty())a=G.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){a=G.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;c.hasNext()&&f<this.limit_;){const p=c.getNext();if(this.withinDirectionalStart(p))if(this.withinDirectionalEnd(p))a=a.updateImmediateChild(p.name,p.node),f++;else break;else continue}}else{a=r.withIndex(this.index_),a=a.updatePriority(G.EMPTY_NODE);let c;this.reverse_?c=a.getReverseIterator(this.index_):c=a.getIterator(this.index_);let f=0;for(;c.hasNext();){const p=c.getNext();f<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?f++:a=a.updateImmediateChild(p.name,G.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,r,o,a,c){let f;if(this.reverse_){const w=this.index_.getCompare();f=(k,A)=>w(A,k)}else f=this.index_.getCompare();const p=t;O(p.numChildren()===this.limit_,"");const m=new X(r,o),g=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),C=this.rangedFilter_.matches(m);if(p.hasChild(r)){const w=p.getImmediateChild(r);let k=a.getChildAfterChild(this.index_,g,this.reverse_);for(;k!=null&&(k.name===r||p.hasChild(k.name));)k=a.getChildAfterChild(this.index_,k,this.reverse_);const A=k==null?1:f(k,m);if(C&&!o.isEmpty()&&A>=0)return c!=null&&c.trackChildChange(Hi(r,o,w)),p.updateImmediateChild(r,o);{c!=null&&c.trackChildChange(ji(r,w));const H=p.updateImmediateChild(r,G.EMPTY_NODE);return k!=null&&this.rangedFilter_.matches(k)?(c!=null&&c.trackChildChange(Lr(k.name,k.node)),H.updateImmediateChild(k.name,k.node)):H}}else return o.isEmpty()?t:C&&f(g,m)>=0?(c!=null&&(c.trackChildChange(ji(g.name,g.node)),c.trackChildChange(Lr(r,o))),p.updateImmediateChild(r,o).updateImmediateChild(g.name,G.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Se}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mr}hasEnd(){return this.endSet_}getIndexEndValue(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Se}copy(){const t=new Pu;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function T0(i){return i.loadsAllData()?new Ru(i.getIndex()):i.hasLimit()?new I0(i):new Vi(i)}function Dh(i){const t={};if(i.isDefault())return t;let r;if(i.index_===Se?r="$priority":i.index_===S0?r="$value":i.index_===Or?r="$key":(O(i.index_ instanceof E0,"Unrecognized index type!"),r=i.index_.toString()),t.orderBy=Re(r),i.startSet_){const o=i.startAfterSet_?"startAfter":"startAt";t[o]=Re(i.indexStartValue_),i.startNameSet_&&(t[o]+=","+Re(i.indexStartName_))}if(i.endSet_){const o=i.endBeforeSet_?"endBefore":"endAt";t[o]=Re(i.indexEndValue_),i.endNameSet_&&(t[o]+=","+Re(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function Oh(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let r=i.viewFrom_;r===""&&(i.isViewFromLeft()?r="l":r="r"),t.vf=r}return i.index_!==Se&&(t.i=i.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends Ap{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(O(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,r,o,a){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.log_=Xi("p:rest:"),this.listens_={}}listen(t,r,o,a){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const f=ko.getListenId_(t,o),p={};this.listens_[f]=p;const m=Dh(t._queryParams);this.restRequest_(c+".json",m,(g,C)=>{let w=C;if(g===404&&(w=null,g=null),g===null&&this.onDataUpdate_(c,w,!1,o),Ar(this.listens_,f)===p){let k;g?g===401?k="permission_denied":k="rest_error:"+g:k="ok",a(k,null)}})}unlisten(t,r){const o=ko.getListenId_(t,r);delete this.listens_[o]}get(t){const r=Dh(t._queryParams),o=t._path.toString(),a=new Ao;return this.restRequest_(o+".json",r,(c,f)=>{let p=f;c===404&&(p=null,c=null),c===null?(this.onDataUpdate_(o,p,!1,null),a.resolve(p)):a.reject(new Error(p))}),a.promise}refreshAuthToken(t){}restRequest_(t,r={},o){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(r.auth=a.accessToken),c&&c.token&&(r.ac=c.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+tv(r);this.log_("Sending REST request for "+f);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(o&&p.readyState===4){this.log_("REST Response for "+f+" received. status:",p.status,"response:",p.responseText);let m=null;if(p.status>=200&&p.status<300){try{m=zi(p.responseText)}catch{lt("Failed to parse JSON response for "+f+": "+p.responseText)}o(null,m)}else p.status!==401&&p.status!==404&&lt("Got unsuccessful REST response for "+f+" Status: "+p.status),o(p.status);o=null}},p.open("GET",f,!0),p.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(){this.rootNode_=G.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(){return{value:null,children:new Map}}function Gp(i,t,r){if(Z(t))i.value=r,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(t,r);else{const o=ee(t);i.children.has(o)||i.children.set(o,Io());const a=i.children.get(o);t=he(t),Gp(a,t,r)}}function cu(i,t,r){i.value!==null?r(t,i.value):x0(i,(o,a)=>{const c=new ue(t.toString()+"/"+o);cu(a,c,r)})}function x0(i,t){i.children.forEach((r,o)=>{t(o,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r=Object.assign({},t);return this.last_&&at(this.last_,(o,a)=>{r[o]=r[o]-a}),this.last_=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=10*1e3,P0=30*1e3,D0=5*60*1e3;class O0{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new R0(t);const o=Ah+(P0-Ah)*Math.random();Ai(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),r={};let o=!1;at(t,(a,c)=>{c>0&&rn(this.statsToReport_,a)&&(r[a]=c,o=!0)}),o&&this.server_.reportStats(r),Ai(this.reportStats_.bind(this),Math.floor(Math.random()*2*D0))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Mt||(Mt={}));function Qp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Du(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ou(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t,r,o){this.path=t,this.affectedTree=r,this.revert=o,this.type=Mt.ACK_USER_WRITE,this.source=Qp()}operationForChild(t){if(Z(this.path)){if(this.affectedTree.value!=null)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new ue(t));return new To(se(),r,this.revert)}}else return O(ee(this.path)===t,"operationForChild called for unrelated child."),new To(he(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t,r){this.source=t,this.path=r,this.type=Mt.LISTEN_COMPLETE}operationForChild(t){return Z(this.path)?new bi(this.source,se()):new bi(this.source,he(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t,r,o){this.source=t,this.path=r,this.snap=o,this.type=Mt.OVERWRITE}operationForChild(t){return Z(this.path)?new Jn(this.source,se(),this.snap.getImmediateChild(t)):new Jn(this.source,he(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t,r,o){this.source=t,this.path=r,this.children=o,this.type=Mt.MERGE}operationForChild(t){if(Z(this.path)){const r=this.children.subtree(new ue(t));return r.isEmpty()?null:r.value?new Jn(this.source,se(),r.value):new $i(this.source,se(),r)}else return O(ee(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new $i(this.source,he(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t,r,o){this.node_=t,this.fullyInitialized_=r,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Z(t))return this.isFullyInitialized()&&!this.filtered_;const r=ee(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function M0(i,t,r,o){const a=[],c=[];return t.forEach(f=>{f.type==="child_changed"&&i.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&c.push(k0(f.childName,f.snapshotNode))}),Di(i,a,"child_removed",t,o,r),Di(i,a,"child_added",t,o,r),Di(i,a,"child_moved",c,o,r),Di(i,a,"child_changed",t,o,r),Di(i,a,"value",t,o,r),a}function Di(i,t,r,o,a,c){const f=o.filter(p=>p.type===r);f.sort((p,m)=>F0(i,p,m)),f.forEach(p=>{const m=L0(i,p,c);a.forEach(g=>{g.respondsTo(p.type)&&t.push(g.createEvent(m,i.query_))})})}function L0(i,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}function F0(i,t,r){if(t.childName==null||r.childName==null)throw zr("Should only compare child_ events.");const o=new X(t.childName,t.snapshotNode),a=new X(r.childName,r.snapshotNode);return i.index_.compare(o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(i,t){return{eventCache:i,serverCache:t}}function Mi(i,t,r,o){return Fo(new Dn(t,r,o),i.serverCache)}function Kp(i,t,r,o){return Fo(i.eventCache,new Dn(t,r,o))}function No(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Zn(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa;const z0=()=>(qa||(qa=new ot(Cy)),qa);class ge{static fromObject(t){let r=new ge(null);return at(t,(o,a)=>{r=r.set(new ue(o),a)}),r}constructor(t,r=z0()){this.value=t,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:se(),value:this.value};if(Z(t))return null;{const o=ee(t),a=this.children.get(o);if(a!==null){const c=a.findRootMostMatchingPathAndValue(he(t),r);return c!=null?{path:Pe(new ue(o),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Z(t))return this;{const r=ee(t),o=this.children.get(r);return o!==null?o.subtree(he(t)):new ge(null)}}set(t,r){if(Z(t))return new ge(r,this.children);{const o=ee(t),c=(this.children.get(o)||new ge(null)).set(he(t),r),f=this.children.insert(o,c);return new ge(this.value,f)}}remove(t){if(Z(t))return this.children.isEmpty()?new ge(null):new ge(null,this.children);{const r=ee(t),o=this.children.get(r);if(o){const a=o.remove(he(t));let c;return a.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,a),this.value===null&&c.isEmpty()?new ge(null):new ge(this.value,c)}else return this}}get(t){if(Z(t))return this.value;{const r=ee(t),o=this.children.get(r);return o?o.get(he(t)):null}}setTree(t,r){if(Z(t))return r;{const o=ee(t),c=(this.children.get(o)||new ge(null)).setTree(he(t),r);let f;return c.isEmpty()?f=this.children.remove(o):f=this.children.insert(o,c),new ge(this.value,f)}}fold(t){return this.fold_(se(),t)}fold_(t,r){const o={};return this.children.inorderTraversal((a,c)=>{o[a]=c.fold_(Pe(t,a),r)}),r(t,this.value,o)}findOnPath(t,r){return this.findOnPath_(t,se(),r)}findOnPath_(t,r,o){const a=this.value?o(r,this.value):!1;if(a)return a;if(Z(t))return null;{const c=ee(t),f=this.children.get(c);return f?f.findOnPath_(he(t),Pe(r,c),o):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,se(),r)}foreachOnPath_(t,r,o){if(Z(t))return this;{this.value&&o(r,this.value);const a=ee(t),c=this.children.get(a);return c?c.foreachOnPath_(he(t),Pe(r,a),o):new ge(null)}}foreach(t){this.foreach_(se(),t)}foreach_(t,r){this.children.inorderTraversal((o,a)=>{a.foreach_(Pe(t,o),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,o)=>{o.value&&t(r,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(t){this.writeTree_=t}static empty(){return new Lt(new ge(null))}}function Li(i,t,r){if(Z(t))return new Lt(new ge(r));{const o=i.writeTree_.findRootMostValueAndPath(t);if(o!=null){const a=o.path;let c=o.value;const f=Xe(a,t);return c=c.updateChild(f,r),new Lt(i.writeTree_.set(a,c))}else{const a=new ge(r),c=i.writeTree_.setTree(t,a);return new Lt(c)}}}function Mh(i,t,r){let o=i;return at(r,(a,c)=>{o=Li(o,Pe(t,a),c)}),o}function Lh(i,t){if(Z(t))return Lt.empty();{const r=i.writeTree_.setTree(t,new ge(null));return new Lt(r)}}function du(i,t){return er(i,t)!=null}function er(i,t){const r=i.writeTree_.findRootMostValueAndPath(t);return r!=null?i.writeTree_.get(r.path).getChild(Xe(r.path,t)):null}function Fh(i){const t=[],r=i.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Se,(o,a)=>{t.push(new X(o,a))}):i.writeTree_.children.inorderTraversal((o,a)=>{a.value!=null&&t.push(new X(o,a.value))}),t}function xn(i,t){if(Z(t))return i;{const r=er(i,t);return r!=null?new Lt(new ge(r)):new Lt(i.writeTree_.subtree(t))}}function fu(i){return i.writeTree_.isEmpty()}function Fr(i,t){return Yp(se(),i.writeTree_,t)}function Yp(i,t,r){if(t.value!=null)return r.updateChild(i,t.value);{let o=null;return t.children.inorderTraversal((a,c)=>{a===".priority"?(O(c.value!==null,"Priority writes must always be leaf nodes"),o=c.value):r=Yp(Pe(i,a),c,r)}),!r.getChild(i).isEmpty()&&o!==null&&(r=r.updateChild(Pe(i,".priority"),o)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(i,t){return Zp(t,i)}function U0(i,t,r,o,a){O(o>i.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),i.allWrites.push({path:t,snap:r,writeId:o,visible:a}),a&&(i.visibleWrites=Li(i.visibleWrites,t,r)),i.lastWriteId=o}function B0(i,t){for(let r=0;r<i.allWrites.length;r++){const o=i.allWrites[r];if(o.writeId===t)return o}return null}function W0(i,t){const r=i.allWrites.findIndex(p=>p.writeId===t);O(r>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[r];i.allWrites.splice(r,1);let a=o.visible,c=!1,f=i.allWrites.length-1;for(;a&&f>=0;){const p=i.allWrites[f];p.visible&&(f>=r&&j0(p,o.path)?a=!1:At(o.path,p.path)&&(c=!0)),f--}if(a){if(c)return H0(i),!0;if(o.snap)i.visibleWrites=Lh(i.visibleWrites,o.path);else{const p=o.children;at(p,m=>{i.visibleWrites=Lh(i.visibleWrites,Pe(o.path,m))})}return!0}else return!1}function j0(i,t){if(i.snap)return At(i.path,t);for(const r in i.children)if(i.children.hasOwnProperty(r)&&At(Pe(i.path,r),t))return!0;return!1}function H0(i){i.visibleWrites=qp(i.allWrites,V0,se()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function V0(i){return i.visible}function qp(i,t,r){let o=Lt.empty();for(let a=0;a<i.length;++a){const c=i[a];if(t(c)){const f=c.path;let p;if(c.snap)At(r,f)?(p=Xe(r,f),o=Li(o,p,c.snap)):At(f,r)&&(p=Xe(f,r),o=Li(o,se(),c.snap.getChild(p)));else if(c.children){if(At(r,f))p=Xe(r,f),o=Mh(o,p,c.children);else if(At(f,r))if(p=Xe(f,r),Z(p))o=Mh(o,se(),c.children);else{const m=Ar(c.children,ee(p));if(m){const g=m.getChild(he(p));o=Li(o,se(),g)}}}else throw zr("WriteRecord should have .snap or .children")}}return o}function Xp(i,t,r,o,a){if(!o&&!a){const c=er(i.visibleWrites,t);if(c!=null)return c;{const f=xn(i.visibleWrites,t);if(fu(f))return r;if(r==null&&!du(f,se()))return null;{const p=r||G.EMPTY_NODE;return Fr(f,p)}}}else{const c=xn(i.visibleWrites,t);if(!a&&fu(c))return r;if(!a&&r==null&&!du(c,se()))return null;{const f=function(g){return(g.visible||a)&&(!o||!~o.indexOf(g.writeId))&&(At(g.path,t)||At(t,g.path))},p=qp(i.allWrites,f,t),m=r||G.EMPTY_NODE;return Fr(p,m)}}}function b0(i,t,r){let o=G.EMPTY_NODE;const a=er(i.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(Se,(c,f)=>{o=o.updateImmediateChild(c,f)}),o;if(r){const c=xn(i.visibleWrites,t);return r.forEachChild(Se,(f,p)=>{const m=Fr(xn(c,new ue(f)),p);o=o.updateImmediateChild(f,m)}),Fh(c).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}else{const c=xn(i.visibleWrites,t);return Fh(c).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}}function $0(i,t,r,o,a){O(o||a,"Either existingEventSnap or existingServerSnap must exist");const c=Pe(t,r);if(du(i.visibleWrites,c))return null;{const f=xn(i.visibleWrites,c);return fu(f)?a.getChild(r):Fr(f,a.getChild(r))}}function G0(i,t,r,o){const a=Pe(t,r),c=er(i.visibleWrites,a);if(c!=null)return c;if(o.isCompleteForChild(r)){const f=xn(i.visibleWrites,a);return Fr(f,o.getNode().getImmediateChild(r))}else return null}function Q0(i,t){return er(i.visibleWrites,t)}function K0(i,t,r,o,a,c,f){let p;const m=xn(i.visibleWrites,t),g=er(m,se());if(g!=null)p=g;else if(r!=null)p=Fr(m,r);else return[];if(p=p.withIndex(f),!p.isEmpty()&&!p.isLeafNode()){const C=[],w=f.getCompare(),k=c?p.getReverseIteratorFrom(o,f):p.getIteratorFrom(o,f);let A=k.getNext();for(;A&&C.length<a;)w(A,o)!==0&&C.push(A),A=k.getNext();return C}else return[]}function Y0(){return{visibleWrites:Lt.empty(),allWrites:[],lastWriteId:-1}}function xo(i,t,r,o){return Xp(i.writeTree,i.treePath,t,r,o)}function Au(i,t){return b0(i.writeTree,i.treePath,t)}function zh(i,t,r,o){return $0(i.writeTree,i.treePath,t,r,o)}function Ro(i,t){return Q0(i.writeTree,Pe(i.treePath,t))}function q0(i,t,r,o,a,c){return K0(i.writeTree,i.treePath,t,r,o,a,c)}function Mu(i,t,r){return G0(i.writeTree,i.treePath,t,r)}function Jp(i,t){return Zp(Pe(i.treePath,t),i.writeTree)}function Zp(i,t){return{treePath:i,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,o=t.childName;O(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),O(o!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(o);if(a){const c=a.type;if(r==="child_added"&&c==="child_removed")this.changeMap.set(o,Hi(o,t.snapshotNode,a.snapshotNode));else if(r==="child_removed"&&c==="child_added")this.changeMap.delete(o);else if(r==="child_removed"&&c==="child_changed")this.changeMap.set(o,ji(o,a.oldSnap));else if(r==="child_changed"&&c==="child_added")this.changeMap.set(o,Lr(o,t.snapshotNode));else if(r==="child_changed"&&c==="child_changed")this.changeMap.set(o,Hi(o,t.snapshotNode,a.oldSnap));else throw zr("Illegal combination of changes: "+t+" occurred after "+a)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{getCompleteChild(t){return null}getChildAfterChild(t,r,o){return null}}const em=new J0;class Lu{constructor(t,r,o=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=o}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new Dn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Mu(this.writes_,t,o)}}getChildAfterChild(t,r,o){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Zn(this.viewCache_),c=q0(this.writes_,a,r,1,o,t);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(i){return{filter:i}}function ew(i,t){O(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),O(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function tw(i,t,r,o,a){const c=new X0;let f,p;if(r.type===Mt.OVERWRITE){const g=r;g.source.fromUser?f=hu(i,t,g.path,g.snap,o,a,c):(O(g.source.fromServer,"Unknown source."),p=g.source.tagged||t.serverCache.isFiltered()&&!Z(g.path),f=Po(i,t,g.path,g.snap,o,a,p,c))}else if(r.type===Mt.MERGE){const g=r;g.source.fromUser?f=rw(i,t,g.path,g.children,o,a,c):(O(g.source.fromServer,"Unknown source."),p=g.source.tagged||t.serverCache.isFiltered(),f=pu(i,t,g.path,g.children,o,a,p,c))}else if(r.type===Mt.ACK_USER_WRITE){const g=r;g.revert?f=ow(i,t,g.path,o,a,c):f=iw(i,t,g.path,g.affectedTree,o,a,c)}else if(r.type===Mt.LISTEN_COMPLETE)f=sw(i,t,r.path,o,c);else throw zr("Unknown operation type: "+r.type);const m=c.getChanges();return nw(t,f,m),{viewCache:f,changes:m}}function nw(i,t,r){const o=t.eventCache;if(o.isFullyInitialized()){const a=o.getNode().isLeafNode()||o.getNode().isEmpty(),c=No(i);(r.length>0||!i.eventCache.isFullyInitialized()||a&&!o.getNode().equals(c)||!o.getNode().getPriority().equals(c.getPriority()))&&r.push($p(No(t)))}}function tm(i,t,r,o,a,c){const f=t.eventCache;if(Ro(o,r)!=null)return t;{let p,m;if(Z(r))if(O(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=Zn(t),C=g instanceof G?g:G.EMPTY_NODE,w=Au(o,C);p=i.filter.updateFullNode(t.eventCache.getNode(),w,c)}else{const g=xo(o,Zn(t));p=i.filter.updateFullNode(t.eventCache.getNode(),g,c)}else{const g=ee(r);if(g===".priority"){O(Pn(r)===1,"Can't have a priority with additional path components");const C=f.getNode();m=t.serverCache.getNode();const w=zh(o,r,C,m);w!=null?p=i.filter.updatePriority(C,w):p=f.getNode()}else{const C=he(r);let w;if(f.isCompleteForChild(g)){m=t.serverCache.getNode();const k=zh(o,r,f.getNode(),m);k!=null?w=f.getNode().getImmediateChild(g).updateChild(C,k):w=f.getNode().getImmediateChild(g)}else w=Mu(o,g,t.serverCache);w!=null?p=i.filter.updateChild(f.getNode(),g,w,C,a,c):p=f.getNode()}}return Mi(t,p,f.isFullyInitialized()||Z(r),i.filter.filtersNodes())}}function Po(i,t,r,o,a,c,f,p){const m=t.serverCache;let g;const C=f?i.filter:i.filter.getIndexedFilter();if(Z(r))g=C.updateFullNode(m.getNode(),o,null);else if(C.filtersNodes()&&!m.isFiltered()){const A=m.getNode().updateChild(r,o);g=C.updateFullNode(m.getNode(),A,null)}else{const A=ee(r);if(!m.isCompleteForPath(r)&&Pn(r)>1)return t;const F=he(r),K=m.getNode().getImmediateChild(A).updateChild(F,o);A===".priority"?g=C.updatePriority(m.getNode(),K):g=C.updateChild(m.getNode(),A,K,F,em,null)}const w=Kp(t,g,m.isFullyInitialized()||Z(r),C.filtersNodes()),k=new Lu(a,w,c);return tm(i,w,r,a,k,p)}function hu(i,t,r,o,a,c,f){const p=t.eventCache;let m,g;const C=new Lu(a,t,c);if(Z(r))g=i.filter.updateFullNode(t.eventCache.getNode(),o,f),m=Mi(t,g,!0,i.filter.filtersNodes());else{const w=ee(r);if(w===".priority")g=i.filter.updatePriority(t.eventCache.getNode(),o),m=Mi(t,g,p.isFullyInitialized(),p.isFiltered());else{const k=he(r),A=p.getNode().getImmediateChild(w);let F;if(Z(k))F=o;else{const H=C.getCompleteChild(w);H!=null?Lp(k)===".priority"&&H.getChild(zp(k)).isEmpty()?F=H:F=H.updateChild(k,o):F=G.EMPTY_NODE}if(A.equals(F))m=t;else{const H=i.filter.updateChild(p.getNode(),w,F,k,C,f);m=Mi(t,H,p.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function Uh(i,t){return i.eventCache.isCompleteForChild(t)}function rw(i,t,r,o,a,c,f){let p=t;return o.foreach((m,g)=>{const C=Pe(r,m);Uh(t,ee(C))&&(p=hu(i,p,C,g,a,c,f))}),o.foreach((m,g)=>{const C=Pe(r,m);Uh(t,ee(C))||(p=hu(i,p,C,g,a,c,f))}),p}function Bh(i,t,r){return r.foreach((o,a)=>{t=t.updateChild(o,a)}),t}function pu(i,t,r,o,a,c,f,p){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m=t,g;Z(r)?g=o:g=new ge(null).setTree(r,o);const C=t.serverCache.getNode();return g.children.inorderTraversal((w,k)=>{if(C.hasChild(w)){const A=t.serverCache.getNode().getImmediateChild(w),F=Bh(i,A,k);m=Po(i,m,new ue(w),F,a,c,f,p)}}),g.children.inorderTraversal((w,k)=>{const A=!t.serverCache.isCompleteForChild(w)&&k.value===null;if(!C.hasChild(w)&&!A){const F=t.serverCache.getNode().getImmediateChild(w),H=Bh(i,F,k);m=Po(i,m,new ue(w),H,a,c,f,p)}}),m}function iw(i,t,r,o,a,c,f){if(Ro(a,r)!=null)return t;const p=t.serverCache.isFiltered(),m=t.serverCache;if(o.value!=null){if(Z(r)&&m.isFullyInitialized()||m.isCompleteForPath(r))return Po(i,t,r,m.getNode().getChild(r),a,c,p,f);if(Z(r)){let g=new ge(null);return m.getNode().forEachChild(Or,(C,w)=>{g=g.set(new ue(C),w)}),pu(i,t,r,g,a,c,p,f)}else return t}else{let g=new ge(null);return o.foreach((C,w)=>{const k=Pe(r,C);m.isCompleteForPath(k)&&(g=g.set(C,m.getNode().getChild(k)))}),pu(i,t,r,g,a,c,p,f)}}function sw(i,t,r,o,a){const c=t.serverCache,f=Kp(t,c.getNode(),c.isFullyInitialized()||Z(r),c.isFiltered());return tm(i,f,r,o,em,a)}function ow(i,t,r,o,a,c){let f;if(Ro(o,r)!=null)return t;{const p=new Lu(o,t,a),m=t.eventCache.getNode();let g;if(Z(r)||ee(r)===".priority"){let C;if(t.serverCache.isFullyInitialized())C=xo(o,Zn(t));else{const w=t.serverCache.getNode();O(w instanceof G,"serverChildren would be complete if leaf node"),C=Au(o,w)}C=C,g=i.filter.updateFullNode(m,C,c)}else{const C=ee(r);let w=Mu(o,C,t.serverCache);w==null&&t.serverCache.isCompleteForChild(C)&&(w=m.getImmediateChild(C)),w!=null?g=i.filter.updateChild(m,C,w,he(r),p,c):t.eventCache.getNode().hasChild(C)?g=i.filter.updateChild(m,C,G.EMPTY_NODE,he(r),p,c):g=m,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=xo(o,Zn(t)),f.isLeafNode()&&(g=i.filter.updateFullNode(g,f,c)))}return f=t.serverCache.isFullyInitialized()||Ro(o,se())!=null,Mi(t,g,f,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(t,r){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,a=new Ru(o.getIndex()),c=T0(o);this.processor_=Z0(c);const f=r.serverCache,p=r.eventCache,m=a.updateFullNode(G.EMPTY_NODE,f.getNode(),null),g=c.updateFullNode(G.EMPTY_NODE,p.getNode(),null),C=new Dn(m,f.isFullyInitialized(),a.filtersNodes()),w=new Dn(g,p.isFullyInitialized(),c.filtersNodes());this.viewCache_=Fo(w,C),this.eventGenerator_=new A0(this.query_)}get query(){return this.query_}}function aw(i){return i.viewCache_.serverCache.getNode()}function uw(i){return No(i.viewCache_)}function cw(i,t){const r=Zn(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!Z(t)&&!r.getImmediateChild(ee(t)).isEmpty())?r.getChild(t):null}function Wh(i){return i.eventRegistrations_.length===0}function dw(i,t){i.eventRegistrations_.push(t)}function jh(i,t,r){const o=[];if(r){O(t==null,"A cancel should cancel all event registrations.");const a=i.query._path;i.eventRegistrations_.forEach(c=>{const f=c.createCancelEvent(r,a);f&&o.push(f)})}if(t){let a=[];for(let c=0;c<i.eventRegistrations_.length;++c){const f=i.eventRegistrations_[c];if(!f.matches(t))a.push(f);else if(t.hasAnyCallback()){a=a.concat(i.eventRegistrations_.slice(c+1));break}}i.eventRegistrations_=a}else i.eventRegistrations_=[];return o}function Hh(i,t,r,o){t.type===Mt.MERGE&&t.source.queryId!==null&&(O(Zn(i.viewCache_),"We should always have a full cache before handling merges"),O(No(i.viewCache_),"Missing event cache, even though we have a server cache"));const a=i.viewCache_,c=tw(i.processor_,a,t,r,o);return ew(i.processor_,c.viewCache),O(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=c.viewCache,nm(i,c.changes,c.viewCache.eventCache.getNode(),null)}function fw(i,t){const r=i.viewCache_.eventCache,o=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Se,(c,f)=>{o.push(Lr(c,f))}),r.isFullyInitialized()&&o.push($p(r.getNode())),nm(i,o,r.getNode(),t)}function nm(i,t,r,o){const a=o?[o]:i.eventRegistrations_;return M0(i.eventGenerator_,t,r,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do;class rm{constructor(){this.views=new Map}}function hw(i){O(!Do,"__referenceConstructor has already been defined"),Do=i}function pw(){return O(Do,"Reference.ts has not been loaded"),Do}function mw(i){return i.views.size===0}function Fu(i,t,r,o){const a=t.source.queryId;if(a!==null){const c=i.views.get(a);return O(c!=null,"SyncTree gave us an op for an invalid query."),Hh(c,t,r,o)}else{let c=[];for(const f of i.views.values())c=c.concat(Hh(f,t,r,o));return c}}function im(i,t,r,o,a){const c=t._queryIdentifier,f=i.views.get(c);if(!f){let p=xo(r,a?o:null),m=!1;p?m=!0:o instanceof G?(p=Au(r,o),m=!1):(p=G.EMPTY_NODE,m=!1);const g=Fo(new Dn(p,m,!1),new Dn(o,a,!1));return new lw(t,g)}return f}function gw(i,t,r,o,a,c){const f=im(i,t,o,a,c);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,f),dw(f,r),fw(f,r)}function _w(i,t,r,o){const a=t._queryIdentifier,c=[];let f=[];const p=On(i);if(a==="default")for(const[m,g]of i.views.entries())f=f.concat(jh(g,r,o)),Wh(g)&&(i.views.delete(m),g.query._queryParams.loadsAllData()||c.push(g.query));else{const m=i.views.get(a);m&&(f=f.concat(jh(m,r,o)),Wh(m)&&(i.views.delete(a),m.query._queryParams.loadsAllData()||c.push(m.query)))}return p&&!On(i)&&c.push(new(pw())(t._repo,t._path)),{removed:c,events:f}}function sm(i){const t=[];for(const r of i.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function Rn(i,t){let r=null;for(const o of i.views.values())r=r||cw(o,t);return r}function om(i,t){if(t._queryParams.loadsAllData())return Uo(i);{const o=t._queryIdentifier;return i.views.get(o)}}function lm(i,t){return om(i,t)!=null}function On(i){return Uo(i)!=null}function Uo(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo;function vw(i){O(!Oo,"__referenceConstructor has already been defined"),Oo=i}function yw(){return O(Oo,"Reference.ts has not been loaded"),Oo}let ww=1;class Vh{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ge(null),this.pendingWriteTree_=Y0(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function am(i,t,r,o,a){return U0(i.pendingWriteTree_,t,r,o,a),a?es(i,new Jn(Qp(),t,r)):[]}function qn(i,t,r=!1){const o=B0(i.pendingWriteTree_,t);if(W0(i.pendingWriteTree_,t)){let c=new ge(null);return o.snap!=null?c=c.set(se(),!0):at(o.children,f=>{c=c.set(new ue(f),!0)}),es(i,new To(o.path,c,r))}else return[]}function Zi(i,t,r){return es(i,new Jn(Du(),t,r))}function Ew(i,t,r){const o=ge.fromObject(r);return es(i,new $i(Du(),t,o))}function Cw(i,t){return es(i,new bi(Du(),t))}function Sw(i,t,r){const o=Uu(i,r);if(o){const a=Bu(o),c=a.path,f=a.queryId,p=Xe(c,t),m=new bi(Ou(f),p);return Wu(i,c,m)}else return[]}function um(i,t,r,o,a=!1){const c=t._path,f=i.syncPointTree_.get(c);let p=[];if(f&&(t._queryIdentifier==="default"||lm(f,t))){const m=_w(f,t,r,o);mw(f)&&(i.syncPointTree_=i.syncPointTree_.remove(c));const g=m.removed;if(p=m.events,!a){const C=g.findIndex(k=>k._queryParams.loadsAllData())!==-1,w=i.syncPointTree_.findOnPath(c,(k,A)=>On(A));if(C&&!w){const k=i.syncPointTree_.subtree(c);if(!k.isEmpty()){const A=Nw(k);for(let F=0;F<A.length;++F){const H=A[F],K=H.query,We=hm(i,H);i.listenProvider_.startListening(Fi(K),Gi(i,K),We.hashFn,We.onComplete)}}}!w&&g.length>0&&!o&&(C?i.listenProvider_.stopListening(Fi(t),null):g.forEach(k=>{const A=i.queryToTagMap.get(Bo(k));i.listenProvider_.stopListening(Fi(k),A)}))}xw(i,g)}return p}function cm(i,t,r,o){const a=Uu(i,o);if(a!=null){const c=Bu(a),f=c.path,p=c.queryId,m=Xe(f,t),g=new Jn(Ou(p),m,r);return Wu(i,f,g)}else return[]}function kw(i,t,r,o){const a=Uu(i,o);if(a){const c=Bu(a),f=c.path,p=c.queryId,m=Xe(f,t),g=ge.fromObject(r),C=new $i(Ou(p),m,g);return Wu(i,f,C)}else return[]}function Iw(i,t,r,o=!1){const a=t._path;let c=null,f=!1;i.syncPointTree_.foreachOnPath(a,(k,A)=>{const F=Xe(k,a);c=c||Rn(A,F),f=f||On(A)});let p=i.syncPointTree_.get(a);p?(f=f||On(p),c=c||Rn(p,se())):(p=new rm,i.syncPointTree_=i.syncPointTree_.set(a,p));let m;c!=null?m=!0:(m=!1,c=G.EMPTY_NODE,i.syncPointTree_.subtree(a).foreachChild((A,F)=>{const H=Rn(F,se());H&&(c=c.updateImmediateChild(A,H))}));const g=lm(p,t);if(!g&&!t._queryParams.loadsAllData()){const k=Bo(t);O(!i.queryToTagMap.has(k),"View does not exist, but we have a tag");const A=Rw();i.queryToTagMap.set(k,A),i.tagToQueryMap.set(A,k)}const C=zo(i.pendingWriteTree_,a);let w=gw(p,t,r,C,c,m);if(!g&&!f&&!o){const k=om(p,t);w=w.concat(Pw(i,t,k))}return w}function zu(i,t,r){const a=i.pendingWriteTree_,c=i.syncPointTree_.findOnPath(t,(f,p)=>{const m=Xe(f,t),g=Rn(p,m);if(g)return g});return Xp(a,t,c,r,!0)}function Tw(i,t){const r=t._path;let o=null;i.syncPointTree_.foreachOnPath(r,(g,C)=>{const w=Xe(g,r);o=o||Rn(C,w)});let a=i.syncPointTree_.get(r);a?o=o||Rn(a,se()):(a=new rm,i.syncPointTree_=i.syncPointTree_.set(r,a));const c=o!=null,f=c?new Dn(o,!0,!1):null,p=zo(i.pendingWriteTree_,t._path),m=im(a,t,p,c?f.getNode():G.EMPTY_NODE,c);return uw(m)}function es(i,t){return dm(t,i.syncPointTree_,null,zo(i.pendingWriteTree_,se()))}function dm(i,t,r,o){if(Z(i.path))return fm(i,t,r,o);{const a=t.get(se());r==null&&a!=null&&(r=Rn(a,se()));let c=[];const f=ee(i.path),p=i.operationForChild(f),m=t.children.get(f);if(m&&p){const g=r?r.getImmediateChild(f):null,C=Jp(o,f);c=c.concat(dm(p,m,g,C))}return a&&(c=c.concat(Fu(a,i,o,r))),c}}function fm(i,t,r,o){const a=t.get(se());r==null&&a!=null&&(r=Rn(a,se()));let c=[];return t.children.inorderTraversal((f,p)=>{const m=r?r.getImmediateChild(f):null,g=Jp(o,f),C=i.operationForChild(f);C&&(c=c.concat(fm(C,p,m,g)))}),a&&(c=c.concat(Fu(a,i,o,r))),c}function hm(i,t){const r=t.query,o=Gi(i,r);return{hashFn:()=>(aw(t)||G.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return o?Sw(i,r._path,o):Cw(i,r._path);{const c=Iy(a,r);return um(i,r,null,c)}}}}function Gi(i,t){const r=Bo(t);return i.queryToTagMap.get(r)}function Bo(i){return i._path.toString()+"$"+i._queryIdentifier}function Uu(i,t){return i.tagToQueryMap.get(t)}function Bu(i){const t=i.indexOf("$");return O(t!==-1&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new ue(i.substr(0,t))}}function Wu(i,t,r){const o=i.syncPointTree_.get(t);O(o,"Missing sync point for query tag that we're tracking");const a=zo(i.pendingWriteTree_,t);return Fu(o,r,a,null)}function Nw(i){return i.fold((t,r,o)=>{if(r&&On(r))return[Uo(r)];{let a=[];return r&&(a=sm(r)),at(o,(c,f)=>{a=a.concat(f)}),a}})}function Fi(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(yw())(i._repo,i._path):i}function xw(i,t){for(let r=0;r<t.length;++r){const o=t[r];if(!o._queryParams.loadsAllData()){const a=Bo(o),c=i.queryToTagMap.get(a);i.queryToTagMap.delete(a),i.tagToQueryMap.delete(c)}}}function Rw(){return ww++}function Pw(i,t,r){const o=t._path,a=Gi(i,t),c=hm(i,r),f=i.listenProvider_.startListening(Fi(t),a,c.hashFn,c.onComplete),p=i.syncPointTree_.subtree(o);if(a)O(!On(p.value),"If we're adding a query, it shouldn't be shadowed");else{const m=p.fold((g,C,w)=>{if(!Z(g)&&C&&On(C))return[Uo(C).query];{let k=[];return C&&(k=k.concat(sm(C).map(A=>A.query))),at(w,(A,F)=>{k=k.concat(F)}),k}});for(let g=0;g<m.length;++g){const C=m[g];i.listenProvider_.stopListening(Fi(C),Gi(i,C))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new ju(r)}node(){return this.node_}}class Hu{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=Pe(this.path_,t);return new Hu(this.syncTree_,r)}node(){return zu(this.syncTree_,this.path_)}}const Dw=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},bh=function(i,t,r){if(!i||typeof i!="object")return i;if(O(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return Ow(i[".sv"],t,r);if(typeof i[".sv"]=="object")return Aw(i[".sv"],t);O(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},Ow=function(i,t,r){switch(i){case"timestamp":return r.timestamp;default:O(!1,"Unexpected server value: "+i)}},Aw=function(i,t,r){i.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;typeof o!="number"&&O(!1,"Unexpected increment value: "+o);const a=t.node();if(O(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return o;const f=a.getValue();return typeof f!="number"?o:f+o},Mw=function(i,t,r,o){return Vu(t,new Hu(r,i),o)},pm=function(i,t,r){return Vu(i,new ju(t),r)};function Vu(i,t,r){const o=i.getPriority().val(),a=bh(o,t.getImmediateChild(".priority"),r);let c;if(i.isLeafNode()){const f=i,p=bh(f.getValue(),t,r);return p!==f.getValue()||a!==f.getPriority().val()?new Le(p,ze(a)):i}else{const f=i;return c=f,a!==f.getPriority().val()&&(c=c.updatePriority(new Le(a))),f.forEachChild(Se,(p,m)=>{const g=Vu(m,t.getImmediateChild(p),r);g!==m&&(c=c.updateImmediateChild(p,g))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(t="",r=null,o={children:{},childCount:0}){this.name=t,this.parent=r,this.node=o}}function $u(i,t){let r=t instanceof ue?t:new ue(t),o=i,a=ee(r);for(;a!==null;){const c=Ar(o.node.children,a)||{children:{},childCount:0};o=new bu(a,o,c),r=he(r),a=ee(r)}return o}function jr(i){return i.node.value}function mm(i,t){i.node.value=t,mu(i)}function gm(i){return i.node.childCount>0}function Lw(i){return jr(i)===void 0&&!gm(i)}function Wo(i,t){at(i.node.children,(r,o)=>{t(new bu(r,i,o))})}function _m(i,t,r,o){r&&!o&&t(i),Wo(i,a=>{_m(a,t,!0,o)}),r&&o&&t(i)}function Fw(i,t,r){let o=i.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function ts(i){return new ue(i.parent===null?i.name:ts(i.parent)+"/"+i.name)}function mu(i){i.parent!==null&&zw(i.parent,i.name,i)}function zw(i,t,r){const o=Lw(r),a=rn(i.node.children,t);o&&a?(delete i.node.children[t],i.node.childCount--,mu(i)):!o&&!a&&(i.node.children[t]=r.node,i.node.childCount++,mu(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=/[\[\].#$\/\u0000-\u001F\u007F]/,Bw=/[\[\].#$\u0000-\u001F\u007F]/,Xa=10*1024*1024,vm=function(i){return typeof i=="string"&&i.length!==0&&!Uw.test(i)},ym=function(i){return typeof i=="string"&&i.length!==0&&!Bw.test(i)},Ww=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),ym(i)},jw=function(i,t,r,o){Gu(Eu(i,"value"),t,r)},Gu=function(i,t,r){const o=r instanceof ue?new i0(r,i):r;if(t===void 0)throw new Error(i+"contains undefined "+Kn(o));if(typeof t=="function")throw new Error(i+"contains a function "+Kn(o)+" with contents = "+t.toString());if(pp(t))throw new Error(i+"contains "+t.toString()+" "+Kn(o));if(typeof t=="string"&&t.length>Xa/3&&Mo(t)>Xa)throw new Error(i+"contains a string greater than "+Xa+" utf8 bytes "+Kn(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let a=!1,c=!1;if(at(t,(f,p)=>{if(f===".value")a=!0;else if(f!==".priority"&&f!==".sv"&&(c=!0,!vm(f)))throw new Error(i+" contains an invalid key ("+f+") "+Kn(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);s0(o,f),Gu(i,p,o),o0(o)}),a&&c)throw new Error(i+' contains ".value" child '+Kn(o)+" in addition to actual children.")}},wm=function(i,t,r,o){if(!ym(r))throw new Error(Eu(i,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Hw=function(i,t,r,o){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),wm(i,t,r)},Em=function(i,t){if(ee(t)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},Vw=function(i,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!vm(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!Ww(r))throw new Error(Eu(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Cm(i,t){let r=null;for(let o=0;o<t.length;o++){const a=t[o],c=a.getPath();r!==null&&!Up(c,r.path)&&(i.eventLists_.push(r),r=null),r===null&&(r={events:[],path:c}),r.events.push(a)}r&&i.eventLists_.push(r)}function Vt(i,t,r){Cm(i,r),$w(i,o=>At(o,t)||At(t,o))}function $w(i,t){i.recursionDepth_++;let r=!0;for(let o=0;o<i.eventLists_.length;o++){const a=i.eventLists_[o];if(a){const c=a.path;t(c)?(Gw(i.eventLists_[o]),i.eventLists_[o]=null):r=!1}}r&&(i.eventLists_=[]),i.recursionDepth_--}function Gw(i){for(let t=0;t<i.events.length;t++){const r=i.events[t];if(r!==null){i.events[t]=null;const o=r.getEventRunner();Oi&&$e("event: "+r.toString()),Wr(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="repo_interrupt",Kw=25;class Yw{constructor(t,r,o,a){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=o,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Io(),this.transactionQueueTree_=new bu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function qw(i,t,r){if(i.stats_=Iu(i.repoInfo_),i.forceRestClient_||Ry())i.server_=new ko(i.repoInfo_,(o,a,c,f)=>{$h(i,o,a,c,f)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>Gh(i,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Re(r)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new en(i.repoInfo_,t,(o,a,c,f)=>{$h(i,o,a,c,f)},o=>{Gh(i,o)},o=>{Jw(i,o)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=My(i.repoInfo_,()=>new O0(i.stats_,i.server_)),i.infoData_=new N0,i.infoSyncTree_=new Vh({startListening:(o,a,c,f)=>{let p=[];const m=i.infoData_.getNode(o._path);return m.isEmpty()||(p=Zi(i.infoSyncTree_,o._path,m),setTimeout(()=>{f("ok")},0)),p},stopListening:()=>{}}),Ku(i,"connected",!1),i.serverSyncTree_=new Vh({startListening:(o,a,c,f)=>(i.server_.listen(o,c,a,(p,m)=>{const g=f(p,m);Vt(i.eventQueue_,o._path,g)}),[]),stopListening:(o,a)=>{i.server_.unlisten(o,a)}})}function Xw(i){const r=i.infoData_.getNode(new ue(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function Qu(i){return Dw({timestamp:Xw(i)})}function $h(i,t,r,o,a){i.dataUpdateCount++;const c=new ue(t);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,r):r;let f=[];if(a)if(o){const m=vo(r,g=>ze(g));f=kw(i.serverSyncTree_,c,m,a)}else{const m=ze(r);f=cm(i.serverSyncTree_,c,m,a)}else if(o){const m=vo(r,g=>ze(g));f=Ew(i.serverSyncTree_,c,m)}else{const m=ze(r);f=Zi(i.serverSyncTree_,c,m)}let p=c;f.length>0&&(p=Ho(i,c)),Vt(i.eventQueue_,p,f)}function Gh(i,t){Ku(i,"connected",t),t===!1&&tE(i)}function Jw(i,t){at(t,(r,o)=>{Ku(i,r,o)})}function Ku(i,t,r){const o=new ue("/.info/"+t),a=ze(r);i.infoData_.updateSnapshot(o,a);const c=Zi(i.infoSyncTree_,o,a);Vt(i.eventQueue_,o,c)}function Sm(i){return i.nextWriteId_++}function Zw(i,t,r){const o=Tw(i.serverSyncTree_,t);return o!=null?Promise.resolve(o):i.server_.get(t).then(a=>{const c=ze(a).withIndex(t._queryParams.getIndex());Iw(i.serverSyncTree_,t,r,!0);let f;if(t._queryParams.loadsAllData())f=Zi(i.serverSyncTree_,t._path,c);else{const p=Gi(i.serverSyncTree_,t);f=cm(i.serverSyncTree_,t._path,c,p)}return Vt(i.eventQueue_,t._path,f),um(i.serverSyncTree_,t,r,null,!0),c},a=>(jo(i,"get for query "+Re(t)+" failed: "+a),Promise.reject(new Error(a))))}function eE(i,t,r,o,a){jo(i,"set",{path:t.toString(),value:r,priority:o});const c=Qu(i),f=ze(r,o),p=zu(i.serverSyncTree_,t),m=pm(f,p,c),g=Sm(i),C=am(i.serverSyncTree_,t,m,g,!0);Cm(i.eventQueue_,C),i.server_.put(t.toString(),f.val(!0),(k,A)=>{const F=k==="ok";F||lt("set at "+t+" failed: "+k);const H=qn(i.serverSyncTree_,g,!F);Vt(i.eventQueue_,t,H),rE(i,a,k,A)});const w=xm(i,t);Ho(i,w),Vt(i.eventQueue_,w,[])}function tE(i){jo(i,"onDisconnectEvents");const t=Qu(i),r=Io();cu(i.onDisconnect_,se(),(a,c)=>{const f=Mw(a,c,i.serverSyncTree_,t);Gp(r,a,f)});let o=[];cu(r,se(),(a,c)=>{o=o.concat(Zi(i.serverSyncTree_,a,c));const f=xm(i,a);Ho(i,f)}),i.onDisconnect_=Io(),Vt(i.eventQueue_,se(),o)}function nE(i){i.persistentConnection_&&i.persistentConnection_.interrupt(Qw)}function jo(i,...t){let r="";i.persistentConnection_&&(r=i.persistentConnection_.id+":"),$e(r,...t)}function rE(i,t,r,o){t&&Wr(()=>{if(r==="ok")t(null);else{const a=(r||"error").toUpperCase();let c=a;o&&(c+=": "+o);const f=new Error(c);f.code=a,t(f)}})}function km(i,t,r){return zu(i.serverSyncTree_,t,r)||G.EMPTY_NODE}function Yu(i,t=i.transactionQueueTree_){if(t||Vo(i,t),jr(t)){const r=Tm(i,t);O(r.length>0,"Sending zero length transaction queue"),r.every(a=>a.status===0)&&iE(i,ts(t),r)}else gm(t)&&Wo(t,r=>{Yu(i,r)})}function iE(i,t,r){const o=r.map(g=>g.currentWriteId),a=km(i,t,o);let c=a;const f=a.hash();for(let g=0;g<r.length;g++){const C=r[g];O(C.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),C.status=1,C.retryCount++;const w=Xe(t,C.path);c=c.updateChild(w,C.currentOutputSnapshotRaw)}const p=c.val(!0),m=t;i.server_.put(m.toString(),p,g=>{jo(i,"transaction put response",{path:m.toString(),status:g});let C=[];if(g==="ok"){const w=[];for(let k=0;k<r.length;k++)r[k].status=2,C=C.concat(qn(i.serverSyncTree_,r[k].currentWriteId)),r[k].onComplete&&w.push(()=>r[k].onComplete(null,!0,r[k].currentOutputSnapshotResolved)),r[k].unwatcher();Vo(i,$u(i.transactionQueueTree_,t)),Yu(i,i.transactionQueueTree_),Vt(i.eventQueue_,t,C);for(let k=0;k<w.length;k++)Wr(w[k])}else{if(g==="datastale")for(let w=0;w<r.length;w++)r[w].status===3?r[w].status=4:r[w].status=0;else{lt("transaction at "+m.toString()+" failed: "+g);for(let w=0;w<r.length;w++)r[w].status=4,r[w].abortReason=g}Ho(i,t)}},f)}function Ho(i,t){const r=Im(i,t),o=ts(r),a=Tm(i,r);return sE(i,a,o),o}function sE(i,t,r){if(t.length===0)return;const o=[];let a=[];const f=t.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<t.length;p++){const m=t[p],g=Xe(r,m.path);let C=!1,w;if(O(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)C=!0,w=m.abortReason,a=a.concat(qn(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=Kw)C=!0,w="maxretry",a=a.concat(qn(i.serverSyncTree_,m.currentWriteId,!0));else{const k=km(i,m.path,f);m.currentInputSnapshot=k;const A=t[p].update(k.val());if(A!==void 0){Gu("transaction failed: Data returned ",A,m.path);let F=ze(A);typeof A=="object"&&A!=null&&rn(A,".priority")||(F=F.updatePriority(k.getPriority()));const K=m.currentWriteId,We=Qu(i),Ge=pm(F,k,We);m.currentOutputSnapshotRaw=F,m.currentOutputSnapshotResolved=Ge,m.currentWriteId=Sm(i),f.splice(f.indexOf(K),1),a=a.concat(am(i.serverSyncTree_,m.path,Ge,m.currentWriteId,m.applyLocally)),a=a.concat(qn(i.serverSyncTree_,K,!0))}else C=!0,w="nodata",a=a.concat(qn(i.serverSyncTree_,m.currentWriteId,!0))}Vt(i.eventQueue_,r,a),a=[],C&&(t[p].status=2,function(k){setTimeout(k,Math.floor(0))}(t[p].unwatcher),t[p].onComplete&&(w==="nodata"?o.push(()=>t[p].onComplete(null,!1,t[p].currentInputSnapshot)):o.push(()=>t[p].onComplete(new Error(w),!1,null))))}Vo(i,i.transactionQueueTree_);for(let p=0;p<o.length;p++)Wr(o[p]);Yu(i,i.transactionQueueTree_)}function Im(i,t){let r,o=i.transactionQueueTree_;for(r=ee(t);r!==null&&jr(o)===void 0;)o=$u(o,r),t=he(t),r=ee(t);return o}function Tm(i,t){const r=[];return Nm(i,t,r),r.sort((o,a)=>o.order-a.order),r}function Nm(i,t,r){const o=jr(t);if(o)for(let a=0;a<o.length;a++)r.push(o[a]);Wo(t,a=>{Nm(i,a,r)})}function Vo(i,t){const r=jr(t);if(r){let o=0;for(let a=0;a<r.length;a++)r[a].status!==2&&(r[o]=r[a],o++);r.length=o,mm(t,r.length>0?r:void 0)}Wo(t,o=>{Vo(i,o)})}function xm(i,t){const r=ts(Im(i,t)),o=$u(i.transactionQueueTree_,t);return Fw(o,a=>{Ja(i,a)}),Ja(i,o),_m(o,a=>{Ja(i,a)}),r}function Ja(i,t){const r=jr(t);if(r){const o=[];let a=[],c=-1;for(let f=0;f<r.length;f++)r[f].status===3||(r[f].status===1?(O(c===f-1,"All SENT items should be at beginning of queue."),c=f,r[f].status=3,r[f].abortReason="set"):(O(r[f].status===0,"Unexpected transaction status in abort"),r[f].unwatcher(),a=a.concat(qn(i.serverSyncTree_,r[f].currentWriteId,!0)),r[f].onComplete&&o.push(r[f].onComplete.bind(null,new Error("set"),!1,null))));c===-1?mm(t,void 0):r.length=c+1,Vt(i.eventQueue_,ts(t),a);for(let f=0;f<o.length;f++)Wr(o[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(i){let t="";const r=i.split("/");for(let o=0;o<r.length;o++)if(r[o].length>0){let a=r[o];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}function lE(i){const t={};i.charAt(0)==="?"&&(i=i.substring(1));for(const r of i.split("&")){if(r.length===0)continue;const o=r.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):lt(`Invalid query segment '${r}' in query '${i}'`)}return t}const Qh=function(i,t){const r=aE(i),o=r.namespace;r.domain==="firebase.com"&&nn(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&r.domain!=="localhost"&&nn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||wy();const a=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new Tp(r.host,r.secure,o,a,t,"",o!==r.subdomain),path:new ue(r.pathString)}},aE=function(i){let t="",r="",o="",a="",c="",f=!0,p="https",m=443;if(typeof i=="string"){let g=i.indexOf("//");g>=0&&(p=i.substring(0,g-1),i=i.substring(g+2));let C=i.indexOf("/");C===-1&&(C=i.length);let w=i.indexOf("?");w===-1&&(w=i.length),t=i.substring(0,Math.min(C,w)),C<w&&(a=oE(i.substring(C,w)));const k=lE(i.substring(Math.min(i.length,w)));g=t.indexOf(":"),g>=0?(f=p==="https"||p==="wss",m=parseInt(t.substring(g+1),10)):g=t.length;const A=t.slice(0,g);if(A.toLowerCase()==="localhost")r="localhost";else if(A.split(".").length<=2)r=A;else{const F=t.indexOf(".");o=t.substring(0,F).toLowerCase(),r=t.substring(F+1),c=o}"ns"in k&&(c=k.ns)}return{host:t,port:m,domain:r,subdomain:o,secure:f,scheme:p,pathString:a,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(t,r,o,a){this.eventType=t,this.eventRegistration=r,this.snapshot=o,this.prevName=a}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Re(this.snapshot.exportVal())}}class cE{constructor(t,r,o){this.eventRegistration=t,this.error=r,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(t,r){this.snapshotCallback=t,this.cancelCallback=r}onValue(t,r){this.snapshotCallback.call(null,t,r)}onCancel(t){return O(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(t,r,o,a){this._repo=t,this._path=r,this._queryParams=o,this._orderByCalled=a}get key(){return Z(this._path)?null:Lp(this._path)}get ref(){return new sn(this._repo,this._path)}get _queryIdentifier(){const t=Oh(this._queryParams),r=Su(t);return r==="{}"?"default":r}get _queryObject(){return Oh(this._queryParams)}isEqual(t){if(t=Ur(t),!(t instanceof qu))return!1;const r=this._repo===t._repo,o=Up(this._path,t._path),a=this._queryIdentifier===t._queryIdentifier;return r&&o&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+r0(this._path)}}class sn extends qu{constructor(t,r){super(t,r,new Pu,!1)}get parent(){const t=zp(this._path);return t===null?null:new sn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Qi{constructor(t,r,o){this._node=t,this.ref=r,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const r=new ue(t),o=Ki(this.ref,t);return new Qi(this._node.getChild(r),o,Se)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,a)=>t(new Qi(a,Ki(this.ref,o),Se)))}hasChild(t){const r=new ue(t);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function xr(i,t){return i=Ur(i),i._checkNotDeleted("ref"),t!==void 0?Ki(i._root,t):i._root}function Ki(i,t){return i=Ur(i),ee(i._path)===null?Hw("child","path",t):wm("child","path",t),new sn(i._repo,Pe(i._path,t))}function Kh(i){return Em("remove",i._path),Xu(i,null)}function Xu(i,t){i=Ur(i),Em("set",i._path),jw("set",t,i._path);const r=new Ao;return eE(i._repo,i._path,t,null,r.wrapCallback(()=>{})),r.promise}function Rm(i){i=Ur(i);const t=new dE(()=>{}),r=new Ju(t);return Zw(i._repo,i,r).then(o=>new Qi(o,new sn(i._repo,i._path),i._queryParams.getIndex()))}class Ju{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,r){const o=r._queryParams.getIndex();return new uE("value",this,new Qi(t.snapshotNode,new sn(r._repo,r._path),o))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,r){return this.callbackContext.hasCancelCallback?new cE(this,t,r):null}matches(t){return t instanceof Ju?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}hw(sn);vw(sn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="FIREBASE_DATABASE_EMULATOR_HOST",gu={};let hE=!1;function pE(i,t,r,o){i.repoInfo_=new Tp(`${t}:${r}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),o&&(i.authTokenProvider_=o)}function mE(i,t,r,o,a){let c=o||i.options.databaseURL;c===void 0&&(i.options.projectId||nn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),$e("Using default host for project ",i.options.projectId),c=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f=Qh(c,a),p=f.repoInfo,m;typeof process<"u"&&ph&&(m=ph[fE]),m?(c=`http://${m}?ns=${p.namespace}`,f=Qh(c,a),p=f.repoInfo):f.repoInfo.secure;const g=new Dy(i.name,i.options,t);Vw("Invalid Firebase Database URL",f),Z(f.path)||nn("Database URL must point to the root of a Firebase Database (not including a child path).");const C=_E(p,i,g,new Py(i.name,r));return new vE(C,i)}function gE(i,t){const r=gu[t];(!r||r[i.key]!==i)&&nn(`Database ${t}(${i.repoInfo_}) has already been deleted.`),nE(i),delete r[i.key]}function _E(i,t,r,o){let a=gu[t.name];a||(a={},gu[t.name]=a);let c=a[i.toURLString()];return c&&nn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new Yw(i,hE,r,o),a[i.toURLString()]=c,c}class vE{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(qw(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new sn(this._repo,se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(gE(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&nn("Cannot call "+t+" on a deleted database.")}}function yE(i=iy(),t){const r=ey(i,"database").getImmediate({identifier:t});if(!r._instanceStarted){const o=b_("database");o&&wE(r,...o)}return r}function wE(i,t,r,o={}){i=Ur(i),i._checkNotDeleted("useEmulator"),i._instanceStarted&&nn("Cannot call useEmulator() after instance has already been initialized.");const a=i._repoInternal;let c;if(a.repoInfo_.nodeAdmin)o.mockUserToken&&nn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new go(go.OWNER);else if(o.mockUserToken){const f=typeof o.mockUserToken=="string"?o.mockUserToken:$_(o.mockUserToken,i.app.options.projectId);c=new go(f)}pE(a,t,r,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(i){py(ry),wo(new Ui("database",(t,{instanceIdentifier:r})=>{const o=t.getProvider("app").getImmediate(),a=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return mE(o,a,c,r)},"PUBLIC").setMultipleInstances(!0)),Pr(mh,gh,i),Pr(mh,gh,"esm2017")}en.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)};en.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)};EE();var CE="firebase",SE="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr(CE,SE,"app");const kE={apiKey:void 0,authDomain:"bodik-75ffc.firebaseapp.com",databaseURL:"https://bodik-75ffc-default-rtdb.europe-west1.firebasedatabase.app",projectId:"bodik-75ffc",storageBucket:"bodik-75ffc.appspot.com",messagingSenderId:"904451021821",appId:"1:904451021821:web:b1b6606a4d38a6c1941794"},IE=ap(kE),Rr=yE(IE),Za="/vite-pwa-firebase-sync/items/",_u="/vite-pwa-firebase-sync/users/";function TE({saveUser:i,setLoading:t,setSuccess:r,setError:o}){const[a,c]=Ct.useState(""),[f,p]=Ct.useState(""),m=g=>{g.preventDefault(),r(""),o(""),t(!0);const C={name:a.trim(),password:f.trim()};if(a.trim()&&f.trim()){const w=xr(Rr);Rm(Ki(w,`${_u}/${C.name}`)).then(k=>{const A=k.val()&&k.val().name,F=k.val()&&k.val().password;if(A)if(C.password===F)t(!1),i(C),r("");else{t(!1),o(" ");return}else Xu(xr(Rr,_u+a.trim()),C).then(()=>{r("  "),i(C),t(!1)}).catch(()=>{o(""),t(!1)});t(!1)}).catch(k=>{console.error(k),o(k),t(!1)})}else{t(!1),o("  ");return}};return oe.jsxs("form",{className:"mt-4 w-full flex flex-col",onSubmit:m,children:[oe.jsx("input",{value:a,onChange:g=>c(g.target.value),placeholder:"",autoComplete:"off",className:"w-full p-2 text-center border-b border-[#6B6B6B] bg-[#1F1F1F] rounded-t-md",spellCheck:"false",autoFocus:!0}),oe.jsx("input",{value:f,onChange:g=>p(g.target.value),placeholder:"",autoComplete:"off",className:"w-full p-2 text-center border-b border-[#6B6B6B] bg-[#1F1F1F] rounded-b-md",spellCheck:"false"}),oe.jsx("button",{type:"submit",disabled:!a||!f,className:"w-full p-2 mt-4 bg-[#76B9ED] rounded-md text-black",children:""})]})}function NE({user:i,setLoading:t,setSuccess:r,setError:o}){const[a,c]=yu("items",[{id:"1",title:"Example"}]),f=()=>{localStorage.clear(),window.location.reload()},p=()=>{r(""),o(""),t(!0);try{i&&(Xu(xr(Rr,Za+i.name),{items:a}).then(()=>{t(!1)}),r(""))}catch(C){console.log(C),o("Error. Try later")}},m=()=>{if(confirm("?    !")===!0){r(""),o(""),t(!0);try{if(i){const C=xr(Rr);Rm(Ki(C,`${Za}/${i.name}`)).then(w=>{if(w.exists()){const k=w.val();k.items&&c(k.items),r(""),window.location.reload()}else o("No data available");t(!1)}).catch(w=>{console.error(w),o(w)})}}catch(C){console.log(C),o("Error. Try later")}}},g=()=>{r(""),o(""),t(!0),i&&(confirm("?")===!0?(Kh(xr(Rr,Za+i.name)).then(()=>{t(!1)}).catch(C=>{console.error("Error removing item:",C),t(!1),o(C)}),Kh(xr(Rr,_u+i.name)).then(()=>{t(!1)}).catch(C=>{console.error("Error removing item:",C),t(!1),o(C)}),f()):t(!1))};return oe.jsxs("div",{className:"mt-4 w-full flex flex-col justify-center gap-2",children:[oe.jsxs("div",{className:"flex gap-2",children:[oe.jsx("button",{onClick:g,className:"w-full p-2 bg-red-400 rounded-md text-black",children:" "}),oe.jsx("button",{onClick:f,className:"w-full p-2 bg-[#3E3E3E] border border-[#3F3F3F] rounded-md",children:""})]}),oe.jsx("button",{onClick:m,className:"p-2 bg-[#3E3E3E] border border-[#3F3F3F] rounded-md",children:""}),oe.jsx("button",{onClick:p,className:"p-2 bg-[#76B9ED] rounded-md text-black",children:"  "})]})}function xE(){const[i,t]=Ct.useState(!1),[r,o]=Ct.useState(""),[a,c]=Ct.useState(""),[f,p]=yu("user",null),[m,g]=Ct.useState(!1);return oe.jsxs(oe.Fragment,{children:[oe.jsx("p",{className:"w-full text-center",children:f?f.name:" "}),f?oe.jsx(NE,{user:f,setLoading:t,setSuccess:o,setError:c}):oe.jsx(oe.Fragment,{children:m?oe.jsx(TE,{saveUser:p,setLoading:t,setSuccess:o,setError:c}):oe.jsx(oe.Fragment,{children:oe.jsx("button",{onClick:()=>g(!0),className:"w-full p-2 mt-4 bg-[#76B9ED] rounded-md text-black",children:""})})}),i&&oe.jsx("div",{className:"mt-4",children:"Loading..."}),r&&oe.jsx("div",{className:"mt-4",children:r}),a&&oe.jsx("div",{className:"mt-4 text-red-500",children:a})]})}function RE({isOpen:i,onClose:t,modalStyles:r="",content:o}){return Ct.useEffect(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[i]),i?oe.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",onClick:t,children:oe.jsx("div",{className:`${r}`,onClick:a=>a.stopPropagation(),children:o})}):null}function PE(){const[i,t]=Ct.useState(navigator.onLine),[r]=Ct.useState(!1);return Ct.useEffect(()=>{const o=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",o),window.addEventListener("offline",a),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",a)}},[r]),i}function DE({}){const i=PE(),[t]=yu("items",[{id:"1",title:"Example"}]),[r,o]=Ct.useState(!1),a=()=>{o(!1)};return oe.jsxs("main",{className:"max-w-md mx-auto p-4",children:[oe.jsx("button",{onClick:()=>o(!r),className:"bg-[#282828] border border-[#3F3F3F] rounded-md px-5 py-1",children:i?"Sync":"No connection"}),oe.jsx(RE,{isOpen:r,onClose:a,modalStyles:"max-w-sm w-full p-4 bg-[#282828] border border-[#3F3F3F] rounded-md relative shadow-xl",content:oe.jsx(xE,{})}),t.map(c=>oe.jsx("div",{className:"mt-4",children:c.title},c.id))]})}M_.createRoot(document.getElementById("root")).render(oe.jsx(DE,{}));
